"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[274],{7114:($,I,d)=>{d.d(I,{t:()=>g});var a=d(5879),k=d(6223),x=d(6814);function Z(f,b){if(1&f&&(a.TgZ(0,"div",3),a._uU(1),a.qZA()),2&f){const c=a.oxw();a.xp6(1),a.hij(" Please enter a ",c.label," ")}}function u(f,b){if(1&f&&(a.TgZ(0,"div",3),a._uU(1),a.qZA()),2&f){const c=a.oxw();a.xp6(1),a.AsE(" ",c.label," must be at least ",null==c.control.errors?null:c.control.errors.minlength.requiredLength," characters ")}}function C(f,b){if(1&f&&(a.TgZ(0,"div",3),a._uU(1),a.qZA()),2&f){const c=a.oxw();a.xp6(1),a.AsE(" ",c.label," must be at most ",null==c.control.errors?null:c.control.errors.maxlength.requiredLength," characters ")}}function y(f,b){if(1&f&&(a.TgZ(0,"div",3),a._uU(1),a.qZA()),2&f){const c=a.oxw();a.xp6(1),a.hij(" ",c.label," do not match ")}}let g=(()=>{class f{constructor(c){this.ngControl=c,this.label="",this.type="text",this.width="",this.ngControl.valueAccessor=this}writeValue(c){}registerOnChange(c){}registerOnTouched(c){}get control(){return this.ngControl.control}static#e=this.\u0275fac=function(h){return new(h||f)(a.Y36(k.a5,2))};static#t=this.\u0275cmp=a.Xpm({type:f,selectors:[["app-text-input"]],inputs:{label:"label",type:"type",width:"width"},decls:6,vars:10,consts:[[1,"mb-3",2,"vertical-align","top"],[1,"form-control",2,"font-size","small","word-wrap","normal","height","auto","margin-top","0px","margin-bottom","0px","padding-top","0px","padding-bottom","0px","background-color","darkgrey",3,"type","width","formControl","placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(h,m){1&h&&(a.TgZ(0,"div",0),a._UZ(1,"input",1),a.YNc(2,Z,2,1,"div",2),a.YNc(3,u,2,2,"div",2),a.YNc(4,C,2,2,"div",2),a.YNc(5,y,2,1,"div",2),a.qZA()),2&h&&(a.xp6(1),a.ekj("is-invalid",m.control.touched&&m.control.invalid),a.s9C("type",m.type),a.s9C("width",m.width),a.s9C("placeholder",m.label),a.Q6J("formControl",m.control),a.xp6(1),a.Q6J("ngIf",null==m.control.errors?null:m.control.errors.required),a.xp6(1),a.Q6J("ngIf",null==m.control.errors?null:m.control.errors.minlength),a.xp6(1),a.Q6J("ngIf",null==m.control.errors?null:m.control.errors.maxlength),a.xp6(1),a.Q6J("ngIf",null==m.control.errors?null:m.control.errors.isMatching))},dependencies:[x.O5,k.Fj,k.JJ,k.oH]})}return f})()},7411:($,I,d)=>{d.d(I,{z:()=>y});var a=d(5879),k=d(2051);let x=(()=>{class g{constructor(b){this.bsModalRef=b,this.title="",this.message="",this.btnOkText="",this.btnCancelText="",this.result=!1}confirm(){this.result=!0,this.bsModalRef.hide()}decline(){this.bsModalRef.hide()}static#e=this.\u0275fac=function(c){return new(c||g)(a.Y36(k.UZ))};static#t=this.\u0275cmp=a.Xpm({type:g,selectors:[["app-confirm-dialog"]],decls:11,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(c,h){1&c&&(a.TgZ(0,"div",0)(1,"h4",1),a._uU(2),a.qZA()(),a.TgZ(3,"div",2)(4,"p"),a._uU(5),a.qZA()(),a.TgZ(6,"div",3)(7,"button",4),a.NdJ("click",function(){return h.confirm()}),a._uU(8),a.qZA(),a.TgZ(9,"button",5),a.NdJ("click",function(){return h.decline()}),a._uU(10),a.qZA()()),2&c&&(a.xp6(2),a.Oqu(h.title),a.xp6(3),a.Oqu(h.message),a.xp6(3),a.Oqu(h.btnOkText),a.xp6(2),a.Oqu(h.btnCancelText))}})}return g})();var Z=d(7398),u=d(5516),C=d(9862);let y=(()=>{class g{constructor(b,c){this.modalService=b,this.http=c,this.baseUrl=u.N.apiUrl}confirm(b="Confirmation",c="Are you sure you want to do this?",h="Ok",m="Cancel"){return this.bsModelRef=this.modalService.show(x,{initialState:{title:b,message:c,btnOkText:h,btnCancelText:m}}),this.bsModelRef.onHidden.pipe((0,Z.U)(()=>this.bsModelRef.content.result))}getHelp(b){return this.http.get(this.baseUrl+"Help/help/"+b)}static#e=this.\u0275fac=function(c){return new(c||g)(a.LFG(k.tT),a.LFG(C.eN))};static#t=this.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},1533:($,I,d)=>{d.r(I),d.d(I,{FeedbackModule:()=>Ws});var a=d(6814),k=d(3983),x=d(7850),Z=d(8431),u=d(6223);const f=function g(e,r){return e===r||e!=e&&r!=r},c=function b(e,r){for(var t=e.length;t--;)if(f(e[t][0],r))return t;return-1};var m=Array.prototype.splice;function P(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}P.prototype.clear=function C(){this.__data__=[],this.size=0},P.prototype.delete=function X(e){var r=this.__data__,t=c(r,e);return!(t<0||(t==r.length-1?r.pop():m.call(r,t,1),--this.size,0))},P.prototype.get=function _t(e){var r=this.__data__,t=c(r,e);return t<0?void 0:r[t][1]},P.prototype.has=function gt(e){return c(this.__data__,e)>-1},P.prototype.set=function mt(e,r){var t=this.__data__,o=c(t,e);return o<0?(++this.size,t.push([e,r])):t[o][1]=r,this};const V=P,be="object"==typeof global&&global&&global.Object===Object&&global;var St="object"==typeof self&&self&&self.Object===Object&&self;const A=be||St||Function("return this")(),N=A.Symbol;var ge=Object.prototype,Mt=ge.hasOwnProperty,Zt=ge.toString,G=N?N.toStringTag:void 0;var Et=Object.prototype.toString;var he=N?N.toStringTag:void 0;const q=function qt(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":he&&he in Object(e)?function Pt(e){var r=Mt.call(e,G),t=e[G];try{e[G]=void 0;var o=!0}catch{}var s=Zt.call(e);return o&&(r?e[G]=t:delete e[G]),s}(e):function Bt(e){return Et.call(e)}(e)},J=function Jt(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)},me=function Vt(e){if(!J(e))return!1;var r=q(e);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r};var e,Yt=A["__core-js_shared__"],ye=(e=/[^.]+$/.exec(Yt&&Yt.keys&&Yt.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var Xt=Function.prototype.toString;const S=function en(e){if(null!=e){try{return Xt.call(e)}catch{}try{return e+""}catch{}}return""};var nn=/^\[object .+?Constructor\]$/,cn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const dn=function ln(e){return!(!J(e)||function Qt(e){return!!ye&&ye in e}(e))&&(me(e)?cn:nn).test(S(e))},j=function pn(e,r){var t=function un(e,r){return e?.[r]}(e,r);return dn(t)?t:void 0},R=j(A,"Map"),H=j(Object,"create");var Cn=Object.prototype.hasOwnProperty;var An=Object.prototype.hasOwnProperty;function U(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}U.prototype.clear=function gn(){this.__data__=H?H(null):{},this.size=0},U.prototype.delete=function mn(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r},U.prototype.get=function xn(e){var r=this.__data__;if(H){var t=r[e];return"__lodash_hash_undefined__"===t?void 0:t}return Cn.call(r,e)?r[e]:void 0},U.prototype.has=function In(e){var r=this.__data__;return H?void 0!==r[e]:An.call(r,e)},U.prototype.set=function jn(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=H&&void 0===r?"__lodash_hash_undefined__":r,this};const ve=U,Y=function Un(e,r){var t=e.__data__;return function Pn(e){var r=typeof e;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e}(r)?t["string"==typeof r?"string":"hash"]:t.map};function E(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}E.prototype.clear=function Mn(){this.size=0,this.__data__={hash:new ve,map:new(R||V),string:new ve}},E.prototype.delete=function En(e){var r=Y(this,e).delete(e);return this.size-=r?1:0,r},E.prototype.get=function Dn(e){return Y(this,e).get(e)},E.prototype.has=function Gn(e){return Y(this,e).has(e)},E.prototype.set=function Jn(e,r){var t=Y(this,e),o=t.size;return t.set(e,r),this.size+=t.size==o?0:1,this};const Hn=E;function B(e){var r=this.__data__=new V(e);this.size=r.size}B.prototype.clear=function vt(){this.__data__=new V,this.size=0},B.prototype.delete=function Ct(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t},B.prototype.get=function kt(e){return this.__data__.get(e)},B.prototype.has=function At(e){return this.__data__.has(e)},B.prototype.set=function zn(e,r){var t=this.__data__;if(t instanceof V){var o=t.__data__;if(!R||o.length<199)return o.push([e,r]),this.size=++t.size,this;t=this.__data__=new Hn(o)}return t.set(e,r),this.size=t.size,this};const Yn=B;var $n=function(){try{var e=j(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Te=$n,Ce=function Xn(e,r,t){"__proto__"==r&&Te?Te(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t};var tr=Object.prototype.hasOwnProperty;const xe=function nr(e,r,t){var o=e[r];(!tr.call(e,r)||!f(o,t)||void 0===t&&!(r in e))&&Ce(e,r,t)},Q=function rr(e,r,t,o){var s=!t;t||(t={});for(var i=-1,l=r.length;++i<l;){var v=r[i],T=o?o(t[v],e[v],v,t,e):void 0;void 0===T&&(T=e[v]),s?Ce(t,v,T):xe(t,v,T)}return t},K=function sr(e){return null!=e&&"object"==typeof e},ke=function cr(e){return K(e)&&"[object Arguments]"==q(e)};var we=Object.prototype,lr=we.hasOwnProperty,dr=we.propertyIsEnumerable,ur=ke(function(){return arguments}())?ke:function(e){return K(e)&&lr.call(e,"callee")&&!dr.call(e,"callee")};const fr=ur,te=Array.isArray;var Ae="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ie=Ae&&"object"==typeof module&&module&&!module.nodeType&&module,Oe=Ie&&Ie.exports===Ae?A.Buffer:void 0;const Se=(Oe?Oe.isBuffer:void 0)||function _r(){return!1};var vr=/^(?:0|[1-9]\d*)$/;const Cr=function Tr(e,r){var t=typeof e;return!!(r=r??9007199254740991)&&("number"==t||"symbol"!=t&&vr.test(e))&&e>-1&&e%1==0&&e<r},je=function kr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var _={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1;const ne=function Wr(e){return function(r){return e(r)}};var Fe="object"==typeof exports&&exports&&!exports.nodeType&&exports,z=Fe&&"object"==typeof module&&module&&!module.nodeType&&module,re=z&&z.exports===Fe&&be.process;const D=function(){try{return z&&z.require&&z.require("util").types||re&&re.binding&&re.binding("util")}catch{}}();var Me=D&&D.isTypedArray;const to=Me?ne(Me):function Yr(e){return K(e)&&je(e.length)&&!!_[q(e)]};var ro=Object.prototype.hasOwnProperty;const Ze=function oo(e,r){var t=te(e),o=!t&&fr(e),s=!t&&!o&&Se(e),i=!t&&!o&&!s&&to(e),l=t||o||s||i,v=l?function or(e,r){for(var t=-1,o=Array(e);++t<e;)o[t]=r(t);return o}(e.length,String):[],T=v.length;for(var w in e)(r||ro.call(e,w))&&(!l||!("length"==w||s&&("offset"==w||"parent"==w)||i&&("buffer"==w||"byteLength"==w||"byteOffset"==w)||Cr(w,T)))&&v.push(w);return v};var ao=Object.prototype;const oe=function so(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||ao)},Pe=function io(e,r){return function(t){return e(r(t))}},lo=Pe(Object.keys,Object);var fo=Object.prototype.hasOwnProperty;const Ne=function bo(e){return null!=e&&je(e.length)&&!me(e)},ae=function go(e){return Ne(e)?Ze(e):function po(e){if(!oe(e))return lo(e);var r=[];for(var t in Object(e))fo.call(e,t)&&"constructor"!=t&&r.push(t);return r}(e)};var Co=Object.prototype.hasOwnProperty;const ko=function xo(e){if(!J(e))return function yo(e){var r=[];if(null!=e)for(var t in Object(e))r.push(t);return r}(e);var r=oe(e),t=[];for(var o in e)"constructor"==o&&(r||!Co.call(e,o))||t.push(o);return t},se=function wo(e){return Ne(e)?Ze(e,!0):ko(e)};var Ue="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ee=Ue&&"object"==typeof module&&module&&!module.nodeType&&module,Be=Ee&&Ee.exports===Ue?A.Buffer:void 0,De=Be?Be.allocUnsafe:void 0;const Le=function No(){return[]};var Eo=Object.prototype.propertyIsEnumerable,Ge=Object.getOwnPropertySymbols,Bo=Ge?function(e){return null==e?[]:(e=Object(e),function Zo(e,r){for(var t=-1,o=null==e?0:e.length,s=0,i=[];++t<o;){var l=e[t];r(l,t,e)&&(i[s++]=l)}return i}(Ge(e),function(r){return Eo.call(e,r)}))}:Le;const ie=Bo,qe=function Go(e,r){for(var t=-1,o=r.length,s=e.length;++t<o;)e[s+t]=r[t];return e},Je=Pe(Object.getPrototypeOf,Object);var Ro=Object.getOwnPropertySymbols?function(e){for(var r=[];e;)qe(r,ie(e)),e=Je(e);return r}:Le;const Re=Ro,He=function zo(e,r,t){var o=r(e);return te(e)?o:qe(o,t(e))},Yo=function Vo(e){return He(e,ae,ie)},Wo=function Qo(e){return He(e,se,Re)},ce=j(A,"DataView"),le=j(A,"Promise"),de=j(A,"Set"),ue=j(A,"WeakMap");var Ke="[object Map]",ze="[object Promise]",Ve="[object Set]",Ye="[object WeakMap]",Qe="[object DataView]",ra=S(ce),oa=S(R),aa=S(le),sa=S(de),ia=S(ue),F=q;(ce&&F(new ce(new ArrayBuffer(1)))!=Qe||R&&F(new R)!=Ke||le&&F(le.resolve())!=ze||de&&F(new de)!=Ve||ue&&F(new ue)!=Ye)&&(F=function(e){var r=q(e),t="[object Object]"==r?e.constructor:void 0,o=t?S(t):"";if(o)switch(o){case ra:return Qe;case oa:return Ke;case aa:return ze;case sa:return Ve;case ia:return Ye}return r});const fe=F;var la=Object.prototype.hasOwnProperty;const We=A.Uint8Array,pe=function pa(e){var r=new e.constructor(e.byteLength);return new We(r).set(new We(e)),r};var ga=/\w*$/;var $e=N?N.prototype:void 0,Xe=$e?$e.valueOf:void 0;const Ja=function qa(e,r,t){var o=e.constructor;switch(r){case"[object ArrayBuffer]":return pe(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function _a(e,r){var t=r?pe(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Ta(e,r){var t=r?pe(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}(e,t);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function ha(e){var r=new e.constructor(e.source,ga.exec(e));return r.lastIndex=e.lastIndex,r}(e);case"[object Symbol]":return function ya(e){return Xe?Object(Xe.call(e)):{}}(e)}};var et=Object.create,Ra=function(){function e(){}return function(r){if(!J(r))return{};if(et)return et(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();const Ha=Ra;var tt=D&&D.isMap;const $a=tt?ne(tt):function Ya(e){return K(e)&&"[object Map]"==fe(e)};var nt=D&&D.isSet;const rs=nt?ne(nt):function es(e){return K(e)&&"[object Set]"==fe(e)};var rt="[object Arguments]",ot="[object Function]",at="[object Object]",p={};p[rt]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object DataView]"]=p["[object Boolean]"]=p["[object Date]"]=p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Map]"]=p["[object Number]"]=p[at]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object Symbol]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Error]"]=p[ot]=p["[object WeakMap]"]=!1;const js=function W(e,r,t,o,s,i){var l,v=1&r,T=2&r,w=4&r;if(t&&(l=s?t(e,o,s,i):t(e)),void 0!==l)return l;if(!J(e))return e;var lt=te(e);if(lt){if(l=function da(e){var r=e.length,t=new e.constructor(r);return r&&"string"==typeof e[0]&&la.call(e,"index")&&(t.index=e.index,t.input=e.input),t}(e),!v)return function Fo(e,r){var t=-1,o=e.length;for(r||(r=Array(o));++t<o;)r[t]=e[t];return r}(e,l)}else{var L=fe(e),dt=L==ot||"[object GeneratorFunction]"==L;if(Se(e))return function So(e,r){if(r)return e.slice();var t=e.length,o=De?De(t):new e.constructor(t);return e.copy(o),o}(e,v);if(L==at||L==rt||dt&&!s){if(l=T||dt?{}:function Ka(e){return"function"!=typeof e.constructor||oe(e)?{}:Ha(Je(e))}(e),!v)return T?function Ho(e,r){return Q(e,Re(e),r)}(e,function Ao(e,r){return e&&Q(r,se(r),e)}(l,e)):function Do(e,r){return Q(e,ie(e),r)}(e,function ho(e,r){return e&&Q(r,ae(r),e)}(l,e))}else{if(!p[L])return s?e:{};l=Ja(e,L,v)}}i||(i=new Yn);var ut=i.get(e);if(ut)return ut;i.set(e,l),rs(e)?e.forEach(function(O){l.add(W(O,r,t,O,e,i))}):$a(e)&&e.forEach(function(O,M){l.set(M,W(O,r,t,M,e,i))});var ft=lt?void 0:(w?T?Wo:Yo:T?se:ae)(e);return function Qn(e,r){for(var t=-1,o=null==e?0:e.length;++t<o&&!1!==r(e[t],t,e););}(ft||e,function(O,M){ft&&(O=e[M=O]),xe(l,M,W(O,r,t,M,e,i))}),l};var n=d(5879),Ns=d(7411),_e=d(639),Us=d(8763),st=d(3593),Es=d(4807),Bs=d(7114);function Ds(e,r){1&e&&(n.TgZ(0,"div",5),n._uU(1," No feedback on record\n"),n.qZA())}function Ls(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"div",0),n._UZ(1,"input",44),n.TgZ(2,"input",45),n.NdJ("change",function(){n.CHM(t);const s=n.oxw().index,i=n.oxw(2);return n.KtG(i.gradeChanged(s))}),n.qZA(),n._UZ(3,"input",46),n.TgZ(4,"input",47),n.NdJ("change",function(){n.CHM(t);const s=n.oxw().index,i=n.oxw(2);return n.KtG(i.gradeChanged(s))}),n.qZA()()}}function Gs(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"div",33),n._UZ(1,"input",34)(2,"app-text-input",35)(3,"input",36),n.TgZ(4,"input",37),n.NdJ("change",function(){const i=n.CHM(t).index,l=n.oxw(2);return n.KtG(l.gradeChanged(i))}),n.qZA(),n._UZ(5,"input",38),n.TgZ(6,"input",39),n.NdJ("change",function(){const i=n.CHM(t).index,l=n.oxw(2);return n.KtG(l.gradeChanged(i))}),n.qZA(),n.YNc(7,Ls,5,0,"div",40),n.TgZ(8,"div",41),n._UZ(9,"app-text-input",42),n.qZA(),n.TgZ(10,"button",43),n.NdJ("click",function(){const i=n.CHM(t).index,l=n.oxw(2);return n.KtG(l.removeFeedbackItem(i))}),n.qZA()()}if(2&e){const t=r.index;n.Q6J("formGroupName",t),n.xp6(2),n.Q6J("label","Question"),n.xp6(5),n.Q6J("ngIf",t<8),n.xp6(1),n.Q6J("ngClass",t<8?"":"mL215"),n.xp6(1),n.Q6J("label","Remarks")}}const it=function(){return{dateInputFormat:"YYYY-MM-DD"}};function qs(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"label",8),n._uU(3,"Customer Name"),n.qZA(),n.TgZ(4,"div",9),n._uU(5),n.qZA(),n.TgZ(6,"label",8),n._uU(7,"Feedback No"),n.qZA(),n.TgZ(8,"div",10),n._uU(9),n.qZA(),n._UZ(10,"br"),n.TgZ(11,"label",8),n._uU(12,"Official Name"),n.qZA(),n.TgZ(13,"div",9),n._uU(14),n.qZA(),n.TgZ(15,"label",11),n._uU(16,"Designation"),n.qZA(),n.TgZ(17,"div",12),n._uU(18),n.qZA(),n._UZ(19,"br"),n.TgZ(20,"label",8),n._uU(21,"Email"),n.qZA(),n.TgZ(22,"div",9),n._uU(23),n.qZA(),n.TgZ(24,"label",11),n._uU(25,"Phone No"),n.qZA(),n.TgZ(26,"div",13),n._uU(27),n.qZA(),n.TgZ(28,"label",14),n._uU(29,"Grade"),n.qZA(),n.TgZ(30,"div",15),n._uU(31),n.qZA()(),n.TgZ(32,"div",16)(33,"ng-select",17),n.NdJ("ngModelChange",function(s){n.CHM(t);const i=n.oxw();return n.KtG(i.feedbackIdSelected=s)}),n.qZA(),n.TgZ(34,"button",18),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.showFeedback())}),n.qZA(),n.TgZ(35,"button",19),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.newFeedback())}),n.qZA(),n.TgZ(36,"button",20),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.sendEmail())}),n.qZA()(),n.TgZ(37,"form",21),n._UZ(38,"hr",22),n.TgZ(39,"label",8),n._uU(40,"Issued On"),n.qZA(),n._UZ(41,"input",23),n.TgZ(42,"label",24),n._uU(43,"Received On"),n.qZA(),n._UZ(44,"input",25)(45,"br"),n.TgZ(46,"label",26),n._uU(47,"Sr#"),n.qZA(),n.TgZ(48,"label",27),n._uU(49,"Parameter"),n.qZA(),n.TgZ(50,"label",28),n._uU(51,"Response"),n.qZA(),n.TgZ(52,"label",29),n._uU(53,"Remarks"),n.qZA(),n._UZ(54,"hr",30),n.TgZ(55,"div",31),n.YNc(56,Gs,11,5,"div",32),n.qZA()()()}if(2&e){const t=n.oxw();n.xp6(5),n.AsE(" ",t.feedback.customerName,", ",t.feedback.city,""),n.xp6(4),n.Oqu(t.feedback.feedbackNo),n.xp6(5),n.hij(" ",t.feedback.officialName,""),n.xp6(4),n.hij(" ",t.feedback.designation,""),n.xp6(5),n.hij(" ",t.feedback.email,""),n.xp6(4),n.hij(" ",t.feedback.phoneNo,""),n.xp6(4),n.hij(" ",t.feedback.gradeAssessedByClient,""),n.xp6(2),n.Q6J("items",t.feedbackHistory)("ngModel",t.feedbackIdSelected),n.xp6(1),n.Q6J("disabled",0===(null==t.feedbackHistory?null:t.feedbackHistory.length)),n.xp6(1),n.Q6J("disabled",0===t.feedback.id),n.xp6(2),n.Q6J("formGroup",t.form),n.xp6(4),n.Q6J("bsValue",t.bsValueDate)("bsConfig",n.DdM(18,it)),n.xp6(3),n.Q6J("bsValue",t.bsValueDate)("bsConfig",n.DdM(19,it)),n.xp6(12),n.Q6J("ngForOf",t.feedbackItems.controls)}}let Js=(()=>{class e{constructor(t,o,s,i,l,v){this.fb=t,this.confirm=o,this.activatedRoute=s,this.service=i,this.toastr=l,this.router=v,this.bsValueDate=new Date,this.bsValue=new Date,this.feedbackHistory=[],this.feedbackIdSelected=-1,this.lastFeedbackIdSelected=-1,this.form=new u.cw({}),this.returnUrl="";let T=this.router.getCurrentNavigation();T?.extras&&T.extras.state&&(T.extras.state.returnUrl&&(this.returnUrl=T.extras.state.returnUrl),T.extras.state.user&&(this.user=T.extras.state.user))}ngOnInit(){this.activatedRoute.data.subscribe({next:t=>{this.feedback=t.feedback,this.feedbackHistory=t.history,this.feedback&&this.InitializeForm(this.feedback),console.log("history:",this.feedbackHistory)},error:t=>{console.log("error:",t),this.toastr.error(t.error.error.details,"Error encountered")}})}InitializeForm(t){console.log("feedbk:",t),this.form=this.fb.group({id:t.id,customerId:t.customerId,customerName:t.customerName,city:t.city,officialName:t.officialName,designation:t.designation,email:t.email,phoneNo:t.phoneNo,dateIssued:t.dateIssued,dateReceived:t.dateReceived,gradeAssessedByClient:t.gradeAssessedByClient,customerSuggestion:t.customerSuggestion,feedbackNo:t.feedbackNo,feedbackItems:this.fb.array(t.feedbackItems.map(o=>this.fb.group({id:o.id,customerFeedbackId:o.customerFeedbackId,feedbackGroup:o.feedbackGroup,questionNo:o.questionNo,question:[o.question,u.kI.required],response:[o.response],prompt1:[o.prompt1,u.kI.required],prompt2:[o.prompt2,u.kI.required],prompt3:[o.prompt3],prompt4:o.prompt4,remarks:o.remarks})))})}get feedbackItems(){return this.form.get("feedbackItems")}newFeedbackItem(){var t=this.feedbackItems.at(this.feedbackItems.length-1);return this.fb.group({id:0,customerFeedbackId:this.feedback?.id,questionNo:t.get("questionNo")?.value+1,question:"",isMandatory:!1,prompt1:"",prompt2:"",prompt3:"",prompt4:"",remarks:"",response:""})}addNewFeedbackItem(){this.feedbackItems.push(this.newFeedbackItem)}removeFeedbackItem(t){this.confirm.confirm("Are you sure you want to delete this record?","confirm Delete").subscribe({next:o=>{o&&this.feedbackItems.removeAt(t)}})}updateFeedback(){"0"===this.form.get("feedbackNo")?.value?this.editFeedback():this.saveNewFeedback()}editFeedback(){this.service.updateFeedback(this.form.value).subscribe({next:t=>{Number(t)?this.toastr.success("Feedback updated","Success"):this.toastr.warning("Failed to update the feedback","Failed")},error:t=>this.toastr.error(t.error.details,"Error")})}saveNewFeedback(){this.service.saveNewFeedback(this.form.value).subscribe({next:t=>{null!==t?(this.form.get("id")?.setValue(t.id),this.form.get("feedbackNo")?.setValue(t.feedbackNo),this.toastr.success("Feedback inserted into the database","Success")):this.toastr.warning("Failed to update the new feedback","Failed")},error:t=>this.toastr.error(t.error.details,"Error encountered")})}generateLinkForAddresses(){}close(){this.router.navigateByUrl(this.returnUrl)}gradeChanged(t){var s=100*this.feedbackItems.value.map(l=>+l.response).reduce((l,v)=>l+v,0)/(20*this.feedback.feedbackItems.length),i=s>90?"A+":s>80?"A":s>70?"B+":s>60?"B":s>50?"C":"D";this.form.get("gradeAssessedByClient")?.setValue(i+"("+Math.round(s)+"%)")}showFeedback(){this.feedbackIdSelected===this.lastFeedbackIdSelected&&-1===this.feedbackIdSelected||(this.service.getFeedbackObject(this.feedbackIdSelected,0).subscribe({next:t=>{this.feedback=t,this.InitializeForm(this.feedback)}}),this.lastFeedbackIdSelected=this.feedbackIdSelected)}newFeedback(){if(0===this.feedback.customerId)return;const t=function Zs(e){return js(e,5)}(this.feedback);t.feedbackNo=0,this.form.get("feedbackNo")?.setValue(0),this.InitializeForm(t)}sendEmail(){0!==this.feedback.id?this.service.sendFeedbackMail(this.feedback.id).subscribe({next:t=>{""===t||null===t?this.toastr.success("Feedback mail composed, and can be viewed in messages","Message composed"):this.toastr.info(t,"Failed to compose message")},error:t=>{this.toastr.error(t.error.details,"Error in composing email message")}}):this.toastr.warning("This feedback needs to be saved before its link can be forwarded to the customer","feedback not saved")}static#e=this.\u0275fac=function(o){return new(o||e)(n.Y36(u.qu),n.Y36(Ns.z),n.Y36(x.gz),n.Y36(_e.T),n.Y36(Us._W),n.Y36(x.F0))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-feedback"]],decls:6,vars:3,consts:[[1,"stdd"],[1,"stdd","btn","fa","fa-save","fa-2x","mL600",2,"color","aliceblue",3,"disabled","click"],[1,"stdd","btn","fa","fa-window-close","fa-2x","mx-15",2,"color","aliceblue","margin-left","50px",3,"click"],["class","my-5",4,"ngIf"],["class","container",4,"ngIf"],[1,"my-5"],[1,"container"],[2,"vertical-align","top","display","inline-block"],[1,"lbl","w150","fSmall","b"],[1,"stdd","w250","fSmall"],[1,"stdd","w75","fSmall"],[1,"lbl","w120","fSmall","b"],[1,"stdd","w200","fSmall"],[1,"stdd","w150","fSmall"],[1,"lbl","w50","fSmall","b",2,"margin-left","5px"],[1,"stdd","w100","fSmall"],[2,"vertical-align","top","display","inline-block","margin-left","15px"],["bindLabel","feedbackIssueDate","bindValue","feedbackId","labelForId","feedbackId","clearAllText","Clear",2,"width","200px","display","inline-block",3,"items","ngModel","ngModelChange"],["title","click to display the selected Feedback",1,"btn","fa","fa-search","fa-2x",2,"display","inline-block","color","aliceblue",3,"disabled","click"],["title","click to add a new feedback for the customer",1,"btn","fa","fa-plus","fa-2x","mx-1",2,"display","inline-block","color","aliceblue",3,"disabled","click"],["title","click to add a new feedback for the customer",1,"btn","fa","fa-envelope","fa-2x",2,"display","inline-block","color","aliceblue",3,"click"],[3,"formGroup"],[1,"my-2",2,"border-width","2px","border-color","black"],["type","text","placeholder","Issued On","formControlName","dateIssued","bsDatepicker","",1,"stdd","fSmall","w100",3,"bsValue","bsConfig"],[1,"lbl","w150","fSmall","b",2,"margin-left","150px !important"],["type","text","placeholder","Received On","formControlName","dateReceived","bsDatepicker","",1,"stdd","fSmall","w100",3,"bsValue","bsConfig"],[1,"lbl","fSmaller","b","w35"],[1,"lbl","fSmaller","b","w450"],[1,"lbl","fSmaller","b","w150"],[1,"lbl","fSmaller","b","w250",2,"margin-left","200px !important"],[1,"my-0",2,"border-width","2px","border-color","black"],["formArrayName","feedbackItems",1,"my-2"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["type","text","formControlName","questionNo",1,"stdd","w25","fSmaller",2,"background-color","darkgrey"],["formControlName","question",1,"stdd","w450",2,"word-wrap","break-word","vertical-align","top",3,"label"],["type","text","formControlName","prompt1",1,"prompt","w75"],["type","radio","id","i","value","20","checked","response==='20'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["type","text","formControlName","prompt2",1,"prompt","w50"],["type","radio","id","i","value","15","checked","response==='15'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["class","stdd",4,"ngIf"],[1,"stdd","w200",3,"ngClass"],["formControlName","remarks",3,"label"],[1,"btn","fa","fa-trash","red",3,"click"],["type","text","formControlName","prompt3",1,"prompt","w75"],["type","radio","id","i","value","10","checked","response==='10'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["type","text","formControlName","prompt4",1,"prompt","w75"],["type","radio","id","i","value","5","checked","response==='5'","formControlName","response",1,"inputcheck","form-check-input",3,"change"]],template:function(o,s){1&o&&(n.TgZ(0,"h4",0),n._uU(1,"Customer Feedback"),n.qZA(),n.TgZ(2,"button",1),n.NdJ("click",function(){return s.updateFeedback()}),n.qZA(),n.TgZ(3,"button",2),n.NdJ("click",function(){return s.close()}),n.qZA(),n.YNc(4,Ds,2,0,"div",3),n.YNc(5,qs,57,20,"div",4)),2&o&&(n.xp6(2),n.Q6J("disabled",!s.form.dirty),n.xp6(2),n.Q6J("ngIf",!s.feedback),n.xp6(1),n.Q6J("ngIf",s.feedback))},dependencies:[a.mk,a.sg,a.O5,st.Np,st.Y5,u._Y,u.Fj,u._,u.JJ,u.JL,u.On,u.sg,u.u,u.x0,u.CE,Es.w9,Bs.t],styles:['.lbl[_ngcontent-%COMP%]{display:inline-block;margin:0 1px;padding:0;font-weight:700;vertical-align:top;word-wrap:normal}.stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 1px;vertical-align:top;padding:0;word-wrap:normal}.btn[_ngcontent-%COMP%]{color:#f0f8ff}.hist[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;color:#00008b;font-size:small}.fSmall[_ngcontent-%COMP%]{font-size:small}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.mL215[_ngcontent-%COMP%]{margin-left:215px}.mL600[_ngcontent-%COMP%]{margin-left:600px!important}.mL50[_ngcontent-%COMP%]{margin-left:50px!important}.cursorPointer[_ngcontent-%COMP%]{cursor:pointer;color:#00008b}.inputCheck[_ngcontent-%COMP%]{margin-right:5px;width:40px;margin-left:10px;border:2px;border-color:#000}input[type=radio][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:20px;height:20px;border:1px solid #fff;border-radius:50%;margin-right:10px;background-color:#c3b1b1;position:relative}input[type=radio][_ngcontent-%COMP%]:checked:before{content:"";display:block;width:8px;height:8px;background-color:#4a0fec;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);animation:appear .8s}md-content[_ngcontent-%COMP%]{position:absolute;height:100px}.prompt[_ngcontent-%COMP%]{font-size:x-small;margin-left:1px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;background-color:#a9a9a9}.w25[_ngcontent-%COMP%]{width:25px}.w35[_ngcontent-%COMP%]{width:35px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w80[_ngcontent-%COMP%]{width:80px}.w100[_ngcontent-%COMP%]{width:100px}.w120[_ngcontent-%COMP%]{width:120px}.w150[_ngcontent-%COMP%]{width:150px}.w200[_ngcontent-%COMP%]{width:200px}.w250[_ngcontent-%COMP%]{width:250px}.w450[_ngcontent-%COMP%]{width:450px}']})}return e})();var Rs=d(8180),Hs=d(7783);let Ks=(()=>{class e{constructor(t,o){this.router=t,this.accountService=o,this.returnUrl="",this.accountService.currentUser$.pipe((0,Rs.q)(1)).subscribe({next:i=>{i&&(this.user=i)}});let s=this.router.getCurrentNavigation();s?.extras&&s.extras.state&&(s.extras.state.returnUrl&&(this.returnUrl=s.extras.state.returnUrl),s.extras.state.user&&(this.user=s.extras.state.user))}ListClicked(){this.navigateByUrl("/feedback/list")}StddQsClicked(){}GoHomeClicked(){}navigateByUrl(t){this.router.navigate([t],{state:{user:this.user,returnUrl:"/feedback"}})}static#e=this.\u0275fac=function(o){return new(o||e)(n.Y36(x.F0),n.Y36(Hs.B))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-feedback-menu"]],decls:6,vars:0,consts:[[1,"container","d-flex","justify-contents-between","align-items-center","mt-5"],["routerLink","/feedback/list","title","Index of Feedbacks",1,"stdd"],["routerLink","/feedback/stddqs","title","Standard Feedback Questions",1,"stdd"],["routerLink","/administration","title","go back to home",1,"stdd","fa","fa-home","fa-2x"]],template:function(o,s){1&o&&(n.TgZ(0,"div",0)(1,"button",1),n._uU(2,"List of Feedbacks"),n.qZA(),n.TgZ(3,"button",2),n._uU(4,"Feedback Questions"),n.qZA(),n._UZ(5,"button",3),n.qZA())},dependencies:[x.rH],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:medium;width:100px;word-wrap:normal;height:4em}"]})}return e})();var ct=d(2096);const Ys=[{path:"",component:Ks},{path:"list",component:Z.t},{path:"edit/:id/:customerId",component:Js,resolve:{feedback:e=>{var r=e.paramMap.get("id")??"0",t=e.paramMap.get("customerId")??"0";return"0"===r&&"0"===t?(0,ct.of)(null):(0,n.f3M)(_e.T).getFeedbackObject(+r,+t)},history:e=>{var r=e.paramMap.get("customerId")??"0";return"0"===r?(0,ct.of)(null):(0,n.f3M)(_e.T).getFeedbackHistory(+r)}}}];let Qs=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=n.oAB({type:e});static#n=this.\u0275inj=n.cJS({imports:[a.ez,x.Bz.forChild(Ys),x.Bz]})}return e})(),Ws=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=n.oAB({type:e});static#n=this.\u0275inj=n.cJS({imports:[a.ez,k.m,Qs]})}return e})()},7328:($,I,d)=>{d.d(I,{t:()=>x});var a=d(8645),k=d(4552);class x extends a.x{constructor(u=1/0,C=1/0,y=k.l){super(),this._bufferSize=u,this._windowTime=C,this._timestampProvider=y,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=C===1/0,this._bufferSize=Math.max(1,u),this._windowTime=Math.max(1,C)}next(u){const{isStopped:C,_buffer:y,_infiniteTimeWindow:g,_timestampProvider:f,_windowTime:b}=this;C||(y.push(u),!g&&y.push(f.now()+b)),this._trimBuffer(),super.next(u)}_subscribe(u){this._throwIfClosed(),this._trimBuffer();const C=this._innerSubscribe(u),{_infiniteTimeWindow:y,_buffer:g}=this,f=g.slice();for(let b=0;b<f.length&&!u.closed;b+=y?1:2)u.next(f[b]);return this._checkFinalizedStatuses(u),C}_trimBuffer(){const{_bufferSize:u,_timestampProvider:C,_buffer:y,_infiniteTimeWindow:g}=this,f=(g?1:2)*u;if(u<1/0&&f<y.length&&y.splice(0,y.length-f),!g){const b=C.now();let c=0;for(let h=1;h<y.length&&y[h]<=b;h+=2)c=h;c&&y.splice(0,c+1)}}}}}]);