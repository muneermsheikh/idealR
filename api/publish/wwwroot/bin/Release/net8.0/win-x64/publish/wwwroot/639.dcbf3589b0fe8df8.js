"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[639],{6295:(j,f,o)=>{o.d(f,{f:()=>u});var s=o(7705),h=o(9417),v=o(177);function _(p,m){if(1&p&&(s.j41(0,"div",3),s.EFF(1),s.k0s()),2&p){const c=s.XpG();s.R7$(1),s.SpI(" Please enter a ",c.label," ")}}function T(p,m){if(1&p&&(s.j41(0,"div",3),s.EFF(1),s.k0s()),2&p){const c=s.XpG();s.R7$(1),s.Lme(" ",c.label," must be at least ",null==c.control.errors?null:c.control.errors.minlength.requiredLength," characters ")}}function t(p,m){if(1&p&&(s.j41(0,"div",3),s.EFF(1),s.k0s()),2&p){const c=s.XpG();s.R7$(1),s.Lme(" ",c.label," must be at most ",null==c.control.errors?null:c.control.errors.maxlength.requiredLength," characters ")}}function l(p,m){if(1&p&&(s.j41(0,"div",3),s.EFF(1),s.k0s()),2&p){const c=s.XpG();s.R7$(1),s.SpI(" ",c.label," do not match ")}}let u=(()=>{class p{constructor(c){this.ngControl=c,this.label="",this.type="text",this.width="",this.ngControl.valueAccessor=this}writeValue(c){}registerOnChange(c){}registerOnTouched(c){}get control(){return this.ngControl.control}static#t=this.\u0275fac=function(k){return new(k||p)(s.rXU(h.vO,2))};static#e=this.\u0275cmp=s.VBU({type:p,selectors:[["app-text-input"]],inputs:{label:"label",type:"type",width:"width"},decls:6,vars:10,consts:[[1,"mb-3",2,"vertical-align","top"],[1,"form-control",2,"font-size","small","word-wrap","normal","height","auto","margin-top","0px","margin-bottom","0px","padding-top","0px","padding-bottom","0px","background-color","darkgrey",3,"type","width","formControl","placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(k,d){1&k&&(s.j41(0,"div",0),s.nrm(1,"input",1),s.DNE(2,_,2,1,"div",2),s.DNE(3,T,2,2,"div",2),s.DNE(4,t,2,2,"div",2),s.DNE(5,l,2,1,"div",2),s.k0s()),2&k&&(s.R7$(1),s.AVh("is-invalid",d.control.touched&&d.control.invalid),s.FS9("type",d.type),s.FS9("width",d.width),s.FS9("placeholder",d.label),s.Y8G("formControl",d.control),s.R7$(1),s.Y8G("ngIf",null==d.control.errors?null:d.control.errors.required),s.R7$(1),s.Y8G("ngIf",null==d.control.errors?null:d.control.errors.minlength),s.R7$(1),s.Y8G("ngIf",null==d.control.errors?null:d.control.errors.maxlength),s.R7$(1),s.Y8G("ngIf",null==d.control.errors?null:d.control.errors.isMatching))},dependencies:[v.bT,h.me,h.BC,h.l_]})}return p})()},778:(j,f,o)=>{o.d(f,{G:()=>l});var s=o(7705),h=o(779);let v=(()=>{class u{constructor(m){this.bsModalRef=m,this.title="",this.message="",this.btnOkText="",this.btnCancelText="",this.result=!1}confirm(){this.result=!0,this.bsModalRef.hide()}decline(){this.bsModalRef.hide()}static#t=this.\u0275fac=function(c){return new(c||u)(s.rXU(h.Y$))};static#e=this.\u0275cmp=s.VBU({type:u,selectors:[["app-confirm-dialog"]],decls:11,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(c,k){1&c&&(s.j41(0,"div",0)(1,"h4",1),s.EFF(2),s.k0s()(),s.j41(3,"div",2)(4,"p"),s.EFF(5),s.k0s()(),s.j41(6,"div",3)(7,"button",4),s.bIt("click",function(){return k.confirm()}),s.EFF(8),s.k0s(),s.j41(9,"button",5),s.bIt("click",function(){return k.decline()}),s.EFF(10),s.k0s()()),2&c&&(s.R7$(2),s.JRh(k.title),s.R7$(3),s.JRh(k.message),s.R7$(3),s.JRh(k.btnOkText),s.R7$(2),s.JRh(k.btnCancelText))}})}return u})();var _=o(6354),T=o(3587),t=o(1626);let l=(()=>{class u{constructor(m,c){this.modalService=m,this.http=c,this.baseUrl=T.c.apiUrl}confirm(m="Confirmation",c="Are you sure you want to do this?",k="Ok",d="Cancel"){return this.bsModelRef=this.modalService.show(v,{initialState:{title:m,message:c,btnOkText:k,btnCancelText:d}}),this.bsModelRef.onHidden.pipe((0,_.T)(()=>this.bsModelRef.content.result))}getHelp(m){return this.http.get(this.baseUrl+"Help/help/"+m)}static#t=this.\u0275fac=function(c){return new(c||u)(s.KVO(h.I8),s.KVO(t.Qq))};static#e=this.\u0275prov=s.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},8639:(j,f,o)=>{o.r(f),o.d(f,{TaskModule:()=>H});var s=o(177),h=o(6697),v=o(5964),_=o(5558),T=o(9126),t=o(7705),l=o(9417),u=o(7206),p=o(779),m=o(9375),c=o(2510),k=o(6295),d=o(9213);const C=function(){return{dateInputFormat:"YYYY-MM-DD"}};function I(i,g){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"div",22),t.nrm(2,"input",23)(3,"app-text-input",24)(4,"ng-select",25)(5,"ng-select",26)(6,"input",27),t.j41(7,"button",28),t.bIt("click",function(){const r=t.eBV(e).index,F=t.XpG(2);return t.Njj(F.removeItem(r))}),t.k0s()()()}if(2&i){const e=g.index,n=t.XpG(2);t.R7$(1),t.Y8G("formGroupName",e),t.R7$(1),t.Y8G("bsValue",n.bsValueDate)("bsConfig",t.lJ4(8,C)),t.R7$(1),t.Y8G("label","Description"),t.R7$(1),t.Y8G("items",n.empIdAndNames),t.R7$(1),t.Y8G("items",n.taskStatuses),t.R7$(1),t.Y8G("bsValue",n.bsValueDate)("bsConfig",t.lJ4(9,C))}}function M(i,g){if(1&i){const e=t.RV6();t.j41(0,"div",4)(1,"form",5)(2,"label",6),t.EFF(3,"Task Type"),t.k0s(),t.nrm(4,"app-text-input",7),t.j41(5,"label",6),t.EFF(6,"Dated"),t.k0s(),t.nrm(7,"input",8),t.j41(8,"label",6),t.EFF(9,"Complete By"),t.k0s(),t.nrm(10,"input",9)(11,"br"),t.j41(12,"label",10),t.EFF(13,"Assigned By"),t.k0s(),t.nrm(14,"ng-select",11),t.j41(15,"label",10),t.EFF(16,"Assigned To"),t.k0s(),t.nrm(17,"ng-select",12),t.j41(18,"label",10),t.EFF(19,"Status"),t.k0s(),t.nrm(20,"ng-select",13),t.j41(21,"label",6),t.EFF(22,"Description"),t.k0s(),t.nrm(23,"app-text-input",14)(24,"hr"),t.j41(25,"label",15),t.EFF(26,"Dated"),t.k0s(),t.j41(27,"label",16),t.EFF(28,"Description"),t.k0s(),t.j41(29,"label",17),t.EFF(30,"User"),t.k0s(),t.j41(31,"label",18),t.EFF(32,"Status"),t.k0s(),t.j41(33,"label",15),t.EFF(34,"Followup"),t.k0s(),t.j41(35,"button",19),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.AddNewTaskItem())}),t.k0s(),t.nrm(36,"br"),t.j41(37,"div",20),t.DNE(38,I,8,10,"div",21),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(1),t.Y8G("formGroup",e.form),t.R7$(3),t.Y8G("label","Task Type"),t.R7$(3),t.Y8G("bsValue",e.bsValueDate)("bsConfig",t.lJ4(11,C)),t.R7$(3),t.Y8G("bsValue",e.bsValueDate)("bsConfig",t.lJ4(12,C)),t.R7$(4),t.Y8G("items",e.empIdAndNames),t.R7$(3),t.Y8G("items",e.empIdAndNames),t.R7$(3),t.Y8G("items",e.taskStatuses),t.R7$(3),t.Y8G("label","Description"),t.R7$(15),t.Y8G("ngForOf",e.taskItems.controls)}}let R=(()=>{class i{constructor(e,n,a){this.service=e,this.fb=n,this.bsModalRef=a,this.updateTaskEvent=new t.bkB,this.empIdAndNames=[],this.form=new l.gE({}),this.bsValueDate=new Date,this.taskStatuses=[{status:"Pending",Value:"pending"},{status:"Canceled",Value:"canceled"},{status:"All Users",Value:"allusers"},{status:"only Admin",Value:"admin"}]}ngOnInit(){this.service.getEmployeeIdAndKnownAs().subscribe({next:e=>{this.empIdAndNames=e}}),this.Initialize(this.task)}Initialize(e){this.form=this.fb.group({id:[e.id],taskType:[e.taskType,l.k0.required],taskDate:[e.taskDate,l.k0.required],assignedToUsername:[e.assignedToUsername,l.k0.required],assignedByUsername:[e.assignedByUsername,l.k0.required],taskDescription:[e.taskDescription,l.k0.required],completeBy:[e.completeBy,l.k0.required],taskStatus:[e.taskStatus,l.k0.required],completedOn:[e.completedOn],taskItems:this.fb.array(e.taskItems.map(n=>this.fb.group({id:n.id,appTaskId:n.appTaskId,transactionDate:[n.transactionDate,l.k0.required],userName:[n.userName],taskItemDescription:[n.taskItemDescription,l.k0.required],nextFollowupOn:[n.nextFollowupOn],taskStatus:[n.taskStatus,l.k0.required]})))})}newTaskItem(){return this.fb.group({id:0,appTaskId:this.task?.id,transactionDate:[new Date,l.k0.required],userName:[this.user?.userName,l.k0.required],taskItemDescription:["",l.k0.required],nextFollowupOn:[""],taskStatus:["pending",l.k0.required]})}get taskItems(){return this.form.get("taskItems")}AddNewTaskItem(){this.taskItems.push(this.newTaskItem())}removeItem(e){this.taskItems.removeAt(e)}updateTask(){var e=this.form.value;console.log("taskeditmodal",e),this.updateTaskEvent.emit(e),this.bsModalRef.hide()}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(u.R),t.rXU(l.ok),t.rXU(p.Y$))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-task-edit-modal"]],inputs:{task:"task",user:"user"},outputs:{updateTaskEvent:"updateTaskEvent"},decls:9,vars:1,consts:[[1,"modal-header"],[1,"stdd",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"modal-body"],[3,"formGroup"],[1,"lbl"],["formControlName","taskType",1,"stdd","w100",3,"label"],["type","text","placeholder","Dated","formControlName","taskDate","bsDatepicker","",1,"stdd","w90",3,"bsValue","bsConfig"],["type","text","placeholder","complete By","formControlName","completeBy","bsDatepicker","",1,"stdd","w90",3,"bsValue","bsConfig"],[1,"lbl","w100"],["bindLabel","knownAs","bindValue","knownAs","labelForId","knownAs","formControlName","assignedByUsername",1,"dropdown","w150",2,"height","fit-content","border-color","black",3,"items"],["bindLabel","knownAs","bindValue","knownAs","labelForId","knownAs","formControlName","assignedToUsername",1,"dropdown","w150",2,"height","fit-content","border-color","black",3,"items"],["bindLabel","Value","bindValue","Value","labelForId","Value","formControlName","taskStatus",1,"dropdown","w150",2,"height","fit-content","border-color","black",3,"items"],["formControlName","taskDescription",1,"stdd",2,"width","650px",3,"label"],[1,"lbl","w80"],[1,"lbl","w325"],[1,"dropdown","w100"],[1,"dropdown","w125"],[1,"btn","w25","fa","fa-plus",3,"click"],["formArrayName","taskItems"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["type","text","placeholder","dated","formControlName","transactionDate","bsDatepicker","",1,"stdd","w80",3,"bsValue","bsConfig"],["formControlName","taskItemDescription",1,"stdd","w325",3,"label"],["bindLabel","knownAs","bindValue","knownAs","labelForId","knownAs","formControlName","userName",1,"dropdown","w100",2,"height","fit-content","border-color","black",3,"items"],["bindLabel","Value","bindValue","Value","labelForId","Value","formControlName","taskStatus",1,"dropdown","w125",2,"height","fit-content","border-color","black",3,"items"],["type","text","placeholder","Followup on","formControlName","nextFollowupOn","bsDatepicker","",1,"stdd","w80",3,"bsValue","bsConfig"],[1,"btn","w25","fa","fa-trash","fa-sm","red",3,"click"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return a.updateTask()}),t.j41(2,"mat-icon"),t.EFF(3,"save"),t.k0s()(),t.j41(4,"button",1),t.bIt("click",function(){return a.bsModalRef.hide()}),t.j41(5,"mat-icon"),t.EFF(6,"cancel"),t.k0s()()(),t.DNE(7,M,39,13,"div",2),t.nrm(8,"div",3)),2&n&&(t.R7$(7),t.Y8G("ngIf",a.task))},dependencies:[s.Sq,s.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,l.$R,l.v8,m.pc,m.p0,c.vr,k.f,d.An],styles:[".w25[_ngcontent-%COMP%]{width:25px}.w90[_ngcontent-%COMP%]{width:80px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w200[_ngcontent-%COMP%]{width:200px}.w325[_ngcontent-%COMP%]{width:325px}.red[_ngcontent-%COMP%]{color:red}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;vertical-align:top;margin:0 2px}.lbl[_ngcontent-%COMP%]{display:inline-block;font-size:x-small;vertical-align:top;margin:0 2px;font-weight:700}.dropdown[_ngcontent-%COMP%]{display:inline-block;font-size:x-small;margin:0 2px}"]})}return i})();var w=o(5743),P=o(1822),x=o(8256),V=o(778),O=o(3400);function U(i,g){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"div",1),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"div",2),t.EFF(5),t.k0s(),t.j41(6,"div",3),t.EFF(7),t.k0s(),t.j41(8,"div",4),t.EFF(9),t.k0s(),t.j41(10,"div",2),t.EFF(11),t.k0s(),t.j41(12,"div",5),t.EFF(13),t.k0s(),t.j41(14,"div",1),t.EFF(15),t.nI1(16,"date"),t.k0s(),t.j41(17,"div",1),t.EFF(18),t.k0s(),t.j41(19,"button",6),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.editClicked())}),t.k0s(),t.j41(20,"button",7),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.completedClicked())}),t.k0s(),t.j41(21,"button",8),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.deleteClicked())}),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.JRh(t.i5U(3,9,e.task.taskDate,"dd-MMM-yy")),t.R7$(3),t.JRh(e.task.assignedByUsername),t.R7$(2),t.JRh(e.task.assignedToUsername),t.R7$(2),t.JRh(e.task.taskType),t.R7$(2),t.JRh(e.task.orderItemId),t.R7$(2),t.JRh(e.task.taskDescription),t.R7$(2),t.JRh(t.i5U(16,12,e.task.completeBy,"dd-MMM-yy")),t.R7$(3),t.JRh(e.task.taskStatus),t.R7$(2),t.Y8G("disabled","Completed"===e.task.taskStatus)}}let D=(()=>{class i{constructor(e,n){this.service=e,this.toastr=n,this.editEvent=new t.bkB,this.completedEvent=new t.bkB,this.deleteEvent=new t.bkB}completedClicked(){this.completedEvent.emit(this.task?.id)}deleteClicked(){this.deleteEvent.emit(this.task?.id)}editClicked(){this.task&&this.service.getTaskWithItems(this.task?.id).subscribe({next:e=>{e&&this.editEvent.emit(e)}})}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(u.R),t.rXU(x.tw))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-task-line"]],inputs:{task:"task"},outputs:{editEvent:"editEvent",completedEvent:"completedEvent",deleteEvent:"deleteEvent"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"stdd","w100"],[1,"stdd","w75"],[1,"stdd","w75",2,"text-align","center"],[1,"stdd","w90"],[1,"stdd","w350"],["title","edit this task item",1,"btn","fa","fa-pencil",3,"click"],["title","mark as completed",1,"btn","fa","fa-check","green",3,"disabled","click"],["title","Delete this task",1,"btn","fa","fa-trash","red",3,"click"]],template:function(n,a){1&n&&t.DNE(0,U,22,15,"div",0),2&n&&t.Y8G("ngIf",a.task)},dependencies:[s.bT,s.vh],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;margin:0 2px;vertical-align:top;word-wrap:break-word}.w75[_ngcontent-%COMP%]{width:75px}.w90[_ngcontent-%COMP%]{width:90px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w350[_ngcontent-%COMP%]{width:350px}.cursorpointer[_ngcontent-%COMP%]{cursor:pointer}.red[_ngcontent-%COMP%]{color:red}.green[_ngcontent-%COMP%]{color:green}.btn[_ngcontent-%COMP%]{color:#f0f8ff}"]})}return i})();const G=["search"];function S(i,g){if(1&i){const e=t.RV6();t.j41(0,"div",14)(1,"label",15),t.EFF(2,"Choose Task Type"),t.k0s(),t.j41(3,"ng-select",16),t.bIt("ngModelChange",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.sParams.taskType=a)}),t.k0s(),t.j41(4,"label",17),t.EFF(5,"Choose Status"),t.k0s(),t.j41(6,"ng-select",18),t.bIt("ngModelChange",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.sParams.taskStatus=a)}),t.k0s(),t.j41(7,"button",19),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.applyStatus())}),t.j41(8,"mat-icon"),t.EFF(9,"check"),t.k0s()(),t.j41(10,"button",5),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.onReset())}),t.j41(11,"mat-icon"),t.EFF(12,"refresh"),t.k0s()(),t.j41(13,"button",20)(14,"mat-icon"),t.EFF(15,"cancel"),t.k0s()(),t.j41(16,"pagination",21),t.bIt("pageChanged",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.onPageChanged(a))}),t.EFF(17," >"),t.k0s(),t.j41(18,"label",22),t.EFF(19),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(3),t.Y8G("items",e.taskTypes)("ngModel",e.sParams.taskType),t.R7$(3),t.Y8G("items",e.taskStatuses)("ngModel",e.sParams.taskStatus),t.R7$(10),t.Y8G("totalItems",e.pagination.totalItems)("itemsPerPage",e.pagination.itemsPerPage)("maxSize",15),t.R7$(3),t.SpI(" of ",e.pagination.totalItems,"")}}function N(i,g){1&i&&(t.j41(0,"div"),t.EFF(1,"No tasks on record matching the criteria"),t.k0s())}function $(i,g){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"app-task-line",24),t.bIt("completedEvent",function(a){t.eBV(e);const r=t.XpG(2);return t.Njj(r.markAsCompleted(a))})("deleteEvent",function(a){t.eBV(e);const r=t.XpG(2);return t.Njj(r.removeTask(a))})("editEvent",function(a){t.eBV(e);const r=t.XpG(2);return t.Njj(r.editTaskModal(a))}),t.k0s()()}if(2&i){const e=g.$implicit;t.R7$(1),t.Y8G("task",e)}}function A(i,g){if(1&i&&(t.j41(0,"div"),t.DNE(1,$,2,1,"div",23),t.k0s()),2&i){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",e.tasks)}}let B=(()=>{class i{constructor(e,n,a,r,F,b){this.activatedRoute=e,this.accountService=n,this.service=a,this.toastr=r,this.bsModalService=F,this.confirm=b,this.lastStatus="",this.tasks=[],this.sParams=new T.U,this.totalCount=0,this.parameterCriteria="",this.taskStatuses=[{status:"Pending",Value:"pending"},{status:"Canceled",Value:"canceled"},{status:"All Users",Value:"allusers"},{status:"only Admin",Value:"admin"}],this.taskTypes=[{type:"Customer Feedback",Value:"CustomerFeedbackResponse"},{type:"CV Forward",Value:"CVFwdTask"},{type:"Employment Acceptance",Value:"EmploymentAcceptance"},{type:"Selection Followup",Value:"SelectionFollowupWithClient"},{type:"Prospective Candidates",Value:"Prospective"},{type:"Portal Task",Value:"PortalTask"},{type:"Order Forward To HR",Value:"OrderFwdToHR"},{type:"Assign Task To HR Exec",Value:"AssignTaskToHRExec"},{type:"Calling list status",Value:"CallingListStatus"}],this.accountService.currentUser$.pipe((0,h.s)(1)).subscribe(E=>this.user=E)}ngOnInit(){console.log("sParams",this.sParams),this.sParams.taskStatus.toLowerCase(),this.getTasksPaged()}getTasksPaged(){this.service.setParams(this.sParams),this.service.getPaginatedTasks().subscribe({next:e=>{e.result&&e.pagination&&(this.tasks=e.result,this.pagination=e.pagination,this.totalCount=e.count)},error:e=>this.toastr.error(e.error.details,"Error")})}markAsCompleted(e){this.service.completeTask(e).subscribe({next:n=>{if(""===n||null===n){this.toastr.success("Task Marked as Completed","Task Completed");var a=this.tasks.findIndex(r=>r.id===e);-1!==a&&("Pending"===this.sParams.taskStatus?this.tasks.splice(a,1):this.tasks[a].taskStatus="Completed")}else this.toastr.warning(n,"Failed to mark the task as completed")},error:n=>{this.toastr.error(n.error.details,"Error in marking the task as completed")}})}removeTask(e){const r=this.service.deleteTask(e);this.confirm.confirm("confirm Delete","confirm delete this Task. WARNING: this cannot be undone").pipe((0,v.p)(b=>b),(0,_.n)(()=>r)).subscribe(b=>{if(console.log("response post delete",b),""===b||null===b){this.toastr.success("Task deleted","deletion successful");var E=this.tasks.findIndex(y=>y.id==e);-1!==E&&this.tasks.splice(E,1)}else this.toastr.error(b,"failed to delete")})}onPageChanged(e){this.service.getParams(),this.sParams.pageNumber!==e.page&&(this.sParams.pageNumber=e.page,this.service.setParams(this.sParams),this.getTasksPaged())}onSearch(){const e=this.service.getParams();e.search=this.searchTerm.nativeElement.value,e.pageNumber=1,this.getTasksPaged()}onReset(){this.searchTerm.nativeElement.value="",this.sParams=new T.U,this.sParams.assignedByUsername=this.user?.userName,this.sParams.assignedToUsername=this.user?.userName,this.getTasksPaged()}applyStatus(){(null===this.sParams.taskStatus||this.lastStatus!==this.sParams.taskStatus)&&(this.lastStatus=this.sParams.taskStatus||"pending",this.sParams.pageNumber=1,this.getTasksPaged())}editTaskModal(e){null!==e?(this.bsModalRef=this.bsModalService.show(R,{class:"modal-dialog-centered modal-lg",initialState:{task:e,user:this.user}}),this.bsModalRef.content.updateTaskEvent.pipe((0,v.p)(r=>null!==r),(0,_.n)(r=>this.service.UpdateTask(r))).subscribe(r=>{null!==r?this.toastr.success("Task updated","Success"):this.toastr.warning(r,"Failure")})):this.toastr.warning("No Task object returned from Task line")}medicalObjectives(){this.service.getMedicalObjectives("","").subscribe({next:e=>console.log(e)})}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(w.nX),t.rXU(P.D),t.rXU(u.R),t.rXU(x.tw),t.rXU(p.I8),t.rXU(V.G))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-user-tasks"]],viewQuery:function(n,a){if(1&n&&t.GBs(G,5),2&n){let r;t.mGM(r=t.lsd())&&(a.searchTerm=r.first)}},decls:33,vars:4,consts:[[2,"margin-left","15px","display","inline-block","font-size","large","font-weight","bold"],["style","display: inline-block;","class","mx-5",4,"ngIf"],[1,"stdd","form-inline"],["type","text","placeholder","Search",1,"stdd","form-control","w200",3,"keyup.enter"],["search",""],[1,"btn",3,"click"],[1,"container"],[1,"lbl","w100"],[1,"lbl","w75"],[1,"lbl","w90"],[1,"stdd","w75"],[1,"lbl","w350"],[1,"btn","fa","fa-check",3,"click"],[4,"ngIf"],[1,"mx-5",2,"display","inline-block"],[1,"lbl","w100","mx-2",2,"text-align","right"],["bindLabel","type","bindValue","value","labelForId","type","clearAllText","Clear",1,"stdd","w150",3,"items","ngModel","ngModelChange"],[1,"lbl","w100","mx-2",2,"display","inline-block","text-align","right"],["bindLabel","status","bindValue","value","labelForId","status","clearAllText","Clear",1,"stdd","w100",3,"items","ngModel","ngModelChange"],["title","recalculate data based on task status selected",1,"btn",2,"display","inline-block",3,"click"],["routerLink","/",1,"btn","pull-right"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",2,"margin","0 5px 0 5px","display","inline-block",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[2,"width","50px","display","inline-block","font-size","medium","word-wrap","break-word","vertical-align","middle"],[4,"ngFor","ngForOf"],[3,"task","completedEvent","deleteEvent","editEvent"]],template:function(n,a){1&n&&(t.j41(0,"div",0),t.EFF(1,"Tasks assigned by/to "),t.j41(2,"strong"),t.EFF(3),t.k0s()(),t.DNE(4,S,20,8,"div",1),t.j41(5,"div",2)(6,"input",3,4),t.bIt("keyup.enter",function(){return a.onSearch()}),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return a.onSearch()}),t.j41(9,"mat-icon"),t.EFF(10,"search"),t.k0s()()(),t.j41(11,"div",6)(12,"label",7),t.EFF(13,"Date"),t.k0s(),t.j41(14,"label",8),t.EFF(15,"Assigned By"),t.k0s(),t.j41(16,"label",8),t.EFF(17,"Assigned To"),t.k0s(),t.j41(18,"label",9),t.EFF(19,"Task Type"),t.k0s(),t.j41(20,"div",10),t.EFF(21,"Order Item"),t.nrm(22,"br"),t.EFF(23,"Id"),t.k0s(),t.j41(24,"label",11),t.EFF(25,"Task Description"),t.k0s(),t.j41(26,"label",7),t.EFF(27,"Complete By"),t.k0s(),t.j41(28,"label",7),t.EFF(29,"Status"),t.k0s(),t.j41(30,"button",12),t.bIt("click",function(){return a.medicalObjectives()}),t.k0s(),t.DNE(31,N,2,0,"div",13),t.DNE(32,A,2,1,"div",13),t.k0s()),2&n&&(t.R7$(3),t.JRh(null==a.user?null:a.user.knownAs),t.R7$(1),t.Y8G("ngIf",a.tasks&&a.pagination),t.R7$(27),t.Y8G("ngIf",!a.tasks),t.R7$(1),t.Y8G("ngIf",a.tasks))},dependencies:[s.Sq,s.bT,w.Wk,l.BC,l.vS,O.eK,c.vr,d.An,D],styles:['.lbl[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;font-weight:700;margin:0 2px;vertical-align:middle}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;margin:0 2px;vertical-align:top;word-wrap:break-word}.w75[_ngcontent-%COMP%]{width:75px}.w90[_ngcontent-%COMP%]{width:90px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w200[_ngcontent-%COMP%]{width:200px}.w350[_ngcontent-%COMP%]{width:350px}.cursorpointer[_ngcontent-%COMP%]{cursor:pointer;color:#00f}.inputCheck[_ngcontent-%COMP%]{margin:2px 5px 2px 10px;width:40px;border:2px;border-color:#000}input[type=radio][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:15px;height:15px;border:1px solid #fff;border-radius:50%;margin-right:5px;background-color:#c3b1b1;position:relative;vertical-align:middle}input[type=radio][_ngcontent-%COMP%]:checked:before{content:"";display:block;width:9px;height:9px;background-color:#4a0fec;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);animation:appear .8s}.btn[_ngcontent-%COMP%]{color:#f0f8ff;margin:0 2px;width:20px;vertical-align:middle;display:inline-block}']})}return i})();const L=[{path:"",component:(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-task-menu"]],decls:13,vars:0,consts:[[1,"container","d-flex","justify-contents-between","align-items-center","mt-5"],["title","pending tasks of logged-in user",1,"nav-item","menuStdd"],["routerLink","/tasks/loggedInUserTasks","routerLinkActive","active",1,"nav-item","menuStdd"],["title","create a new Task",1,"nav-item","menuStdd"],["routerLink","/tasks/newTask","routerLinkActive","active",1,"nav-link"],["title","pending tasks of all users - available to admin users",1,"nav-item","menuStdd"],["routerLink","/tasks/tasksforadmin","routerLinkActive","active",1,"nav-link"],["title","messages concerning the logged-in User","routerLink","/administration/messages","routerLinkActive","active",1,"nav-item","menuStdd"],["title","go back to home","routerLink","/",1,"fa","fa-window-close"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"a",2),t.EFF(3,"Pending tasks of Logged-in User"),t.k0s()(),t.j41(4,"div",3)(5,"a",4),t.EFF(6,"Create new Task"),t.k0s()(),t.j41(7,"div",5)(8,"a",6),t.EFF(9,"Pending Tasks-all Users"),t.k0s()(),t.j41(10,"div",7),t.EFF(11," Messages "),t.k0s(),t.nrm(12,"button",8),t.k0s())},dependencies:[w.Wk,w.wQ],styles:[".menuStdd[_ngcontent-%COMP%]{display:inline-block;width:100px;margin:3px;word-wrap:break-word;text-align:center;vertical-align:middle;border:2px;font-size:small;font-weight:700;cursor:pointer;border-style:ridge;height:5em}"]})}return i})()},{path:"loggedInUserTasks",component:B},{path:"objectives",component:o(4446).w}];let J=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.$C({type:i});static#s=this.\u0275inj=t.G2t({imports:[s.MD,w.iI.forChild(L),w.iI]})}return i})();var z=o(9485);let H=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.$C({type:i});static#s=this.\u0275inj=t.G2t({imports:[s.MD,J,l.YN,l.X1,z.G,d.m_]})}return i})()}}]);