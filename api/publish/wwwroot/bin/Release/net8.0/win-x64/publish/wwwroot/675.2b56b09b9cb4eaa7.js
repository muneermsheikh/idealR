"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[675],{4675:(ii,ae,d)=>{d.r(ae),d.d(ae,{FeedbackModule:()=>oi});var v=d(177),it=d(9485),F=d(5743),ct=d(3265),f=d(9417);const oe=function ut(t,r){return t===r||t!=t&&r!=r},B=function pt(t,r){for(var n=t.length;n--;)if(oe(t[n][0],r))return n;return-1};var bt=Array.prototype.splice;function j(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var a=t[r];this.set(a[0],a[1])}}j.prototype.clear=function lt(){this.__data__=[],this.size=0},j.prototype.delete=function _t(t){var r=this.__data__,n=B(r,t);return!(n<0||(n==r.length-1?r.pop():bt.call(r,n,1),--this.size,0))},j.prototype.get=function mt(t){var r=this.__data__,n=B(r,t);return n<0?void 0:r[n][1]},j.prototype.has=function yt(t){return B(this.__data__,t)>-1},j.prototype.set=function vt(t,r){var n=this.__data__,a=B(n,t);return a<0?(++this.size,n.push([t,r])):n[a][1]=r,this};const D=j,se="object"==typeof global&&global&&global.Object===Object&&global;var Pt="object"==typeof self&&self&&self.Object===Object&&self;const _=se||Pt||Function("return this")(),C=_.Symbol;var ie=Object.prototype,Rt=ie.hasOwnProperty,Mt=ie.toString,E=C?C.toStringTag:void 0;var $t=Object.prototype.toString;var ce=C?C.toStringTag:void 0;const O=function zt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ce&&ce in Object(t)?function Gt(t){var r=Rt.call(t,E),n=t[E];try{t[E]=void 0;var a=!0}catch{}var o=Mt.call(t);return a&&(r?t[E]=n:delete t[E]),o}(t):function Ut(t){return $t.call(t)}(t)},P=function Xt(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)},le=function Qt(t){if(!P(t))return!1;var r=O(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r};var t,qt=_["__core-js_shared__"],de=(t=/[^.]+$/.exec(qt&&qt.keys&&qt.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var nn=Function.prototype.toString;const m=function rn(t){if(null!=t){try{return nn.call(t)}catch{}try{return t+""}catch{}}return""};var on=/^\[object .+?Constructor\]$/,un=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const fn=function pn(t){return!(!P(t)||function Zt(t){return!!de&&de in t}(t))&&(le(t)?un:on).test(m(t))},h=function gn(t,r){var n=function bn(t,r){return t?.[r]}(t,r);return fn(n)?n:void 0},A=h(_,"Map"),N=h(Object,"create");var Tn=Object.prototype.hasOwnProperty;var Sn=Object.prototype.hasOwnProperty;function T(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var a=t[r];this.set(a[0],a[1])}}T.prototype.clear=function yn(){this.__data__=N?N(null):{},this.size=0},T.prototype.delete=function vn(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},T.prototype.get=function In(t){var r=this.__data__;if(N){var n=r[t];return"__lodash_hash_undefined__"===n?void 0:n}return Tn.call(r,t)?r[t]:void 0},T.prototype.has=function En(t){var r=this.__data__;return N?void 0!==r[t]:Sn.call(r,t)},T.prototype.set=function An(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=N&&void 0===r?"__lodash_hash_undefined__":r,this};const ue=T,$=function Dn(t,r){var n=t.__data__;return function Gn(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t}(r)?n["string"==typeof r?"string":"hash"]:n.map};function I(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var a=t[r];this.set(a[0],a[1])}}I.prototype.clear=function Rn(){this.size=0,this.__data__={hash:new ue,map:new(A||D),string:new ue}},I.prototype.delete=function $n(t){var r=$(this,t).delete(t);return this.size-=r?1:0,r},I.prototype.get=function Ln(t){return $(this,t).get(t)},I.prototype.has=function Yn(t){return $(this,t).has(t)},I.prototype.set=function Xn(t,r){var n=$(this,t),a=n.size;return n.set(t,r),this.size+=n.size==a?0:1,this};const Kn=I;function x(t){var r=this.__data__=new D(t);this.size=r.size}x.prototype.clear=function jt(){this.__data__=new D,this.size=0},x.prototype.delete=function Tt(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n},x.prototype.get=function xt(t){return this.__data__.get(t)},x.prototype.has=function St(t){return this.__data__.has(t)},x.prototype.set=function Wn(t,r){var n=this.__data__;if(n instanceof D){var a=n.__data__;if(!A||a.length<199)return a.push([t,r]),this.size=++n.size,this;n=this.__data__=new Kn(a)}return n.set(t,r),this.size=n.size,this};const qn=x;var tr=function(){try{var t=h(Object,"defineProperty");return t({},"",{}),t}catch{}}();const pe=tr,fe=function nr(t,r,n){"__proto__"==r&&pe?pe(t,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[r]=n};var ar=Object.prototype.hasOwnProperty;const be=function or(t,r,n){var a=t[r];(!ar.call(t,r)||!oe(a,n)||void 0===n&&!(r in t))&&fe(t,r,n)},U=function sr(t,r,n,a){var o=!n;n||(n={});for(var s=-1,i=r.length;++s<i;){var u=r[s],b=a?a(n[u],t[u],u,n,t):void 0;void 0===b&&(b=t[u]),o?fe(n,u,b):be(n,u,b)}return n},R=function lr(t){return null!=t&&"object"==typeof t},_e=function ur(t){return R(t)&&"[object Arguments]"==O(t)};var ge=Object.prototype,pr=ge.hasOwnProperty,fr=ge.propertyIsEnumerable,br=_e(function(){return arguments}())?_e:function(t){return R(t)&&pr.call(t,"callee")&&!fr.call(t,"callee")};const _r=br,Y=Array.isArray;var me="object"==typeof exports&&exports&&!exports.nodeType&&exports,he=me&&"object"==typeof module&&module&&!module.nodeType&&module,ye=he&&he.exports===me?_.Buffer:void 0;const ke=(ye?ye.isBuffer:void 0)||function mr(){return!1};var jr=/^(?:0|[1-9]\d*)$/;const Tr=function Cr(t,r){var n=typeof t;return!!(r=r??9007199254740991)&&("number"==n||"symbol"!=n&&jr.test(t))&&t>-1&&t%1==0&&t<r},ve=function xr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;const z=function ea(t){return function(r){return t(r)}};var Fe="object"==typeof exports&&exports&&!exports.nodeType&&exports,M=Fe&&"object"==typeof module&&module&&!module.nodeType&&module,X=M&&M.exports===Fe&&se.process;const w=function(){try{return M&&M.require&&M.require("util").types||X&&X.binding&&X.binding("util")}catch{}}();var je=w&&w.isTypedArray;const aa=je?z(je):function qr(t){return R(t)&&ve(t.length)&&!!l[O(t)]};var sa=Object.prototype.hasOwnProperty;const Ce=function ia(t,r){var n=Y(t),a=!n&&_r(t),o=!n&&!a&&ke(t),s=!n&&!a&&!o&&aa(t),i=n||a||o||s,u=i?function ir(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}(t.length,String):[],b=u.length;for(var p in t)(r||sa.call(t,p))&&(!i||!("length"==p||o&&("offset"==p||"parent"==p)||s&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||Tr(p,b)))&&u.push(p);return u};var ca=Object.prototype;const H=function la(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||ca)},Te=function da(t,r){return function(n){return t(r(n))}},pa=Te(Object.keys,Object);var ba=Object.prototype.hasOwnProperty;const Ie=function ma(t){return null!=t&&ve(t.length)&&!le(t)},K=function ha(t){return Ie(t)?Ce(t):function _a(t){if(!H(t))return pa(t);var r=[];for(var n in Object(t))ba.call(t,n)&&"constructor"!=n&&r.push(n);return r}(t)};var Ca=Object.prototype.hasOwnProperty;const Ia=function Ta(t){if(!P(t))return function va(t){var r=[];if(null!=t)for(var n in Object(t))r.push(n);return r}(t);var r=H(t),n=[];for(var a in t)"constructor"==a&&(r||!Ca.call(t,a))||n.push(a);return n},J=function xa(t){return Ie(t)?Ce(t,!0):Ia(t)};var xe="object"==typeof exports&&exports&&!exports.nodeType&&exports,we=xe&&"object"==typeof module&&module&&!module.nodeType&&module,Se=we&&we.exports===xe?_.Buffer:void 0,Ee=Se?Se.allocUnsafe:void 0;const Oe=function Ga(){return[]};var Da=Object.prototype.propertyIsEnumerable,Pe=Object.getOwnPropertySymbols,$a=Pe?function(t){return null==t?[]:(t=Object(t),function Ra(t,r){for(var n=-1,a=null==t?0:t.length,o=0,s=[];++n<a;){var i=t[n];r(i,n,t)&&(s[o++]=i)}return s}(Pe(t),function(r){return Da.call(t,r)}))}:Oe;const W=$a,Ae=function Va(t,r){for(var n=-1,a=r.length,o=t.length;++n<a;)t[o+n]=r[n];return t},Ne=Te(Object.getPrototypeOf,Object);var Xa=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)Ae(r,W(t)),t=Ne(t);return r}:Oe;const Re=Xa,Me=function Ja(t,r,n){var a=r(t);return Y(t)?a:Ae(a,n(t))},Qa=function Wa(t){return Me(t,K,W)},Za=function qa(t){return Me(t,J,Re)},Q=h(_,"DataView"),q=h(_,"Promise"),Z=h(_,"Set"),ee=h(_,"WeakMap");var Ge="[object Map]",Be="[object Promise]",De="[object Set]",$e="[object WeakMap]",Ue="[object DataView]",oo=m(Q),so=m(A),io=m(q),co=m(Z),lo=m(ee),y=O;(Q&&y(new Q(new ArrayBuffer(1)))!=Ue||A&&y(new A)!=Ge||q&&y(q.resolve())!=Be||Z&&y(new Z)!=De||ee&&y(new ee)!=$e)&&(y=function(t){var r=O(t),n="[object Object]"==r?t.constructor:void 0,a=n?m(n):"";if(a)switch(a){case oo:return Ue;case so:return Ge;case io:return Be;case co:return De;case lo:return $e}return r});const te=y;var po=Object.prototype.hasOwnProperty;const Le=_.Uint8Array,ne=function go(t){var r=new t.constructor(t.byteLength);return new Le(r).set(new Le(t)),r};var yo=/\w*$/;var Ve=C?C.prototype:void 0,Ye=Ve?Ve.valueOf:void 0;const Xo=function zo(t,r,n){var a=t.constructor;switch(r){case"[object ArrayBuffer]":return ne(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function mo(t,r){var n=r?ne(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Co(t,r){var n=r?ne(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return function ko(t){var r=new t.constructor(t.source,yo.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function Fo(t){return Ye?Object(Ye.call(t)):{}}(t)}};var ze=Object.create,Ho=function(){function t(){}return function(r){if(!P(r))return{};if(ze)return ze(r);t.prototype=r;var n=new t;return t.prototype=void 0,n}}();const Ko=Ho;var Xe=w&&w.isMap;const ts=Xe?z(Xe):function qo(t){return R(t)&&"[object Map]"==te(t)};var He=w&&w.isSet;const ss=He?z(He):function rs(t){return R(t)&&"[object Set]"==te(t)};var Ke="[object Arguments]",Je="[object Function]",We="[object Object]",c={};c[Ke]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object DataView]"]=c["[object Boolean]"]=c["[object Date]"]=c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Map]"]=c["[object Number]"]=c[We]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object Symbol]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Error]"]=c[Je]=c["[object WeakMap]"]=!1;const As=function L(t,r,n,a,o,s){var i,u=1&r,b=2&r,p=4&r;if(n&&(i=o?n(t,a,o,s):n(t)),void 0!==i)return i;if(!P(t))return t;var G=Y(t);if(G){if(i=function fo(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&po.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return function Aa(t,r){var n=-1,a=t.length;for(r||(r=Array(a));++n<a;)r[n]=t[n];return r}(t,i)}else{var S=te(t),at=S==Je||"[object GeneratorFunction]"==S;if(ke(t))return function Oa(t,r){if(r)return t.slice();var n=t.length,a=Ee?Ee(n):new t.constructor(n);return t.copy(a),a}(t,u);if(S==We||S==Ke||at&&!o){if(i=b||at?{}:function Jo(t){return"function"!=typeof t.constructor||H(t)?{}:Ko(Ne(t))}(t),!u)return b?function Ha(t,r){return U(t,Re(t),r)}(t,function wa(t,r){return t&&U(r,J(r),t)}(i,t)):function Ua(t,r){return U(t,W(t),r)}(t,function ya(t,r){return t&&U(r,K(r),t)}(i,t))}else{if(!c[S])return o?t:{};i=Xo(t,S,u)}}s||(s=new qn);var ot=s.get(t);if(ot)return ot;s.set(t,i),ss(t)?t.forEach(function(g){i.add(L(g,r,n,g,t,s))}):ts(t)&&t.forEach(function(g,k){i.set(k,L(g,r,n,k,t,s))});var st=G?void 0:(p?b?Za:Qa:b?J:K)(t);return function Zn(t,r){for(var n=-1,a=null==t?0:t.length;++n<a&&!1!==r(t[n],n,t););}(st||t,function(g,k){st&&(g=t[k=g]),be(i,k,L(g,r,n,k,t,s))}),i};var Qe=d(6697),Bs=d(8660),e=d(7705),Ds=d(778),qe=d(1822),re=d(8228),$s=d(8256),Ze=d(9375),Us=d(2510),Ls=d(6295),et=d(9726),tt=d(9213);function Vs(t,r){1&t&&(e.j41(0,"div",7),e.EFF(1," No feedback on record\n"),e.k0s())}function Ys(t,r){if(1&t){const n=e.RV6();e.j41(0,"div",0),e.nrm(1,"input",48),e.j41(2,"input",49),e.bIt("change",function(){e.eBV(n);const o=e.XpG().index,s=e.XpG(2);return e.Njj(s.gradeChanged(o))}),e.k0s(),e.nrm(3,"input",50),e.j41(4,"input",51),e.bIt("change",function(){e.eBV(n);const o=e.XpG().index,s=e.XpG(2);return e.Njj(s.gradeChanged(o))}),e.k0s()()}}function zs(t,r){if(1&t){const n=e.RV6();e.j41(0,"div",37),e.nrm(1,"input",38)(2,"app-text-input",39)(3,"input",40),e.j41(4,"input",41),e.bIt("change",function(){const s=e.eBV(n).index,i=e.XpG(2);return e.Njj(i.gradeChanged(s))}),e.k0s(),e.nrm(5,"input",42),e.j41(6,"input",43),e.bIt("change",function(){const s=e.eBV(n).index,i=e.XpG(2);return e.Njj(i.gradeChanged(s))}),e.k0s(),e.DNE(7,Ys,5,0,"div",44),e.j41(8,"div",45),e.nrm(9,"app-text-input",46),e.k0s(),e.j41(10,"button",47),e.bIt("click",function(){const s=e.eBV(n).index,i=e.XpG(2);return e.Njj(i.removeFeedbackItem(s))}),e.k0s()()}if(2&t){const n=r.index;e.Y8G("formGroupName",n),e.R7$(2),e.Y8G("label","Question"),e.R7$(5),e.Y8G("ngIf",n<8),e.R7$(1),e.Y8G("ngClass",n<8?"":"mL215"),e.R7$(1),e.Y8G("label","Remarks")}}const nt=function(){return{dateInputFormat:"YYYY-MM-DD"}};function Xs(t,r){if(1&t){const n=e.RV6();e.j41(0,"div",8)(1,"form",9)(2,"div",10)(3,"label",11),e.EFF(4,"Customer Name"),e.k0s(),e.j41(5,"div",12),e.EFF(6),e.k0s(),e.j41(7,"label",11),e.EFF(8,"Feedback No"),e.k0s(),e.j41(9,"div",13),e.EFF(10),e.k0s(),e.nrm(11,"br"),e.j41(12,"label",11),e.EFF(13,"Official Name"),e.k0s(),e.j41(14,"div",12),e.EFF(15),e.k0s(),e.j41(16,"label",11),e.EFF(17,"Designation"),e.k0s(),e.j41(18,"div",14),e.EFF(19),e.k0s(),e.nrm(20,"br"),e.j41(21,"label",11),e.EFF(22,"Email"),e.k0s(),e.j41(23,"div",14),e.EFF(24),e.k0s(),e.j41(25,"label",15),e.EFF(26,"Phone No"),e.k0s(),e.j41(27,"div",16),e.EFF(28),e.k0s(),e.j41(29,"label",17),e.EFF(30,"Grade"),e.k0s(),e.j41(31,"div",14),e.EFF(32),e.k0s()(),e.j41(33,"div",18)(34,"div",19)(35,"label",20),e.EFF(36,"Feedback History"),e.k0s(),e.j41(37,"ng-select",21),e.bIt("change",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.feedbackIdChanged(o.feedback.id))}),e.k0s(),e.j41(38,"button",22),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.showFeedback())}),e.j41(39,"mat-icon"),e.EFF(40,"search"),e.k0s()(),e.j41(41,"button",23),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.newFeedback())}),e.j41(42,"mat-icon"),e.EFF(43,"add_circle_outline"),e.k0s()(),e.j41(44,"button",24),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.sendEmail())}),e.j41(45,"mat-icon"),e.EFF(46,"mail"),e.k0s()(),e.j41(47,"button",25),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.generatePDF())}),e.j41(48,"mat-icon"),e.EFF(49,"print"),e.k0s()(),e.nrm(50,"hr"),e.j41(51,"label",26),e.EFF(52,"Issued On"),e.k0s(),e.nrm(53,"input",27),e.j41(54,"label",28),e.EFF(55,"Received On"),e.k0s(),e.nrm(56,"input",29),e.k0s()(),e.nrm(57,"hr",30),e.j41(58,"label",31),e.EFF(59,"Sr#"),e.k0s(),e.j41(60,"label",32),e.EFF(61,"Parameter"),e.k0s(),e.j41(62,"label",33),e.EFF(63,"Response"),e.k0s(),e.j41(64,"label",34),e.EFF(65,"Remarks"),e.k0s(),e.nrm(66,"hr",30),e.j41(67,"div",35),e.DNE(68,zs,11,5,"div",36),e.k0s()()()}if(2&t){const n=e.XpG();e.R7$(1),e.Y8G("formGroup",n.form),e.R7$(5),e.Lme(" ",n.feedback.customerName,", ",n.feedback.city,""),e.R7$(4),e.JRh(n.feedback.feedbackNo),e.R7$(5),e.SpI(" ",n.feedback.officialName,""),e.R7$(4),e.SpI(" ",n.feedback.designation,""),e.R7$(5),e.SpI(" ",n.feedback.email,""),e.R7$(4),e.SpI(" ",n.feedback.phoneNo,""),e.R7$(4),e.SpI(" ",n.feedback.gradeAssessedByClient,""),e.R7$(5),e.Y8G("items",n.feedbackHistory),e.R7$(1),e.Y8G("disabled",0===(null==n.feedbackHistory?null:n.feedbackHistory.length)),e.R7$(3),e.Y8G("disabled",0===n.feedback.id),e.R7$(6),e.Y8G("previewOnly",!1)("useExistingCss",!0),e.R7$(6),e.Y8G("bsValue",n.bsValueDate)("bsConfig",e.lJ4(19,nt)),e.R7$(3),e.Y8G("bsValue",n.bsValueDate)("bsConfig",e.lJ4(20,nt)),e.R7$(12),e.Y8G("ngForOf",n.feedbackItems.controls)}}function Hs(t,r){1&t&&(e.j41(0,"mat-icon"),e.EFF(1,"check"),e.k0s())}function Ks(t,r){1&t&&(e.j41(0,"mat-icon"),e.EFF(1,"check"),e.k0s())}function Js(t,r){1&t&&(e.j41(0,"mat-icon"),e.EFF(1,"check"),e.k0s())}function Ws(t,r){1&t&&(e.j41(0,"mat-icon"),e.EFF(1,"check"),e.k0s())}function Qs(t,r){if(1&t&&(e.j41(0,"div")(1,"div",62),e.EFF(2),e.k0s(),e.j41(3,"div",63),e.EFF(4),e.k0s(),e.j41(5,"div",64),e.EFF(6),e.k0s(),e.j41(7,"div",65),e.DNE(8,Hs,2,0,"mat-icon",66),e.k0s(),e.j41(9,"div",64),e.EFF(10),e.k0s(),e.j41(11,"div",65),e.DNE(12,Ks,2,0,"mat-icon",66),e.k0s(),e.j41(13,"div",64),e.EFF(14),e.k0s(),e.j41(15,"div",65),e.DNE(16,Js,2,0,"mat-icon",66),e.k0s(),e.j41(17,"div",64),e.EFF(18),e.k0s(),e.j41(19,"div",65),e.DNE(20,Ws,2,0,"mat-icon",66),e.k0s(),e.j41(21,"div",67),e.EFF(22),e.k0s()()),2&t){const n=r.$implicit;e.R7$(2),e.JRh(n.questionNo),e.R7$(2),e.JRh(n.question),e.R7$(2),e.JRh(n.prompt1),e.R7$(2),e.Y8G("ngIf","20"===n.response),e.R7$(2),e.JRh(n.prompt2),e.R7$(2),e.Y8G("ngIf","15"===n.response),e.R7$(2),e.JRh(n.prompt3),e.R7$(2),e.Y8G("ngIf","10"===n.response),e.R7$(2),e.JRh(n.prompt4),e.R7$(2),e.Y8G("ngIf","5"===n.response),e.R7$(2),e.JRh(n.remarks)}}function qs(t,r){if(1&t&&(e.j41(0,"div",52)(1,"div",53),e.EFF(2),e.k0s(),e.j41(3,"div",54),e.EFF(4),e.k0s(),e.j41(5,"div",54),e.EFF(6),e.k0s(),e.j41(7,"div",55),e.EFF(8,"Feedback Form"),e.k0s(),e.j41(9,"div",56)(10,"label",11),e.EFF(11,"Customer Name"),e.k0s(),e.j41(12,"div",12),e.EFF(13),e.k0s(),e.j41(14,"label",11),e.EFF(15,"Feedback No"),e.k0s(),e.j41(16,"div",13),e.EFF(17),e.k0s(),e.nrm(18,"br"),e.j41(19,"label",11),e.EFF(20,"Official Name"),e.k0s(),e.j41(21,"div",12),e.EFF(22),e.k0s(),e.j41(23,"label",26),e.EFF(24,"Designation"),e.k0s(),e.j41(25,"div",12),e.EFF(26),e.k0s(),e.nrm(27,"br"),e.j41(28,"label",11),e.EFF(29,"Email"),e.k0s(),e.j41(30,"div",12),e.EFF(31),e.k0s(),e.j41(32,"label",11),e.EFF(33,"Phone No"),e.k0s(),e.j41(34,"div",14),e.EFF(35),e.k0s(),e.j41(36,"label",17),e.EFF(37,"Grade"),e.k0s(),e.j41(38,"div",14),e.EFF(39),e.k0s(),e.nrm(40,"br"),e.j41(41,"label",11),e.EFF(42,"Issued On"),e.k0s(),e.j41(43,"div",57),e.EFF(44),e.nI1(45,"date"),e.k0s(),e.j41(46,"label",28),e.EFF(47,"Received On"),e.k0s(),e.j41(48,"div",57),e.EFF(49),e.nI1(50,"date"),e.k0s()(),e.nrm(51,"hr",30),e.j41(52,"label",31),e.EFF(53,"Sr#"),e.k0s(),e.j41(54,"label",58),e.EFF(55,"Parameter"),e.k0s(),e.j41(56,"label",33),e.EFF(57,"Response"),e.k0s(),e.j41(58,"label",59),e.EFF(59,"Remarks"),e.k0s(),e.nrm(60,"hr",30),e.DNE(61,Qs,23,11,"div",60),e.j41(62,"div",61),e.EFF(63),e.k0s()()),2&t){const n=e.XpG();e.R7$(2),e.JRh(null==n.user?null:n.user.employer),e.R7$(2),e.JRh(null==n.user?null:n.user.address),e.R7$(2),e.Lme("",null==n.user?null:n.user.city,", ",null==n.user?null:n.user.country,""),e.R7$(7),e.Lme(" ",n.feedbackForPrint.customerName,", ",n.feedbackForPrint.city,""),e.R7$(4),e.JRh(n.feedbackForPrint.feedbackNo),e.R7$(5),e.SpI(" ",n.feedbackForPrint.officialName,""),e.R7$(4),e.SpI(" ",n.feedbackForPrint.designation,""),e.R7$(5),e.SpI(" ",n.feedbackForPrint.email,""),e.R7$(4),e.SpI(" ",n.feedbackForPrint.phoneNo,""),e.R7$(4),e.SpI(" ",n.feedbackForPrint.gradeAssessedByClient,""),e.R7$(5),e.JRh(e.i5U(45,16,n.feedbackForPrint.dateIssued,"dd-MMM-yyyy")),e.R7$(5),e.JRh(e.i5U(50,19,n.feedbackForPrint.dateReceived,"dd-MMM-yyyy")),e.R7$(12),e.Y8G("ngForOf",n.feedbackForPrint.feedbackItems),e.R7$(2),e.SpI("",n.calculatePercentage()," %")}}let Zs=(()=>{class t{constructor(n,a,o,s,i,u,b){this.fb=n,this.confirm=a,this.activatedRoute=o,this.accountService=s,this.service=i,this.toastr=u,this.router=b,this.bsValueDate=new Date,this.bsValue=new Date,this.feedbackHistory=[],this.feedbackIdSelected=-1,this.lastFeedbackIdSelected=-1,this.RAName="",this.isPrintPDF=!1,this.printTitle="",this.form=new f.gE({}),this.returnUrl="";let p=this.router.getCurrentNavigation();p?.extras&&p.extras.state&&(p.extras.state.returnUrl&&(this.returnUrl=p.extras.state.returnUrl),p.extras.state.user&&(this.user=p.extras.state.user)),void 0===this.user&&this.accountService.currentUser$.pipe((0,Qe.s)(1)).subscribe({next:G=>{null!==G&&(this.user=G)}})}ngOnInit(){this.activatedRoute.data.subscribe({next:n=>{this.feedback=n.feedback,this.feedbackHistory=n.history,this.feedback&&this.InitializeForm(this.feedback)},error:n=>{console.log("error:",n),this.toastr.error(n.error?.details,"Error encountered")}})}InitializeForm(n){console.log("feedbk:",n),this.form=this.fb.group({id:n.id,customerId:n.customerId,customerName:n.customerName,city:n.city,officialName:n.officialName,designation:n.designation,email:n.email,phoneNo:n.phoneNo,dateIssued:n.dateIssued,dateReceived:n.dateReceived,gradeAssessedByClient:n.gradeAssessedByClient,customerSuggestion:n.customerSuggestion,feedbackNo:n.feedbackNo,feedbackItems:this.fb.array(n.feedbackItems.map(a=>this.fb.group({id:a.id,customerFeedbackId:a.customerFeedbackId,feedbackGroup:a.feedbackGroup,questionNo:a.questionNo,question:[a.question,f.k0.required],response:[a.response],prompt1:[a.prompt1,f.k0.required],prompt2:[a.prompt2,f.k0.required],prompt3:[a.prompt3],prompt4:a.prompt4,remarks:a.remarks})))})}get feedbackItems(){return this.form.get("feedbackItems")}newFeedbackItem(){var n=this.feedbackItems.at(this.feedbackItems.length-1);return this.fb.group({id:0,customerFeedbackId:this.feedback?.id,questionNo:n.get("questionNo")?.value+1,question:"",isMandatory:!1,prompt1:"",prompt2:"",prompt3:"",prompt4:"",remarks:"",response:""})}addNewFeedbackItem(){this.feedbackItems.push(this.newFeedbackItem)}removeFeedbackItem(n){this.confirm.confirm("Are you sure you want to delete this record?","confirm Delete").subscribe({next:a=>{a&&this.feedbackItems.removeAt(n)}})}updateFeedback(){"0"===this.form.get("feedbackNo")?.value?this.editFeedback():this.saveNewFeedback()}editFeedback(){this.service.updateFeedback(this.form.value).subscribe({next:n=>{Number(n)?this.toastr.success("Feedback updated","Success"):this.toastr.warning("Failed to update the feedback","Failed")},error:n=>this.toastr.error(n.error.details,"Error")})}saveNewFeedback(){this.service.saveNewFeedback(this.form.value).subscribe({next:n=>{null!==n?(this.form.get("id")?.setValue(n.id),this.form.get("feedbackNo")?.setValue(n.feedbackNo),this.toastr.success("Feedback inserted into the database","Success")):this.toastr.warning("Failed to update the new feedback","Failed")},error:n=>this.toastr.error(n.error.details,"Error encountered")})}generateLinkForAddresses(){}close(){this.router.navigateByUrl(this.returnUrl)}gradeChanged(n){var o=100*this.feedbackItems.value.map(i=>+i.response).reduce((i,u)=>i+u,0)/(20*this.feedback.feedbackItems.length),s=o>90?"A+":o>80?"A":o>70?"B+":o>60?"B":o>50?"C":"D";this.form.get("gradeAssessedByClient")?.setValue(s+"("+Math.round(o)+"%)")}showFeedback(){this.feedbackIdSelected===this.lastFeedbackIdSelected&&-1===this.feedbackIdSelected||(this.service.getFeedbackObject(this.feedbackIdSelected,0).subscribe({next:n=>{this.feedback=n,this.InitializeForm(this.feedback)}}),this.lastFeedbackIdSelected=this.feedbackIdSelected)}newFeedback(){if(0===this.feedback.customerId)return;const n=function Ms(t){return As(t,5)}(this.feedback);n.feedbackNo=0,this.form.get("feedbackNo")?.setValue(0),this.InitializeForm(n)}sendEmail(){0!==this.feedback.id?this.service.sendFeedbackMail(this.feedback.id).subscribe({next:n=>{""===n||null===n?this.toastr.success("Feedback mail composed, and can be viewed in messages","Message composed"):this.toastr.info(n,"Failed to compose message")},error:n=>{this.toastr.error(n.error.details,"Error in composing email message")}}):this.toastr.warning("This feedback needs to be saved before its link can be forwarded to the customer","feedback not saved")}generatePDF(){this.isPrintPDF=!this.isPrintPDF,this.printTitle=this.feedback?.customerName+", "+this.feedback?.city+", "+this.feedback?.country+" dated "+(0,Bs.n)(this.feedback?.dateSent),this.feedbackForPrint=this.form.value}feedbackIdChanged(n){this.service.getFeedbackWithItems(n).subscribe({next:a=>this.feedback=a})}calculatePercentage(){return this.feedbackItems.value.map(a=>+a.response).reduce((a,o)=>a+o,0)/(20*this.feedbackItems.length)}static#e=this.\u0275fac=function(a){return new(a||t)(e.rXU(f.ok),e.rXU(Ds.G),e.rXU(F.nX),e.rXU(qe.D),e.rXU(re.n),e.rXU($s.tw),e.rXU(F.Ix))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-feedback"]],decls:12,vars:4,consts:[[1,"stdd"],[1,"btn","mL600",2,"color","aliceblue",3,"disabled","click"],[1,"btn","mx-15",2,"color","aliceblue","margin-left","50px",3,"click"],["class","my-5",4,"ngIf"],["style","margin-left: 15px; display: inline-block;",4,"ngIf"],[1,"my-0"],["style","margin-left: 15px; display: inline-block;","id","print-section",4,"ngIf"],[1,"my-5"],[2,"margin-left","15px","display","inline-block"],[3,"formGroup"],[1,"col-6",2,"vertical-align","top","display","inline-block","vertical-align","top","border-style","inset","border-color","blue"],[1,"lbl","w125","fSmall","b"],[1,"stdd","w250","fSmall"],[1,"stdd","w100","fSmall"],[1,"stdd","w150","fSmall"],[1,"lbl","w100","fSmall","b"],[1,"stdd","w125","fSmall"],[1,"lbl","w50","fSmall","b",2,"margin-left","5px"],[1,"col-6",2,"vertical-align","top","border-style","groove","border-color","yellow","display","inline-block"],[2,"vertical-align","top","display","inline-block","margin-left","15px"],[2,"display","inline-block","width","150px","font-weight","bold","margin","0 2px 0 2px"],["bindLabel","feedbackIssueDate","bindValue","feedbackId","labelForId","feedbackId","clearAllText","Clear",2,"width","200px","display","inline-block",3,"items","change"],["title","click to display the selected Feedback",1,"btn",3,"disabled","click"],["title","click to add a new feedback for the customer",1,"btn",3,"disabled","click"],["title","click send the current Feedback link to the customer",1,"btn",3,"click"],["printSectionId","print-section","printTitle","printTitle","ngxPrint","","title","shows the report in pdf format and enables printing","title","print pdf for current category Ref",2,"display","inline-block",3,"previewOnly","useExistingCss","click"],[1,"lbl","w150","fSmall","b"],["type","text","placeholder","Issued On","formControlName","dateIssued","bsDatepicker","",1,"stdd","fSmall","w100",3,"bsValue","bsConfig"],[1,"lbl","w100","fSmall","b",2,"margin-left","50px !important"],["type","text","placeholder","Received On","formControlName","dateReceived","bsDatepicker","",1,"stdd","fSmall","w100",3,"bsValue","bsConfig"],[1,"my-0",2,"border-width","2px","border-color","black"],[1,"lbl","fSmaller","b","w35"],[1,"lbl","fSmaller","b","w500"],[1,"lbl","fSmaller","b","w175"],[1,"lbl","fSmaller","b","w250",2,"margin-left","200px !important"],["formArrayName","feedbackItems",1,"my-1"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["type","text","formControlName","questionNo",1,"stdd","w25","fSmaller",2,"background-color","darkgrey","text-align","right","padding-right","1px"],["formControlName","question",1,"stdd","w500",2,"word-wrap","break-word","vertical-align","top",3,"label"],["type","text","formControlName","prompt1",1,"prompt","w75"],["type","radio","id","i","value","20","checked","response==='20'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["type","text","formControlName","prompt2",1,"prompt","w50"],["type","radio","id","i","value","15","checked","response==='15'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["class","stdd",4,"ngIf"],[1,"stdd","w200",3,"ngClass"],["formControlName","remarks",3,"label"],[1,"btn","fa","fa-trash","red",3,"click"],["type","text","formControlName","prompt3",1,"prompt","w75"],["type","radio","id","i","value","10","checked","response==='10'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["type","text","formControlName","prompt4",1,"prompt","w75"],["type","radio","id","i","value","5","checked","response==='5'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["id","print-section",2,"margin-left","15px","display","inline-block"],[2,"font-size","medium","font-weight","bold"],[2,"font-size","medium"],[2,"font-size","larger","font-weight","bold"],[2,"border-style","inset","border-color","blue"],[1,"stdd","fSmall","w100"],[1,"lbl","fSmaller","b","w250"],[1,"lbl","fSmaller","b","w150",2,"margin-left","100px !important"],[4,"ngFor","ngForOf"],[2,"margin-left","550px"],[1,"stdd","w35","fSmaller"],[1,"stdd","w250","fSmaller"],[1,"prompt"],[1,"matIcon"],[4,"ngIf"],[1,"stdd","w150","fSmaller"]],template:function(a,o){1&a&&(e.j41(0,"h4",0),e.EFF(1,"Customer Feedback"),e.k0s(),e.j41(2,"button",1),e.bIt("click",function(){return o.updateFeedback()}),e.j41(3,"mat-icon"),e.EFF(4,"save"),e.k0s()(),e.j41(5,"button",2),e.bIt("click",function(){return o.close()}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()(),e.DNE(8,Vs,2,0,"div",3),e.DNE(9,Xs,69,21,"div",4),e.nrm(10,"hr",5),e.DNE(11,qs,64,22,"div",6)),2&a&&(e.R7$(2),e.Y8G("disabled",!o.form.dirty),e.R7$(6),e.Y8G("ngIf",!o.feedback),e.R7$(1),e.Y8G("ngIf",o.feedback),e.R7$(2),e.Y8G("ngIf",o.feedbackForPrint&&o.isPrintPDF))},dependencies:[v.YU,v.Sq,v.bT,Ze.pc,Ze.p0,f.qT,f.me,f.Fm,f.BC,f.cb,f.j4,f.JD,f.$R,f.v8,Us.vr,Ls.f,et.GV,tt.An,v.vh],styles:['.lbl[_ngcontent-%COMP%]{display:inline-block;margin:0 1px;padding:0;font-weight:700;vertical-align:top;word-wrap:normal}.stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 1px;vertical-align:top;padding:0;word-wrap:normal}.btn[_ngcontent-%COMP%]{color:#f0f8ff;margin:0;padding:0;font-size:small;display:inline-block}.hist[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;color:#00008b;font-size:small}.fSmall[_ngcontent-%COMP%]{font-size:small}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.mL215[_ngcontent-%COMP%]{margin-left:215px}.mL600[_ngcontent-%COMP%]{margin-left:600px!important}.mL50[_ngcontent-%COMP%]{margin-left:50px!important}.cursorPointer[_ngcontent-%COMP%]{cursor:pointer;color:#00008b}.inputCheck[_ngcontent-%COMP%]{margin-right:5px;width:40px;margin-left:10px;border:2px;border-color:#000}input[type=radio][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:20px;height:20px;border:1px solid #fff;border-radius:50%;margin-right:10px;background-color:#c3b1b1;position:relative}input[type=radio][_ngcontent-%COMP%]:checked:before{content:"";display:block;width:8px;height:8px;background-color:#4a0fec;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);animation:appear .8s}md-content[_ngcontent-%COMP%]{position:absolute;height:100px}.prompt[_ngcontent-%COMP%]{font-size:smaller;font-family:Arial Narrow,Franklin Gothic Medium,Arial,sans-serif;margin:0 10px 0 5px;padding-bottom:4px;width:50px;display:inline-block;vertical-align:top}.matIcon[_ngcontent-%COMP%]{display:inline-block;font-size:x-small;margin:0 15px 0 2px;padding:0;width:15px;vertical-align:top}.w25[_ngcontent-%COMP%]{width:25px}.w35[_ngcontent-%COMP%]{width:35px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w90[_ngcontent-%COMP%]{width:90px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w175[_ngcontent-%COMP%]{width:175px}.w200[_ngcontent-%COMP%]{width:200px}.w250[_ngcontent-%COMP%]{width:250px}.w500[_ngcontent-%COMP%]{width:500px}']})}return t})(),ei=(()=>{class t{constructor(n,a){this.router=n,this.accountService=a,this.returnUrl="",this.accountService.currentUser$.pipe((0,Qe.s)(1)).subscribe({next:s=>{s&&(this.user=s)}});let o=this.router.getCurrentNavigation();o?.extras&&o.extras.state&&(o.extras.state.returnUrl&&(this.returnUrl=o.extras.state.returnUrl),o.extras.state.user&&(this.user=o.extras.state.user))}ListClicked(){this.navigateByUrl("/feedback/list")}StddQsClicked(){}GoHomeClicked(){}navigateByUrl(n){this.router.navigate([n],{state:{user:this.user,returnUrl:"/feedback"}})}static#e=this.\u0275fac=function(a){return new(a||t)(e.rXU(F.Ix),e.rXU(qe.D))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-feedback-menu"]],decls:6,vars:0,consts:[[1,"container","d-flex","justify-contents-between","align-items-center","mt-5"],["routerLink","/feedback/list","title","Index of Feedbacks",1,"stdd"],["routerLink","/feedback/stddqs","title","Standard Feedback Questions",1,"stdd"],["routerLink","/administration","title","go back to home",1,"stdd","fa","fa-home","fa-2x"]],template:function(a,o){1&a&&(e.j41(0,"div",0)(1,"button",1),e.EFF(2,"List of Feedbacks"),e.k0s(),e.j41(3,"button",2),e.EFF(4,"Feedback Questions"),e.k0s(),e.nrm(5,"button",3),e.k0s())},dependencies:[F.Wk],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:medium;width:100px;word-wrap:normal;height:4em}"]})}return t})();var rt=d(7673);const ri=[{path:"",component:ei},{path:"list",component:ct.J},{path:"edit/:id/:customerId",component:Zs,resolve:{feedback:t=>{var r=t.paramMap.get("id")??"0",n=t.paramMap.get("customerId")??"0";return"0"===r&&"0"===n?(0,rt.of)(null):(0,e.WQX)(re.n).getFeedbackObject(+r,+n)},history:t=>{var r=t.paramMap.get("customerId")??"0";return"0"===r?(0,rt.of)(null):(0,e.WQX)(re.n).getFeedbackHistory(+r)}}}];let ai=(()=>{class t{static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275mod=e.$C({type:t});static#n=this.\u0275inj=e.G2t({imports:[v.MD,F.iI.forChild(ri),F.iI]})}return t})(),oi=(()=>{class t{static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275mod=e.$C({type:t});static#n=this.\u0275inj=e.G2t({imports:[v.MD,it.G,ai,et.jN,tt.m_]})}return t})()}}]);