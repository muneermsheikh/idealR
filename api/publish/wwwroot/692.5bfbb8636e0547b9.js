"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[692],{7923:(y,h,o)=>{o.d(h,{x:()=>i});class i{constructor(){this.customerType="customer",this.customerCityName="",this.customerIndustryId=0,this.includeOfficials=!1,this.includeIndustries=!1,this.sort="name",this.pageNumber=1,this.pageSize=15,this.search=""}}},8892:(y,h,o)=>{o.d(h,{h:()=>t});var i=o(2771),u=o(7673),f=o(6354),m=o(3587),d=o(6220),g=o(7923),r=o(7705),a=o(1626);let t=(()=>{class e{constructor(s){this.http=s,this.apiUrl=m.c.apiUrl,this.currentUserSource=new i.m(1),this.currentUser$=this.currentUserSource.asObservable(),this.custParams=new g.x,this.customerType="",this.customersBrief=[],this.cache=new Map}getCustomerNameFromId(s){if(this.customersBrief.length>0){var l=this.customersBrief.find(c=>c.id===s);if(null!==l)return(0,u.of)(l?.knownAs)}return this.http.get(this.apiUrl+"customers/customernamefromId/"+s)}getCustomers(s){const l=this.cache.get(Object.values(s).join("-"));if(l)return(0,u.of)(l);this.customerType=s.customerType??"customer";let c=(0,d.di)(s);return(0,d.f8)(this.apiUrl+"customers",c,this.http).pipe((0,f.T)(p=>(this.cache.set(Object.values(s).join("-"),p),p)))}getCustomerList(s){return s=s??"Customer",console.log("getcustomerlist custType",s),this.http.get(this.apiUrl+"customers/list/"+s)}getClientIdAndNames(){return this.http.get(this.apiUrl+"customers/clientidandnames/customer")}getCustomer(s){return this.http.get(this.apiUrl+"customers/byid/"+s)}register(s){return this.http.post(this.apiUrl+"customers",s)}getCustomerCities(s){return this.http.get(this.apiUrl+"customers/customercities/"+s)}deleteCustomer(s){return this.http.delete(this.apiUrl+"Customers/customer/"+s)}deleteCustomerOfficial(s){return this.http.delete(this.apiUrl+"Customers/official/"+s)}setParams(s){this.custParams=s}getParams(){return this.custParams}updateCustomer(s){return this.http.put(this.apiUrl+"customers/edit",s)}getAgents(){return this.http.get(this.apiUrl+"customers/agentdetails/associate")}getOfficialAndCustomerName(){return this.http.get(this.apiUrl+"customers/officialidandcustomernames/customer")}getAgentIdAndNames(){return this.http.get(this.apiUrl+"customers/clientidandnames/associate")}getCustomerAndCities(){return this.http.get(this.apiUrl+"customers/customerCities/customer")}remindClientForSelections(s){return this.http.get(this.apiUrl+"CVRef/selDecisionReminder/"+s)}getFeedbackHistory(s){return this.http.get(this.apiUrl+"Feedback/history/"+s)}getOrCreateCustomerReview(s){return this.http.get(this.apiUrl+"CustomerReview/getOrCreateObject/"+s)}static#t=this.\u0275fac=function(l){return new(l||e)(r.KVO(a.Qq))};static#e=this.\u0275prov=r.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},778:(y,h,o)=>{o.d(h,{G:()=>r});var i=o(7705),u=o(779);let f=(()=>{class a{constructor(e){this.bsModalRef=e,this.title="",this.message="",this.btnOkText="",this.btnCancelText="",this.result=!1}confirm(){this.result=!0,this.bsModalRef.hide()}decline(){this.bsModalRef.hide()}static#t=this.\u0275fac=function(n){return new(n||a)(i.rXU(u.Y$))};static#e=this.\u0275cmp=i.VBU({type:a,selectors:[["app-confirm-dialog"]],decls:11,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(n,s){1&n&&(i.j41(0,"div",0)(1,"h4",1),i.EFF(2),i.k0s()(),i.j41(3,"div",2)(4,"p"),i.EFF(5),i.k0s()(),i.j41(6,"div",3)(7,"button",4),i.bIt("click",function(){return s.confirm()}),i.EFF(8),i.k0s(),i.j41(9,"button",5),i.bIt("click",function(){return s.decline()}),i.EFF(10),i.k0s()()),2&n&&(i.R7$(2),i.JRh(s.title),i.R7$(3),i.JRh(s.message),i.R7$(3),i.JRh(s.btnOkText),i.R7$(2),i.JRh(s.btnCancelText))}})}return a})();var m=o(6354),d=o(3587),g=o(1626);let r=(()=>{class a{constructor(e,n){this.modalService=e,this.http=n,this.baseUrl=d.c.apiUrl}confirm(e="Confirmation",n="Are you sure you want to do this?",s="Ok",l="Cancel"){return this.bsModelRef=this.modalService.show(f,{initialState:{title:e,message:n,btnOkText:s,btnCancelText:l}}),this.bsModelRef.onHidden.pipe((0,m.T)(()=>this.bsModelRef.content.result))}getHelp(e){return this.http.get(this.baseUrl+"Help/help/"+e)}static#t=this.\u0275fac=function(n){return new(n||a)(i.KVO(u.I8),i.KVO(g.Qq))};static#e=this.\u0275prov=i.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},9726:(y,h,o)=>{o.d(h,{GV:()=>d,jN:()=>g});var i=o(7705);let u=(()=>{class r{nonce;_printStyle=[];_styleSheetFile="";constructor(t){this.nonce=t}setPrintStyle(t){this._printStyle=[];for(let e in t)t.hasOwnProperty(e)&&this._printStyle.push((e+JSON.stringify(t[e])).replace(/['"]+/g,""))}returnStyleValues(){return`<style${this.nonce?` nonce="${this.nonce}"`:""}> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}returnStyleSheetLinkTags(){return this._styleSheetFile}setStyleSheetFile(t){const e=function(n){return`<link rel="stylesheet" type="text/css" href="${n}">`};if(-1!==t.indexOf(",")){const n=t.split(",");this._styleSheetFile=n.map(s=>e(s)).join("")}else this._styleSheetFile=e(t)}updateInputDefaults(t){for(let e=0;e<t.length;e++){const n=t[e];n.defaultValue=n.value,n.checked&&(n.defaultChecked=!0)}}updateSelectDefaults(t){for(let e=0;e<t.length;e++){const n=t[e];n.options[n.selectedIndex].defaultSelected=!0}}updateTextAreaDefaults(t){for(let e=0;e<t.length;e++){const n=t[e];n.defaultValue=n.value}}canvasToImageHtml(t){return`<img src="${t.toDataURL()}" style="max-width: 100%;">`}updateCanvasToImage(t){for(let e=0;e<t.length;e++){const n=this.canvasToImageHtml(t[e]);t[e].insertAdjacentHTML("afterend",n),t[e].remove()}}getHtmlContents(t){const e=document.getElementById(t);if(!e)return null;const n=e.getElementsByTagName("input"),s=e.getElementsByTagName("select"),l=e.getElementsByTagName("textarea"),c=e.getElementsByTagName("canvas");return this.updateInputDefaults(n),this.updateSelectDefaults(s),this.updateTextAreaDefaults(l),this.updateCanvasToImage(c),e.innerHTML}getElementTag(t){const e=[],n=document.getElementsByTagName(t);for(let s=0;s<n.length;s++)e.push(n[s].outerHTML);return e.join("\r\n")}print(t){let e="",n="",s="top=0,left=0,height=auto,width=auto";const l=this.getElementTag("base");t.useExistingCss&&(e=this.getElementTag("style"),n=this.getElementTag("link")),t.openNewTab&&(s="");const c=this.getHtmlContents(t.printSectionId);if(!c)return void console.error(`Print section with id ${t.printSectionId} not found.`);const p=window.open("","_blank",s);p?(p.document.open(),p.document.write(`\n          <html>\n            <head>\n              <title>${t.printTitle?t.printTitle:""}</title>\n              ${l}\n              ${this.returnStyleValues()}\n              ${this.returnStyleSheetLinkTags()}\n              ${e}\n              ${n}\n            </head>\n            <body ${t.bodyClass?`class="${t.bodyClass}"`:""}>\n              ${c}\n              <script defer>\n                function triggerPrint(event) {\n                  window.removeEventListener('load', triggerPrint, false);\n                  ${t.previewOnly?"":`setTimeout(function() {\n                    closeWindow(window.print());\n                  }, ${t.printDelay});`}\n                }\n                function closeWindow(){\n                  ${t.closeWindow?"window.close();":""}\n                }\n                window.addEventListener('load', triggerPrint, false);\n              <\/script>\n            </body>\n          </html>`),p.document.close()):console.error("Could not open print window.")}static \u0275fac=function(e){return new(e||r)(i.KVO(i.BIS,8))};static \u0275prov=i.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class m{printSectionId="";printTitle="";useExistingCss=!1;bodyClass="";openNewTab=!1;previewOnly=!1;closeWindow=!0;printDelay=0;constructor(a){a&&Object.assign(this,a)}}let d=(()=>{class r extends u{printOptions=new m;set previewOnly(t){this.printOptions={...this.printOptions,previewOnly:t}}set printSectionId(t){this.printOptions={...this.printOptions,printSectionId:t}}set printTitle(t){this.printOptions={...this.printOptions,printTitle:t}}set useExistingCss(t){this.printOptions={...this.printOptions,useExistingCss:t}}set printDelay(t){this.printOptions={...this.printOptions,printDelay:t}}set closeWindow(t){this.printOptions={...this.printOptions,closeWindow:t}}set bodyClass(t){this.printOptions={...this.printOptions,bodyClass:t}}set openNewTab(t){this.printOptions={...this.printOptions,openNewTab:t}}set printStyle(t){super.setPrintStyle(t)}set styleSheetFile(t){super.setStyleSheetFile(t)}print(){super.print(this.printOptions)}static \u0275fac=function(){let t;return function(n){return(t||(t=i.xGo(r)))(n||r)}}();static \u0275dir=i.FsC({type:r,selectors:[["button","ngxPrint",""]],hostBindings:function(e,n){1&e&&i.bIt("click",function(){return n.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",closeWindow:"closeWindow",bodyClass:"bodyClass",openNewTab:"openNewTab",printStyle:"printStyle",styleSheetFile:"styleSheetFile"},standalone:!0,features:[i.Vt3]})}return r})(),g=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=i.$C({type:r});static \u0275inj=i.G2t({})}return r})()}}]);