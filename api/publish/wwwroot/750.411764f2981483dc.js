"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[750],{4023:(G,y,l)=>{l.d(y,{d:()=>e});var c=l(7705),w=l(8256),j=l(779),x=l(9417);let e=(()=>{class C{constructor(f,o){this.toastr=f,this.bsModalRef=o,this.inputValue="",this.outputEvent=new c.bkB,this.title=""}ngOnInit(){}returnInputValue(){""!==this.inputValue?(this.outputEvent.emit(this.inputValue),this.bsModalRef.hide()):this.toastr.warning("no value entered")}static#e=this.\u0275fac=function(o){return new(o||C)(c.rXU(w.tw),c.rXU(j.Y$))};static#t=this.\u0275cmp=c.VBU({type:C,selectors:[["app-input-modal"]],inputs:{inputValue:"inputValue"},outputs:{outputEvent:"outputEvent"},decls:10,vars:2,consts:[[1,"modal-header"],[1,"b"],["type","button","title","submit",1,"stdd","btn","btn-default","green","fa","fa-2x","fa-check",3,"click"],["type","button","aria-label","Close",1,"stdd","close","pull-right","fa","fa-2x","fa-close",3,"click"],[1,"modal-body"],[1,"stdd","w75","b"],["name","txt","id","txt","cols","60","rows","5",3,"ngModel","ngModelChange"],[1,"modal-footer"]],template:function(o,r){1&o&&(c.j41(0,"div",0)(1,"div",1),c.EFF(2),c.k0s(),c.j41(3,"button",2),c.bIt("click",function(){return r.returnInputValue()}),c.k0s(),c.j41(4,"button",3),c.bIt("click",function(){return r.bsModalRef.hide()}),c.k0s()(),c.j41(5,"div",4)(6,"label",5),c.EFF(7,"Enter the value: "),c.k0s(),c.j41(8,"textarea",6),c.bIt("ngModelChange",function(g){return r.inputValue=g}),c.k0s()(),c.nrm(9,"div",7)),2&o&&(c.R7$(2),c.JRh(r.title),c.R7$(6),c.Y8G("ngModel",r.inputValue))},dependencies:[x.me,x.BC,x.vS],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;font-size:medium}.w75[_ngcontent-%COMP%]{width:75px}.w110[_ngcontent-%COMP%]{width:110px}"]})}return C})()},9750:(G,y,l)=>{l.r(y),l.d(y,{ProspectiveModule:()=>Ie});var c=l(177),w=l(9485),j=l(9213),x=l(8834),e=l(7705);let C=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-menu"]],decls:2,vars:0,template:function(i,s){1&i&&(e.j41(0,"p"),e.EFF(1,"menu works!"),e.k0s())}})}return n})();var h=l(6697),f=l(5964),o=l(5558),r=l(9437),u=l(7673),g=l(8141),k=l(8359),E=l(1413),b=l(235),V=l(2777),S=l(5337),D=l(779),P=l(5743),N=l(8256),$=l(778),I=l(1822);let X=(()=>{class n{constructor(){this.voices=[]}updateSpeech(t){const{name:i,value:s}=t;localStorage.setItem(i,s),this.toggle()}setVoices(t){this.voices=t}updateVoice(t){localStorage.setItem("voice",t),this.toggle()}findVoice(t){return this.voices.find(s=>s.name===t)||null}toggle(t=!0){const i=this.makeRequest();speechSynthesis.cancel(),t&&speechSynthesis.speak(i)}makeRequest(){const t=new SpeechSynthesisUtterance;t.text=localStorage.getItem("text")||"",t.rate=+(localStorage.getItem("rate")||"1"),t.pitch=+(localStorage.getItem("pitch")||"1");const i=this.findVoice(localStorage.getItem("voice")||"");return i&&(t.voice=i),t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var O=l(3400),_=l(9417),U=l(2510),B=l(9726),Y=l(7440),z=l(5561);function W(n,d){1&n&&(e.j41(0,"div"),e.EFF(1," No active prospetive candidates on record matching the conditions\n"),e.k0s())}function J(n,d){if(1&n){const t=e.RV6();e.j41(0,"div",7)(1,"input",8),e.bIt("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.prospective.checked=s)})("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.selectedClicked())}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngModel",t.prospective.checked)}}function H(n,d){if(1&n){const t=e.RV6();e.j41(0,"div",7)(1,"input",9),e.bIt("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.prospective.bySMS=s)}),e.k0s(),e.j41(2,"input",9),e.bIt("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.prospective.byMail=s)}),e.k0s(),e.j41(3,"input",9),e.bIt("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.prospective.byPhone=s)}),e.k0s(),e.j41(4,"button",10),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.editEventClicked())}),e.k0s(),e.j41(5,"button",11),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.convertToCandidateClicked())}),e.k0s(),e.j41(6,"button",12),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.deleteEventClicked())}),e.k0s(),e.j41(7,"app-register-call-records",13),e.bIt("callStatusEvent",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.callStatusChanged(s))}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngModel",t.prospective.bySMS),e.R7$(1),e.Y8G("ngModel",t.prospective.byMail),e.R7$(1),e.Y8G("ngModel",t.prospective.byPhone),e.R7$(4),e.Y8G("id",t.prospective.id)("status",t.prospective.status)("categoryRef",t.prospective.categoryRef)("personId",t.prospective.personId)("personType","Prospective")}}function K(n,d){if(1&n&&(e.j41(0,"div")(1,"div",1),e.DNE(2,J,2,1,"div",2),e.j41(3,"div",3),e.EFF(4),e.k0s(),e.j41(5,"div",4),e.EFF(6),e.k0s(),e.j41(7,"div",5),e.EFF(8),e.k0s(),e.j41(9,"div",6),e.EFF(10),e.k0s(),e.j41(11,"div",6),e.EFF(12),e.nI1(13,"date"),e.k0s(),e.j41(14,"div",5),e.EFF(15),e.k0s(),e.DNE(16,H,8,8,"div",2),e.k0s()()),2&n){const t=e.XpG();let i;e.R7$(2),e.Y8G("ngIf",!t.isReport),e.R7$(2),e.JRh(t.prospective.candidateName),e.R7$(2),e.JRh(t.prospective.categoryRef),e.R7$(2),e.JRh(t.prospective.phoneNo),e.R7$(2),e.JRh(t.prospective.nationality),e.R7$(2),e.JRh(e.i5U(13,8,t.prospective.dateRegistered,"dd-MMM-yy")),e.R7$(3),e.JRh(null!==(i=t.prospective.status)&&void 0!==i?i:"undefined"),e.R7$(1),e.Y8G("ngIf",!t.isReport)}}let Q=(()=>{class n{constructor(t,i){this.callRecService=t,this.toastr=i,this.isReport=!1,this.editEvent=new e.bkB,this.deleteEvent=new e.bkB,this.selectedEvent=new e.bkB,this.convertToCandidateEvent=new e.bkB,this.ComposeMessageEvent=new e.bkB,this.StatusSelected=""}ngOnInit(){}selected(t){this.StatusSelected=t}editEventClicked(){this.prospective&&this.callRecService.getCallRecordWithItems("Prospective",this.prospective.personId).subscribe({next:t=>{console.log("prospective line:",t),t&&(console.log("editebentclicked",t),this.editEvent.emit(t))},error:t=>this.editEvent.emit(null)})}selectedClicked(){this.selectedEvent.emit(this.prospective)}deleteEventClicked(){this.deleteEvent.emit(this.prospective?.id)}convertToCandidateClicked(){this.convertToCandidateEvent.emit(this.prospective?.id)}callStatusChanged(t){this.prospective.status=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(Y.S),e.rXU(N.tw))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-prospective-line"]],inputs:{prospective:"prospective",isReport:"isReport"},outputs:{editEvent:"editEvent",deleteEvent:"deleteEvent",selectedEvent:"selectedEvent",convertToCandidateEvent:"convertToCandidateEvent",ComposeMessageEvent:"ComposeMessageEvent"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"stdd",2,"width","max-content"],["class","stdd",4,"ngIf"],[1,"stdd","w125",2,"margin-left","25px"],[1,"stdd","w150"],[1,"stdd","w100"],[1,"stdd","w75"],[1,"stdd"],["type","checkbox",1,"checkbox","form-check-input",2,"margin-left","10px",3,"ngModel","ngModelChange","click"],["type","checkbox",1,"form-check-input","checkbox",3,"ngModel","ngModelChange"],[1,"stdd","w20","fa","fa-pencil",3,"click"],["title","converts this prospective candidate to a candidate, and removes it from the prospectives list",1,"stdd","w20","fa","fa-arrow-right",3,"click"],[1,"stdd","w20","fa","fa-trash","red",3,"click"],[3,"id","status","categoryRef","personId","personType","callStatusEvent"]],template:function(i,s){1&i&&(e.DNE(0,W,2,0,"div",0),e.DNE(1,K,17,11,"div",0)),2&i&&(e.Y8G("ngIf",!s.prospective),e.R7$(1),e.Y8G("ngIf",s.prospective))},dependencies:[c.bT,_.Zm,_.BC,_.vS,z.z,c.vh],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 2px 0 1px;font-size:small;word-wrap:break-word!important;vertical-align:top}.stddS[_ngcontent-%COMP%]{display:inline-block;margin:0 2px 0 1px;font-size:smaller;word-wrap:break-word!important;vertical-align:top}.btn[_ngcontent-%COMP%]{color:#f0f8ff;vertical-align:top}.fSmallest[_ngcontent-%COMP%]{font-size:smaller;font-weight:700;border-style:groove;vertical-align:top;cursor:pointer;color:#ff0;margin:0 2px;padding:0 2px}.undefinedColor[_ngcontent-%COMP%]{color:#deb887}.disabled[_ngcontent-%COMP%]{pointer-events:none;display:none}.checkbox[_ngcontent-%COMP%]{vertical-align:top;border-color:#000;text-align:center;width:15px}.red[_ngcontent-%COMP%]{color:red}.w15[_ngcontent-%COMP%]{width:15px}.w35[_ngcontent-%COMP%]{width:35px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}"]})}return n})();const Z=["search"],q=["searchPhoneNo"],ee=["searchName"],te=["discussions"];function ie(n,d){if(1&n){const t=e.RV6();e.j41(0,"pagination",36),e.bIt("pageChanged",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onPageChanged(s))}),e.EFF(1," >"),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("totalItems",t.pagination.totalItems)("itemsPerPage",t.pagination.itemsPerPage)("maxSize",10)}}function ne(n,d){1&n&&(e.j41(0,"div",37),e.EFF(1," No prospective candidates found matching your criteria "),e.k0s())}function se(n,d){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"app-prospective-line",39),e.bIt("deleteEvent",function(s){e.eBV(t);const a=e.XpG(4);return e.Njj(a.deleteProspectiveClicked(s))})("editEvent",function(s){e.eBV(t);const a=e.XpG().$implicit,p=e.XpG(3);return e.Njj(p.editCallRecord(s,a))})("selectedEvent",function(s){e.eBV(t);const a=e.XpG(4);return e.Njj(a.selectedClicked(s))})("convertToCandidateEvent",function(s){e.eBV(t);const a=e.XpG(4);return e.Njj(a.convertProspectiveToCandidate(s))}),e.k0s()()}if(2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("prospective",t)}}function oe(n,d){if(1&n&&(e.j41(0,"div"),e.nrm(1,"app-prospective-line",40),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("prospective",t)("isReport",!0)}}function ae(n,d){if(1&n&&(e.j41(0,"div"),e.DNE(1,se,2,1,"div",0),e.DNE(2,oe,2,2,"div",0),e.k0s()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngIf",!t.isPrintPDF),e.R7$(1),e.Y8G("ngIf",t.isPrintPDF)}}function re(n,d){if(1&n&&(e.j41(0,"div"),e.DNE(1,ae,3,2,"div",38),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.prospectives)}}function ce(n,d){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"h4",9),e.EFF(2,"Prospective Candidates"),e.k0s(),e.j41(3,"div",10),e.DNE(4,ie,2,3,"pagination",11),e.j41(5,"label",12),e.EFF(6,"Choose Status"),e.k0s(),e.j41(7,"ng-select",13),e.bIt("ngModelChange",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.pParams.statusClass=s)}),e.k0s(),e.j41(8,"button",14),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.refreshDataset())}),e.k0s(),e.nrm(9,"button",15)(10,"br"),e.j41(11,"label",16),e.EFF(12,"Search on"),e.k0s(),e.j41(13,"label",17),e.EFF(14,"Category:"),e.k0s(),e.nrm(15,"input",18,19),e.j41(17,"label",20),e.EFF(18,"Phone No"),e.k0s(),e.nrm(19,"input",21,22),e.j41(21,"label",17),e.EFF(22,"Name"),e.k0s(),e.nrm(23,"input",23,24),e.j41(25,"button",25),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onSearch())}),e.k0s(),e.j41(26,"button",26),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.composeMessages())}),e.k0s(),e.j41(27,"button",27),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onReset())}),e.k0s(),e.j41(28,"label",20),e.EFF(29,"Choose Order No"),e.k0s(),e.j41(30,"div",28)(31,"ng-select",29),e.bIt("ngModelChange",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.distinctRefCat=s)})("change",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.distinctRefChanged())}),e.k0s()(),e.j41(32,"button",30),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.generatePDF())}),e.j41(33,"mat-icon"),e.EFF(34,"print"),e.k0s()()(),e.j41(35,"div",3)(36,"label",31),e.EFF(37,"Sel"),e.k0s(),e.j41(38,"label",4),e.EFF(39,"Candidate Name"),e.k0s(),e.j41(40,"label",5),e.EFF(41,"Category Ref"),e.k0s(),e.j41(42,"label",6),e.EFF(43,"Phone No"),e.k0s(),e.j41(44,"label",7),e.EFF(45,"Nationality"),e.k0s(),e.j41(46,"label",7),e.EFF(47,"Dt Regd"),e.k0s(),e.j41(48,"label",6),e.EFF(49,"Status"),e.k0s(),e.j41(50,"label",32),e.EFF(51,"Advise By"),e.k0s(),e.j41(52,"div",33)(53,"mat-icon",34),e.EFF(54,"mail_outline"),e.k0s(),e.j41(55,"mat-icon",34),e.EFF(56,"textsms"),e.k0s(),e.j41(57,"mat-icon",34),e.EFF(58,"phone_forwarded"),e.k0s()()(),e.nrm(59,"hr",8),e.DNE(60,ne,2,0,"div",35),e.DNE(61,re,2,1,"div",0),e.k0s()}if(2&n){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",void 0!==t.pagination),e.R7$(3),e.Y8G("items",t.paramsStatus)("ngModel",t.pParams.statusClass),e.R7$(24),e.Y8G("items",t.headers)("ngModel",t.distinctRefCat),e.R7$(1),e.Y8G("previewOnly",!1)("useExistingCss",!0)("disabled",""===t.distinctRefCat),e.R7$(21),e.Y8G("inline",!0),e.R7$(2),e.Y8G("inline",!0),e.R7$(2),e.Y8G("inline",!0),e.R7$(3),e.Y8G("ngIf",!t.prospectives),e.R7$(1),e.Y8G("ngIf",t.prospectives)}}function le(n,d){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"button",41)(2,"mat-icon"),e.EFF(3,"print"),e.k0s()(),e.j41(4,"button",42),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.closePrintSection())}),e.j41(5,"mat-icon"),e.EFF(6,"clear"),e.k0s()()()}2&n&&(e.R7$(1),e.Y8G("previewOnly",!1)("useExistingCss",!0))}function de(n,d){if(1&n&&(e.j41(0,"div"),e.nrm(1,"app-prospective-line",40),e.k0s()),2&n){const t=d.$implicit;e.R7$(1),e.Y8G("prospective",t)("isReport",!0)}}function pe(n,d){if(1&n&&(e.j41(0,"div"),e.DNE(1,de,2,2,"div",38),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.printProspectives)}}let A=(()=>{class n{constructor(t,i,s,a,p,v,m,F){this.service=t,this.modalService=i,this.router=s,this.toastr=a,this.confirm=p,this.activatedRoute=v,this.accountService=m,this.speechService=F,this.returnUrl="",this.prospectives=[],this.printProspectives=[],this.totalCount=0,this.pParams=new b.Q,this.statusSelected="",this.categoryReferences=[],this.ProspList=[],this.headers=[],this.printtitle="",this.isPrintPDF=!1,this.distinctRefCats=[],this.distinctRefCat="",this.paramsStatus=[{status:"All"},{status:"Active"},{status:"Declined"},{status:"Interested"}],this.callRecordStatus=[{status:"wrong number"},{status:"Not Responding"},{status:"Will Revert later"},{status:"Declined-Family issues"},{status:"Declined for overseas"},{status:"Declined-Low remuneration"},{status:"Declined - SC Not agreed"},{status:"Interested - to negotiate remuneration"},{status:"Interested, and keen"},{status:"Interested, but doubtful"}];let M=this.router.getCurrentNavigation();M?.extras&&M.extras.state&&(M.extras.state.returnUrl&&(this.returnUrl=M.extras.state.returnUrl),M.extras.state.user&&(this.user=M.extras.state.user),this.user||this.accountService.currentUser$.pipe((0,h.s)(1)).subscribe(Oe=>this.user=Oe))}ngOnInit(){this.activatedRoute.data.subscribe(t=>{this.prospectives=t.prospectives.result,this.pagination=t.prospectives.pagination,this.totalCount=t.prospectives.totalCount,this.headers=t.headers})}onPageChanged(t){const i=this.service.getParams();i.pageNumber!==t&&(i.pageNumber=t.page,this.service.setParams(i),this.loadProspectives())}refreshDataset(){this.service.setParams(this.pParams),this.loadProspectives()}loadProspectives(){var t=this.service.getParams();this.service.getProspectivesPaged(t)?.subscribe({next:i=>{null!=i?(this.prospectives=i.result,this.totalCount=i?.count,this.pagination=i.pagination):console.log("response is undefined")},error:i=>console.log(i)})}selectedClicked(t){}selected(t){this.statusSelected=t}deleteProspectiveClicked(t){var i=t;const a=this.service.deleteProspectiveRecord(i);this.confirm.confirm("confirm Delete","confirm delete this prospective Candidate?. WARNING: this cannot be undone").pipe((0,f.p)(v=>v),(0,o.n)(v=>a)).subscribe(v=>{if(v){this.toastr.success("Prospective Candidate deleted","deletion successful");var m=this.prospectives.findIndex(F=>F.id==i);m>=0&&this.prospectives.splice(m,1)}else this.toastr.error("Error in deleting the checklist","failed to delete")})}editCallRecord(t,i){null!==t?(this.bsModalRef=this.modalService.show(V.J,{class:"modal-dialog-centered modal-lg",initialState:{callRecord:t,contactResults:this.callRecordStatus,candidateName:i.candidateName,userName:this.user?.userName}}),this.bsModalRef.content.passCallRecordEvent.pipe((0,f.p)(p=>null!==p),(0,o.n)(p=>this.service.updateCallRecord(p))).subscribe(p=>{if(p){this.toastr.success("Call Record updated","Update successful");var v=this.prospectives.findIndex(m=>m.id===i.id);-1!==v&&(i.status=p.status,this.prospectives[v]=i)}else this.toastr.error("Error in deleting the checklist","failed to delete")})):this.toastr.warning("No Call Record object returned from the modal form")}convertProspectiveToCandidate(t){var i=t;const a=this.service.convertProspectiveToCandidate(i);this.confirm.confirm("confirm Convert Prospective To Candidate","this will convert the selected prospective candidate to a candidate, and remove it from this prospectives list. WARNING: this cannot be undone").pipe((0,f.p)(v=>v),(0,o.n)(()=>a.pipe((0,r.W)(v=>(0,u.of)()),(0,g.M)(v=>{if(0===v)this.toastr.warning("Failed to convert the prospective to candidate","Failed to convert");else{this.toastr.success("Converted the prospective to candidate, with Application No "+v,"success");var m=this.prospectives.findIndex(F=>F.id);m>=0&&this.prospectives.slice(m,1)}})))).subscribe(v=>{if(v){this.toastr.success("Prospective Candidate converted, with application No "+v,"Conversion successful");var m=this.prospectives.findIndex(F=>F.id==i);m>=0&&this.prospectives.splice(m,1)}else this.toastr.error("Error in converting the prospective candidate to a Candidate","failed to convert")})}onSearch(){const t=this.service.getParams();""!==this.searchTerm?.nativeElement.value&&(t.search=this.searchTerm?.nativeElement.value),""!==this.searchPhoneNo?.nativeElement.value&&(t.search=this.searchPhoneNo?.nativeElement.value),""!==this.searchTermName?.nativeElement.value&&(t.search=this.searchTermName?.nativeElement.value),t.pageNumber=1,this.service.setParams(t),this.loadProspectives()}onReset(){this.searchTerm.nativeElement.value="",this.pParams=new b.Q,this.service.setParams(this.pParams),this.loadProspectives()}composeMessages(){new k.yU,new E.B;var s=[],a=this.prospectives.filter(p=>!0===p.checked);0!==a.length?(a.forEach(p=>{s.push({modeOfAdvise:p.byMail?"Mail":p.bySMS?"SMS":p.byPhone?"Phone":"",candidateResponse:p.status,candidateName:p.candidateName,phoneNo:p.phoneNo,emailId:p.email,candidateTitle:"Mr. ",subject:p.categoryRef,candidateUsername:p.userName,messageText:"",recipientUsername:"",senderUsername:"",dateComposed:new Date,prospectiveId:p.id,candidateId:0})}),this.service.composeCallRecordMessage(s).subscribe({next:p=>{p.length>0&&this.toastr.success("message composed","Success")}})):this.toastr.warning("No candidate selected","Entry Error")}modeAdviseSelected(t){}distinctRefChanged(){0===this.headers.length&&this.service.getProspectiveHeadersDto(this.pParams.statusClass).subscribe({next:t=>{null!==t&&t.length>0?(this.headers=t,this.isPrintPDF=!0):this.toastr.warning("Failed to retrieve headers","Failed")}})}generatePDF(){this.isPrintPDF=!this.isPrintPDF;var t=this.distinctRefCat,i=this.pParams.statusClass;this.printtitle="Prospective Candidate Availability Status as on "+new Date+"<br>For Order No. "+t+", status = "+i,this.service.getParams(),this.service.getProspectivesList(t,i).subscribe({next:a=>{null!==a&&a.length>0?this.printProspectives=a:console.log("response is undefined")},error:a=>console.log(a)})}closePrintSection(){this.isPrintPDF=!1,this.distinctRefCat=""}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(S.k),e.rXU(D.I8),e.rXU(P.Ix),e.rXU(N.tw),e.rXU($.G),e.rXU(P.nX),e.rXU(I.D),e.rXU(X))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-prospective-list"]],viewQuery:function(i,s){if(1&i&&(e.GBs(Z,5),e.GBs(q,5),e.GBs(ee,5),e.GBs(te,5)),2&i){let a;e.mGM(a=e.lsd())&&(s.searchTerm=a.first),e.mGM(a=e.lsd())&&(s.searchPhoneNo=a.first),e.mGM(a=e.lsd())&&(s.searchTermName=a.first),e.mGM(a=e.lsd())&&(s.discussionTerm=a.first)}},decls:23,vars:6,consts:[[4,"ngIf"],["id","print-section"],[1,"b","fontLarger"],[1,"form-inline"],[1,"lbl","w125",2,"margin-left","15px"],[1,"lbl","w150"],[1,"lbl","w100"],[1,"lbl","w75"],[1,"my-0"],[2,"display","inline-block","font-weight","bold"],[2,"display","inline-block","margin-left","15px","vertical-align","top"],["class","mx-2","style","display: inline-block;","previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"totalItems","itemsPerPage","maxSize","pageChanged",4,"ngIf"],["title","The paged list that will retreive records based upon the status you select",1,"lbl","w100","mx-2"],["bindLabel","status","bindValue","status","labelForId","status","clearAllText","Clear",1,"stdd",2,"border-style","double","width","100px","font-size","small",3,"items","ngModel","ngModelChange"],["title","filters the records based upon the status selected",1,"btn","fa","fa-filter","fa-2x",2,"color","aliceblue",3,"click"],["title","go back","routerLink","/",1,"btn","fa","fa-window-close","fa-2x","mx-5",2,"color","aliceblue"],[1,"lbl","w50","b"],[1,"lbl","w50","tAlignRight"],["type","text","title","enter any part of category ref to search by","placeholder","Category",1,"stdd","fa-solid","fa-magnifying-glass","w100"],["search",""],[1,"lbl","w75","tAlignRight"],["type","text","title","enter the phone number to search by","placeholder","phone no",1,"stdd","fa-solid","fa-magnifying-glass","w100"],["searchPhoneNo",""],["type","text","title","enter any part of cnadidate name to search by","placeholder","Candidate Name",1,"stdd","fa-solid","fa-magnifying-glass","w150"],["searchName",""],["title","search the text entered",1,"btn","fa","fa-search",3,"click"],["title","compose messages for changes in candidate interests",1,"btn","fa","fa-check","fa-2x",2,"color","yellow",3,"click"],[1,"btn","fa","fa-refresh",3,"click"],[1,"stdd","w100","mx-2"],["bindLabel","orderno","bindValue","orderno","labelForId","orderno","clearAllText","Clear",3,"items","ngModel","ngModelChange","change"],["printSectionId","print-section","printTitle","printTitle","ngxPrint","","title","shows the report in pdf format and enables printing","title","print pdf for current category Ref",2,"display","inline-block","margin-left","50px",3,"previewOnly","useExistingCss","disabled","click"],[1,"lbl","w35"],[1,"lbl","w75",2,"margin-top","0px !important"],[1,"icon"],[3,"inline"],["class","my-2",4,"ngIf"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",1,"mx-2",2,"display","inline-block",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[1,"my-2"],[4,"ngFor","ngForOf"],[3,"prospective","deleteEvent","editEvent","selectedEvent","convertToCandidateEvent"],[3,"prospective","isReport"],["printSectionId","print-section","printTitle","printtitle","ngxPrint","","title","shows the report in pdf format and enables printing",2,"display","inline-block","margin-left","50px",3,"previewOnly","useExistingCss"],[3,"click"]],template:function(i,s){1&i&&(e.DNE(0,ce,62,13,"div",0),e.DNE(1,le,7,2,"div",0),e.j41(2,"div",1)(3,"div",2),e.EFF(4),e.nI1(5,"uppercase"),e.k0s(),e.j41(6,"div",3)(7,"label",4),e.EFF(8,"Candidate Name"),e.k0s(),e.j41(9,"label",5),e.EFF(10,"Category Ref"),e.k0s(),e.j41(11,"label",6),e.EFF(12,"Phone No"),e.k0s(),e.j41(13,"label",7),e.EFF(14,"Nationality"),e.k0s(),e.j41(15,"label",7),e.EFF(16,"Date"),e.nrm(17,"br"),e.EFF(18,"Registered"),e.k0s(),e.j41(19,"label",6),e.EFF(20,"Status"),e.k0s()(),e.nrm(21,"hr",8),e.DNE(22,pe,2,1,"div",0),e.k0s()),2&i&&(e.Y8G("ngIf",!s.isPrintPDF),e.R7$(1),e.Y8G("ngIf",s.isPrintPDF),e.R7$(3),e.JRh(e.bMT(5,4,null==s.user?null:s.user.employer)),e.R7$(18),e.Y8G("ngIf",s.prospectives))},dependencies:[c.Sq,c.bT,O.eK,_.BC,_.vS,U.vr,B.GV,j.An,P.Wk,Q,c.Pc],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block}.lbl[_ngcontent-%COMP%]{display:inline-block;margin-left:2px;margin-right:1px;font-size:smaller;word-wrap:normal;vertical-align:middle;font-weight:700}.w35[_ngcontent-%COMP%]{width:35px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w200[_ngcontent-%COMP%]{width:200px}.w400[_ngcontent-%COMP%]{width:400px}.b[_ngcontent-%COMP%]{font-weight:700}.tAlignRight[_ngcontent-%COMP%]{text-align:right}.fontLarger[_ngcontent-%COMP%]{font-size:larger}.btn[_ngcontent-%COMP%]{color:#f0f8ff}.icon[_ngcontent-%COMP%]{font-size:15px;margin:0 0 0 695px}"]})}return n})();var he=l(8966);class T{constructor(){this.recipientUsername="",this.senderUsername="",this.candidateName="",this.applicationNo=0,this.dateComposed=new Date,this.feedbackReceived=0,this.pageNumber=1,this.pageSize=15}}var ge=l(4412),me=l(6354),fe=l(3587),L=l(1626),_e=l(6220);let R=(()=>{class n{constructor(t,i){this.http=t,this.accountService=i,this.apiUrl=fe.c.apiUrl,this.currentUserSource=new ge.t(null),this.currentUser$=this.currentUserSource.asObservable(),this.cache=new Map,this.accountService.currentUser$.pipe((0,h.s)(1)).subscribe({next:s=>{s&&(this.audioParams=this.audioParams),this.user=s}})}getAudioMessagesPaged(t=!0){if(t){const s=this.cache.get(Object.values(this.audioParams).join("-"));if(s)return(0,u.of)(s)}else this.cache=new Map;let i=function Ce(n){let d=new L.Nl;return d=d.append("pageNumber",n.pageNumber.toString()),d=d.append("pageSize",n.pageSize.toString()),""!==n.candidateName&&(d=d.append("candidateName",n.candidateName)),0!==n.feedbackReceived&&(d=d.append("feedbackReceived",n.feedbackReceived.toString())),n.dateComposed.getFullYear()>2e3&&(d=d.append("dateComposed",n.dateComposed.toDateString())),""!==n.recipientUsername&&(d=d.append("recipientUsername",n.recipientUsername)),d}(this.audioParams);return(0,_e.f8)(this.apiUrl+"prospectives/audioMessagePagedlist",i,this.http).pipe((0,me.T)(s=>(this.cache.set(Object.values(this.audioParams).join("-"),s),s)))}setAudioText(t){return this.http.put(this.apiUrl+"prospectives/setAudioText",t)}setParams(t){this.audioParams=t}getParams(){return this.audioParams}static#e=this.\u0275fac=function(i){return new(i||n)(e.KVO(L.Qq),e.KVO(I.D))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function be(n,d){if(1&n){const t=e.RV6();e.j41(0,"pagination",9),e.bIt("pageChanged",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.onPageChanged(s))}),e.EFF(1,"\n>"),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("totalItems",t.pagination.totalItems)("itemsPerPage",t.pagination.itemsPerPage)("maxSize",10)}}function Pe(n,d){1&n&&(e.j41(0,"div"),e.EFF(1," No matching audio messages on record "),e.k0s())}function xe(n,d){if(1&n&&(e.j41(0,"div")(1,"div",11),e.EFF(2),e.k0s(),e.j41(3,"div",12),e.EFF(4),e.k0s(),e.j41(5,"div",12),e.EFF(6),e.k0s(),e.j41(7,"div",13),e.EFF(8),e.k0s(),e.j41(9,"div",14),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"div",15),e.EFF(13),e.k0s()()),2&n){const t=d.$implicit;e.R7$(2),e.JRh(t.applicationNo),e.R7$(2),e.JRh(t.candidateName),e.R7$(2),e.JRh(t.subject),e.R7$(2),e.JRh(t.messageText.substring(0,248)),e.R7$(2),e.JRh(e.i5U(11,6,t.dateComposed,"dd-mmm-yy")),e.R7$(3),e.JRh(t.feedbackReceived)}}function ke(n,d){if(1&n&&(e.j41(0,"div"),e.DNE(1,xe,14,9,"div",10),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.audioDtos)}}let Fe=(()=>{class n{constructor(t,i){this.service=t,this.router=i,this.returnUrl="",this.audioDtos=[],this.totalCount=0,this.aParams=new T,this.isPrintPDF=!1,this.printtitle="",t.setParams(this.aParams)}ngOnInit(){this.loadAudioLists(!1)}loadAudioLists(t=!0){this.service.getParams(),this.service.setParams(this.aParams),this.service.getAudioMessagesPaged(t)?.subscribe({next:s=>{null!=s&&(this.audioDtos=s.result,this.totalCount=s?.count,this.pagination=s.pagination)},error:s=>console.log(s)}),console.log("audiodtos",this.audioDtos)}close(){this.router.navigateByUrl(this.returnUrl)}onPageChanged(t){const i=this.service.getParams();i.pageNumber!==t.page&&(i.pageNumber=t.page,this.service.setParams(i),this.loadAudioLists())}setParameters(){var t=new T;this.service.setParams(t),this.loadAudioLists()}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(R),e.rXU(P.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-audio"]],decls:20,vars:3,consts:[["class","stdd","previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"totalItems","itemsPerPage","maxSize","pageChanged",4,"ngIf"],["title","close this page",1,"stdd","pull-right","fa","fa-window-close","mx-5",3,"click"],[1,"my-0"],[1,"lbl","w100",2,"margin-left","25px !important"],[1,"lbl","w200"],[1,"lbl","w250"],[1,"lbl","w100"],[1,"lbl","w75"],[4,"ngIf"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",1,"stdd",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[4,"ngFor","ngForOf"],[1,"stdd","w100",2,"margin-left","25px !important"],[1,"stdd","w200"],[1,"stdd","w250"],[1,"stdd","w100"],[1,"stdd","w75"]],template:function(i,s){1&i&&(e.j41(0,"h4"),e.EFF(1,"Audio Message Listing"),e.k0s(),e.DNE(2,be,2,3,"pagination",0),e.j41(3,"button",1),e.bIt("click",function(){return s.close()}),e.k0s(),e.nrm(4,"hr",2),e.j41(5,"label",3),e.EFF(6,"App No"),e.k0s(),e.j41(7,"label",4),e.EFF(8,"Candidate Name"),e.k0s(),e.j41(9,"label",4),e.EFF(10,"Subject"),e.k0s(),e.j41(11,"label",5),e.EFF(12,"Message Text"),e.k0s(),e.j41(13,"label",6),e.EFF(14,"Date Composed"),e.k0s(),e.j41(15,"label",7),e.EFF(16,"Feedback"),e.k0s(),e.nrm(17,"hr"),e.DNE(18,Pe,2,0,"div",8),e.DNE(19,ke,2,1,"div",8)),2&i&&(e.R7$(2),e.Y8G("ngIf",void 0!==s.pagination),e.R7$(16),e.Y8G("ngIf",!s.audioDtos),e.R7$(1),e.Y8G("ngIf",s.audioDtos))},dependencies:[c.Sq,c.bT,O.eK,c.vh],styles:[".w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w250[_ngcontent-%COMP%]{width:250px}.w200[_ngcontent-%COMP%]{width:200px}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:0 2px;vertical-align:top}.lbl[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:0 2px;vertical-align:top;word-wrap:normal;vertical-align:middle;font-weight:700}"]})}return n})();var ye=l(4023);function Ee(n,d){if(1&n){const t=e.RV6();e.j41(0,"pagination",11),e.bIt("pageChanged",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.onPageChanged(s))}),e.EFF(1,"\n>"),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("totalItems",t.pagination.totalItems)("itemsPerPage",t.pagination.itemsPerPage)("maxSize",15)}}function Me(n,d){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"input",13),e.bIt("ngModelChange",function(s){const p=e.eBV(t).$implicit;return e.Njj(p.checked=s)})("click",function(){const a=e.eBV(t).$implicit;return e.Njj(a.checked=!a.checked)}),e.k0s(),e.j41(2,"div",14),e.EFF(3),e.k0s(),e.j41(4,"div",15),e.EFF(5),e.k0s(),e.j41(6,"div",15),e.EFF(7),e.k0s(),e.j41(8,"div",16),e.EFF(9),e.nI1(10,"date"),e.k0s(),e.j41(11,"input",17),e.bIt("ngModelChange",function(s){const p=e.eBV(t).$implicit;return e.Njj(p.messageText=s)})("dblclick",function(){const a=e.eBV(t).$implicit,p=e.XpG(2);return e.Njj(p.editMessageText(a.id,a.messageText))}),e.k0s(),e.j41(12,"div",15),e.EFF(13),e.k0s(),e.j41(14,"div",16),e.EFF(15),e.k0s()()}if(2&n){const t=d.$implicit;e.R7$(1),e.Y8G("ngModel",t.checked),e.R7$(2),e.JRh(t.applicationNo),e.R7$(2),e.JRh(t.candidateName),e.R7$(2),e.JRh(t.subject),e.R7$(2),e.JRh(e.i5U(10,8,t.dateComposed,"dd-MMM-yy")),e.R7$(2),e.Y8G("ngModel",t.messageText),e.R7$(2),e.JRh(t.fileName),e.R7$(2),e.JRh(t.feedbackReceived)}}function we(n,d){if(1&n&&(e.j41(0,"div"),e.DNE(1,Me,16,11,"div",12),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.audioMessages)}}const Re=[{path:"",component:C},{path:"prospective",component:A,resolve:{prospectives:()=>{var n=new b.Q;return(0,e.WQX)(S.k).getProspectivesPaged(n)},headers:he.C}},{path:"prospectiveReport/:orderno",component:A,resolve:{reports:n=>{var d=n.paramMap.get("orderno")??"0";return"0"===d||""===d?(0,u.of)(null):(0,e.WQX)(S.k).getProspectivesList(d,"active")}}},{path:"audiomessages",component:Fe},{path:"autodial",component:(()=>{class n{constructor(t,i,s,a,p,v){this.service=t,this.toastr=i,this.confirm=s,this.activatedRoute=a,this.accountService=p,this.modalService=v,this.returnUrl="",this.audioMessages=[],this.totalCount=0,this.pParams=new T,this.viewMessageText=!1,this.AllSelected=!1,this.accountService.currentUser$.pipe((0,h.s)(1)).subscribe(m=>this.user=m)}ngOnInit(){this.activatedRoute.data.subscribe(t=>{this.audioMessages=t.audioMessages.result,this.pagination=t.pagination,this.totalCount=t.audioMessages.totalCount}),this.loadMessages()}loadMessages(){var t=this.service.getParams();this.service.setParams(t),this.service.getAudioMessagesPaged(!0)?.subscribe({next:i=>{null!=i?(this.audioMessages=i.result,this.totalCount=i?.count,this.pagination=i.pagination):console.log("response is undefined")},error:i=>console.log(i)})}onPageChanged(t){const i=this.service.getParams();i.pageNumber!==t&&(i.pageNumber=t.page,this.service.setParams(i),this.loadMessages())}editMessageText(t,i){this.bsModalRef=this.modalService.show(ye.d,{class:"modal-dialog-centered modal-md",initialState:{title:"Edit message text",inputValue:i}}),this.bsModalRef.content.outputEvent.subscribe(a=>{if(""!==a){var p=this.audioMessages.findIndex(m=>m.id==t);-1!==p&&(this.audioMessages[p].messageText=a),this.service.setAudioText({id:t,textMessage:a}).subscribe({next:m=>this.toastr.success("message text updated","Success")})}})}selectedChanged(){this.audioMessages.forEach(t=>{t.checked=this.AllSelected})}update(){var t=this.audioMessages.filter(i=>i.checked);console.log(t)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(R),e.rXU(N.tw),e.rXU($.G),e.rXU(P.nX),e.rXU(I.D),e.rXU(D.I8))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-autodial"]],decls:25,vars:3,consts:[[2,"display","inline-block","font-weight","bold"],[1,"fa","fa-check","fa-2x",2,"margin-left","300px",3,"click"],["routerLink","/",1,"fa","fa-window-close","fa-2x",2,"margin-left","200px"],["class","mx-2","style","display: inline-block;","previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"totalItems","itemsPerPage","maxSize","pageChanged",4,"ngIf"],[1,"form-inline"],["type","checkbox",1,"form-check-input","w20","hAlignCenter",2,"margin-left","15px","border-color","black",3,"ngModel","ngModelChange","change"],[1,"lbl","w75",2,"margin-left","10px"],[1,"lbl","w150"],[1,"lbl","w100"],[1,"lbl","w250"],[4,"ngIf"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",1,"mx-2",2,"display","inline-block",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[4,"ngFor","ngForOf"],["type","checkbox",1,"form-check-input","w20","hAlignCenter",2,"margin-left","15px","border-color","black",3,"ngModel","ngModelChange","click"],[1,"stdd","w75",2,"margin-left","10px","text-align","center"],[1,"stdd","w150"],[1,"stdd","w100"],["type","text","title","double-click to edit this value",1,"stdd","w250",3,"ngModel","ngModelChange","dblclick"]],template:function(i,s){1&i&&(e.j41(0,"h4",0),e.EFF(1,"Audio Messages For Prospective Candidates"),e.k0s(),e.j41(2,"button",1),e.bIt("click",function(){return s.update()}),e.k0s(),e.nrm(3,"button",2)(4,"br"),e.DNE(5,Ee,2,3,"pagination",3),e.j41(6,"div",4)(7,"input",5),e.bIt("ngModelChange",function(p){return s.AllSelected=p})("change",function(){return s.selectedChanged()}),e.k0s(),e.j41(8,"label",6),e.EFF(9,"App No"),e.k0s(),e.j41(10,"label",7),e.EFF(11,"Candidate Name"),e.k0s(),e.j41(12,"label",7),e.EFF(13,"Subject"),e.k0s(),e.j41(14,"label",8),e.EFF(15,"Composed On"),e.k0s(),e.j41(16,"label",9),e.EFF(17,"Message"),e.k0s(),e.j41(18,"label",8),e.EFF(19,"Played Bk On"),e.k0s(),e.j41(20,"label",7),e.EFF(21,"FileName"),e.k0s(),e.j41(22,"label",8),e.EFF(23,"Feedback"),e.k0s()(),e.DNE(24,we,2,1,"div",10)),2&i&&(e.R7$(5),e.Y8G("ngIf",void 0!==s.pagination),e.R7$(2),e.Y8G("ngModel",s.AllSelected),e.R7$(17),e.Y8G("ngIf",s.audioMessages.length>0))},dependencies:[c.Sq,c.bT,O.eK,_.me,_.Zm,_.BC,_.vS,P.Wk,c.vh],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:smaller;overflow:auto}.lbl[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:smaller;font-weight:700}.w20[_ngcontent-%COMP%]{width:20px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w150[_ngcontent-%COMP%]{width:150px}.w250[_ngcontent-%COMP%]{width:250px}"]})}return n})(),resolve:{audioMessages:()=>{var n=new T;return(0,e.WQX)(R).setParams(n),(0,e.WQX)(R).getAudioMessagesPaged(!1)}}}];let Se=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#i=this.\u0275inj=e.G2t({imports:[c.MD,P.iI.forChild(Re),P.iI]})}return n})();var Ne=l(4056);let Ie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#i=this.\u0275inj=e.G2t({imports:[c.MD,w.G,x.Hl,B.jN,j.m_,Se,Ne.Qt]})}return n})()},9726:(G,y,l)=>{l.d(y,{GV:()=>e,jN:()=>C});var c=l(7705);let w=(()=>{class h{nonce;_printStyle=[];_styleSheetFile="";constructor(o){this.nonce=o}setPrintStyle(o){this._printStyle=[];for(let r in o)o.hasOwnProperty(r)&&this._printStyle.push((r+JSON.stringify(o[r])).replace(/['"]+/g,""))}returnStyleValues(){return`<style${this.nonce?` nonce="${this.nonce}"`:""}> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}returnStyleSheetLinkTags(){return this._styleSheetFile}setStyleSheetFile(o){const r=function(u){return`<link rel="stylesheet" type="text/css" href="${u}">`};if(-1!==o.indexOf(",")){const u=o.split(",");this._styleSheetFile=u.map(g=>r(g)).join("")}else this._styleSheetFile=r(o)}updateInputDefaults(o){for(let r=0;r<o.length;r++){const u=o[r];u.defaultValue=u.value,u.checked&&(u.defaultChecked=!0)}}updateSelectDefaults(o){for(let r=0;r<o.length;r++){const u=o[r];u.options[u.selectedIndex].defaultSelected=!0}}updateTextAreaDefaults(o){for(let r=0;r<o.length;r++){const u=o[r];u.defaultValue=u.value}}canvasToImageHtml(o){return`<img src="${o.toDataURL()}" style="max-width: 100%;">`}updateCanvasToImage(o){for(let r=0;r<o.length;r++){const u=this.canvasToImageHtml(o[r]);o[r].insertAdjacentHTML("afterend",u),o[r].remove()}}getHtmlContents(o){const r=document.getElementById(o);if(!r)return null;const u=r.getElementsByTagName("input"),g=r.getElementsByTagName("select"),k=r.getElementsByTagName("textarea"),E=r.getElementsByTagName("canvas");return this.updateInputDefaults(u),this.updateSelectDefaults(g),this.updateTextAreaDefaults(k),this.updateCanvasToImage(E),r.innerHTML}getElementTag(o){const r=[],u=document.getElementsByTagName(o);for(let g=0;g<u.length;g++)r.push(u[g].outerHTML);return r.join("\r\n")}print(o){let r="",u="",g="top=0,left=0,height=auto,width=auto";const k=this.getElementTag("base");o.useExistingCss&&(r=this.getElementTag("style"),u=this.getElementTag("link")),o.openNewTab&&(g="");const E=this.getHtmlContents(o.printSectionId);if(!E)return void console.error(`Print section with id ${o.printSectionId} not found.`);const b=window.open("","_blank",g);b?(b.document.open(),b.document.write(`\n          <html>\n            <head>\n              <title>${o.printTitle?o.printTitle:""}</title>\n              ${k}\n              ${this.returnStyleValues()}\n              ${this.returnStyleSheetLinkTags()}\n              ${r}\n              ${u}\n            </head>\n            <body ${o.bodyClass?`class="${o.bodyClass}"`:""}>\n              ${E}\n              <script defer>\n                function triggerPrint(event) {\n                  window.removeEventListener('load', triggerPrint, false);\n                  ${o.previewOnly?"":`setTimeout(function() {\n                    closeWindow(window.print());\n                  }, ${o.printDelay});`}\n                }\n                function closeWindow(){\n                  ${o.closeWindow?"window.close();":""}\n                }\n                window.addEventListener('load', triggerPrint, false);\n              <\/script>\n            </body>\n          </html>`),b.document.close()):console.error("Could not open print window.")}static \u0275fac=function(r){return new(r||h)(c.KVO(c.BIS,8))};static \u0275prov=c.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})();class x{printSectionId="";printTitle="";useExistingCss=!1;bodyClass="";openNewTab=!1;previewOnly=!1;closeWindow=!0;printDelay=0;constructor(f){f&&Object.assign(this,f)}}let e=(()=>{class h extends w{printOptions=new x;set previewOnly(o){this.printOptions={...this.printOptions,previewOnly:o}}set printSectionId(o){this.printOptions={...this.printOptions,printSectionId:o}}set printTitle(o){this.printOptions={...this.printOptions,printTitle:o}}set useExistingCss(o){this.printOptions={...this.printOptions,useExistingCss:o}}set printDelay(o){this.printOptions={...this.printOptions,printDelay:o}}set closeWindow(o){this.printOptions={...this.printOptions,closeWindow:o}}set bodyClass(o){this.printOptions={...this.printOptions,bodyClass:o}}set openNewTab(o){this.printOptions={...this.printOptions,openNewTab:o}}set printStyle(o){super.setPrintStyle(o)}set styleSheetFile(o){super.setStyleSheetFile(o)}print(){super.print(this.printOptions)}static \u0275fac=function(){let o;return function(u){return(o||(o=c.xGo(h)))(u||h)}}();static \u0275dir=c.FsC({type:h,selectors:[["button","ngxPrint",""]],hostBindings:function(r,u){1&r&&c.bIt("click",function(){return u.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",closeWindow:"closeWindow",bodyClass:"bodyClass",openNewTab:"openNewTab",printStyle:"printStyle",styleSheetFile:"styleSheetFile"},standalone:!0,features:[c.Vt3]})}return h})(),C=(()=>{class h{static \u0275fac=function(r){return new(r||h)};static \u0275mod=c.$C({type:h});static \u0275inj=c.G2t({})}return h})()}}]);