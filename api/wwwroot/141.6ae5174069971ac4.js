"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[141],{7114:(E,_,n)=>{n.d(_,{t:()=>C});var e=n(5879),l=n(6223),f=n(6814);function M(m,v){if(1&m&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&m){const h=e.oxw();e.xp6(1),e.hij(" Please enter a ",h.label," ")}}function t(m,v){if(1&m&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&m){const h=e.oxw();e.xp6(1),e.AsE(" ",h.label," must be at least ",null==h.control.errors?null:h.control.errors.minlength.requiredLength," characters ")}}function P(m,v){if(1&m&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&m){const h=e.oxw();e.xp6(1),e.AsE(" ",h.label," must be at most ",null==h.control.errors?null:h.control.errors.maxlength.requiredLength," characters ")}}function g(m,v){if(1&m&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&m){const h=e.oxw();e.xp6(1),e.hij(" ",h.label," do not match ")}}let C=(()=>{class m{constructor(h){this.ngControl=h,this.label="",this.type="text",this.width="",this.ngControl.valueAccessor=this}writeValue(h){}registerOnChange(h){}registerOnTouched(h){}get control(){return this.ngControl.control}static#t=this.\u0275fac=function(r){return new(r||m)(e.Y36(l.a5,2))};static#e=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-text-input"]],inputs:{label:"label",type:"type",width:"width"},decls:6,vars:10,consts:[[1,"mb-3",2,"vertical-align","top"],[1,"form-control",2,"font-size","small","word-wrap","normal","height","auto","margin-top","0px","margin-bottom","0px","padding-top","0px","padding-bottom","0px","background-color","darkgrey",3,"type","width","formControl","placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(r,d){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.YNc(2,M,2,1,"div",2),e.YNc(3,t,2,2,"div",2),e.YNc(4,P,2,2,"div",2),e.YNc(5,g,2,1,"div",2),e.qZA()),2&r&&(e.xp6(1),e.ekj("is-invalid",d.control.touched&&d.control.invalid),e.s9C("type",d.type),e.s9C("width",d.width),e.s9C("placeholder",d.label),e.Q6J("formControl",d.control),e.xp6(1),e.Q6J("ngIf",null==d.control.errors?null:d.control.errors.required),e.xp6(1),e.Q6J("ngIf",null==d.control.errors?null:d.control.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==d.control.errors?null:d.control.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==d.control.errors?null:d.control.errors.isMatching))},dependencies:[f.O5,l.Fj,l.JJ,l.oH]})}return m})()},4911:(E,_,n)=>{n.d(_,{D:()=>e});class e{constructor(){this.customerType="customer",this.customerCityName="",this.customerIndustryId=0,this.includeOfficials=!1,this.includeIndustries=!1,this.sort="name",this.pageNumber=1,this.pageSize=10,this.search=""}}},3056:(E,_,n)=>{n.d(_,{p:()=>e});class e{constructor(){this.candidateId=0,this.candidateName="",this.applicationNo=0,this.agentId=0,this.customerId=0,this.orderId=0,this.orderNo=0,this.selectionStatus="",this.sort="name",this.pageNumber=1,this.pageSize=15,this.search=""}}},101:(E,_,n)=>{n.d(_,{_:()=>e});class e{constructor(){this.id=0,this.professionName="",this.search="",this.pageNumber=1,this.pageSize=10}}},7208:(E,_,n)=>{n.d(_,{h:()=>f});var e=n(5879),l=n(70);const f=()=>(0,e.f3M)(l.H).getCategoryList()},7450:(E,_,n)=>{n.d(_,{v:()=>m});var e=n(7328),l=n(2096),f=n(7398),M=n(5516),t=n(1436),P=n(4911),g=n(5879),C=n(9862);let m=(()=>{class v{constructor(r){this.http=r,this.apiUrl=M.N.apiUrl,this.currentUserSource=new e.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.custParams=new P.D,this.customerType="",this.customersBrief=[],this.cache=new Map}getCustomerNameFromId(r){if(this.customersBrief.length>0){var d=this.customersBrief.find(i=>i.id===r);if(null!==d)return(0,l.of)(d?.knownAs)}return this.http.get(this.apiUrl+"customers/customernamefromId/"+r)}getCustomers(r){const d=this.cache.get(Object.values(r).join("-"));if(d)return(0,l.of)(d);this.customerType=r.customerType??"customer";let i=(0,t.VY)(r);return(0,t.Tr)(this.apiUrl+"customers",i,this.http).pipe((0,f.U)(o=>(this.cache.set(Object.values(r).join("-"),o),o)))}getClientIdAndNames(){return this.http.get(this.apiUrl+"customers/clientidandnames/customer")}getCustomer(r){return this.http.get(this.apiUrl+"customers/byid/"+r)}register(r){return this.http.post(this.apiUrl+"customers",r)}getCustomerCities(r){return this.http.get(this.apiUrl+"customers/customercities/"+r)}deleteCustomer(r){return this.http.delete(this.apiUrl+"Customers/customer/"+r)}deleteCustomerOfficial(r){return this.http.delete(this.apiUrl+"Customers/official/"+r)}setParams(r){this.custParams=r}getParams(){return this.custParams}updateCustomer(r){return this.http.put(this.apiUrl+"customers/edit",r)}getAgents(){return this.http.get(this.apiUrl+"customers/agentdetails/associate")}getOfficialAndCustomerName(){return this.http.get(this.apiUrl+"customers/officialidandcustomernames/customer")}getAgentIdAndNames(){return this.http.get(this.apiUrl+"customers/clientidandnames/associate")}getCustomerAndCities(){return this.http.get(this.apiUrl+"customers/customerCities/customer")}remindClientForSelections(r){return this.http.get(this.apiUrl+"CVRef/selDecisionReminder/"+r)}getFeedbackHistory(r){return this.http.get(this.apiUrl+"Feedback/history/"+r)}getOrCreateCustomerReview(r){return this.http.get(this.apiUrl+"CustomerReview/getOrCreateObject/"+r)}static#t=this.\u0275fac=function(d){return new(d||v)(g.LFG(C.eN))};static#e=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},70:(E,_,n)=>{n.d(_,{H:()=>m});var e=n(7328),l=n(2096),f=n(7398),M=n(5516),t=n(1436),P=n(101),g=n(5879),C=n(9862);let m=(()=>{class v{constructor(r){this.http=r,this.apiUrl=M.N.apiUrl,this.currentUserSource=new e.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.mParams=new P._,this.professions=[],this.cache=new Map}getCategoryList(){return this.http.get(this.apiUrl+"Profession/professionlist")}getVendorFacilityList(){return this.http.get(this.apiUrl+"masters/VendorFacilityList")}getCategoriesPaged(r,d=!0){if(console.log("params:",r),d){console.log("categories getting from cache");const o=this.cache.get(Object.values(r).join("-"));if(o)return(0,l.of)(o)}else this.cache=new Map;console.log("categories getting from api");let i=(0,t.eO)(r);return(0,t.Tr)(this.apiUrl+"Profession",i,this.http).pipe((0,f.U)(o=>(this.cache.set(Object.values(r).join("-"),o),o)))}getCategory(r){let d;return this.cache.forEach(i=>{d=i.find(o=>o.id===r)}),d?(0,l.of)(d):this.http.get(this.apiUrl+"Profession/profession/"+r)}deleteCategory(r){return this.http.delete(this.apiUrl+"Profession/deletebyid/"+r)}updateCategory(r,d){return 0===r?this.http.post(this.apiUrl+"Profession/add/"+d,{}):this.http.put(this.apiUrl+"Profession/edit",{id:r,professionName:d})}setParams(r){this.mParams=r}getParams(){return this.mParams}static#t=this.\u0275fac=function(d){return new(d||v)(g.LFG(C.eN))};static#e=this.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},3391:(E,_,n)=>{n.d(_,{Z:()=>r});var e=n(7328),l=n(8180),f=n(2096),M=n(7398),t=n(5516),P=n(3056),g=n(1436),C=n(5879),m=n(7133),v=n(7783),h=n(9862);let r=(()=>{class d{constructor(o,x,T){this.activatedRoute=o,this.accountService=x,this.http=T,this.apiUrl=t.N.apiUrl,this.currentUserSource=new e.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.cache=new Map,this.cacheReferred=new Map,this.cvRefParams=new P.p,this.selectionStatuses=[{name:"Selected"},{name:"Rejected-High Salary Expectation"},{name:"Rejected-Low Exp"},{name:"Rejected-irrelevant Exp"},{name:"Rejected-other reasons"}],this.accountService.currentUser$.pipe((0,l.q)(1)).subscribe(Z=>this.user=Z)}referCVs(o){return this.http.post(this.apiUrl+"CVRef",o)}referredCVsPaginated(o=!1){if(!o){const T=this.cacheReferred.get(Object.values(this.cvRefParams).join("-"));if(T)return(0,f.of)(T)}let x=(0,g.R1)(this.cvRefParams);return console.log("cvrefparams",x),(0,g.Tr)(this.apiUrl+"cvref/cvsreferred",x,this.http).pipe((0,M.U)(T=>(this.cache.set(Object.values(this.cvRefParams).join("-"),T),T)))}getCVRefWithDeploys(o){return this.http.get(this.apiUrl+"CVRef/cvrefwithdeploys/"+o)}getCVRefWithCVRefId(o){return this.http.get(this.apiUrl+"CVRef/cvref/"+o)}registerSelectionDecisions(o){return this.http.post(this.apiUrl+"Selection",o)}setParams(o){this.cvRefParams=o}getParams(){return this.cvRefParams}static#t=this.\u0275fac=function(x){return new(x||d)(C.LFG(m.gz),C.LFG(v.B),C.LFG(h.eN))};static#e=this.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},4503:(E,_,n)=>{n.d(_,{D:()=>M});var e=n(5516),l=n(5879),f=n(9862);let M=(()=>{class t{constructor(g){this.http=g,this.apiUrl=e.N.apiUrl}downloadFile(g){return this.http.get(this.apiUrl+"candidate/downloadfile/"+g,{responseType:"blob"})}downloadProspectiveFile(g){return this.http.get(this.apiUrl+"FileUpload/downloadprospectivefile/"+g)}static#t=this.\u0275fac=function(C){return new(C||t)(l.LFG(f.eN))};static#e=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},8344:(E,_,n)=>{n.d(_,{K:()=>h});var e=n(5879),l=n(6223),f=n(2051),M=n(3298),t=n(7133),P=n(6814),g=n(7114);function C(r,d){1&r&&(e.TgZ(0,"div"),e._uU(1," No assessment record available for the candidate against the given Order item "),e.qZA())}function m(r,d){if(1&r&&(e.TgZ(0,"div")(1,"div",26),e._UZ(2,"input",27),e.TgZ(3,"div",28),e._UZ(4,"app-text-input",29),e.qZA(),e.TgZ(5,"div",30),e._UZ(6,"app-text-input",31),e.qZA(),e.TgZ(7,"div",32),e._UZ(8,"app-text-input",33),e.qZA(),e.TgZ(9,"div",32),e._UZ(10,"app-text-input",34),e.qZA()()()),2&r){const i=d.index;e.xp6(1),e.Q6J("formGroupName",i),e.xp6(3),e.Q6J("label","Q No"),e.xp6(2),e.Q6J("label","Question"),e.xp6(2),e.Q6J("label","Max Points"),e.xp6(2),e.Q6J("label","Points")}}function v(r,d){if(1&r){const i=e.EpF();e.TgZ(0,"form",8),e.NdJ("ngSubmit",function(){e.CHM(i);const x=e.oxw();return e.KtG(x.form.valid)}),e.TgZ(1,"div",9)(2,"label",10),e._uU(3,"Application No"),e.qZA(),e.TgZ(4,"div",11),e._uU(5),e.qZA(),e.TgZ(6,"label",12),e._uU(7,"Candidate Name"),e.qZA(),e.TgZ(8,"div",13),e._uU(9),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"label",10),e._uU(12,"Customer"),e.qZA(),e.TgZ(13,"div",13),e._UZ(14,"app-text-input",14),e.qZA(),e.TgZ(15,"label",15),e._uU(16,"Category Name"),e.qZA(),e.TgZ(17,"div",13),e._UZ(18,"app-text-input",16),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"label",15),e._uU(21,"Assessed On"),e.qZA(),e.TgZ(22,"div",17),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"label",18),e._uU(26,"Result"),e.qZA(),e.TgZ(27,"div",11),e._UZ(28,"app-text-input",19),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"label",20),e._uU(31,"Ass'd"),e.qZA(),e.TgZ(32,"label",18),e._uU(33,"Q No."),e.qZA(),e.TgZ(34,"label",21),e._uU(35,"Question"),e.qZA(),e.TgZ(36,"label",18),e._uU(37,"Max"),e._UZ(38,"br"),e._uU(39,"Points"),e.qZA(),e.TgZ(40,"label",18),e._uU(41,"Points"),e.qZA(),e.TgZ(42,"div",22),e.YNc(43,m,11,5,"div",23),e.TgZ(44,"label",24),e._uU(45,"Total"),e.qZA(),e.TgZ(46,"div",25),e._uU(47),e.qZA(),e.TgZ(48,"div",25),e._uU(49),e.qZA()()()()}if(2&r){const i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(5),e.Oqu(i.assess.applicationNo),e.xp6(4),e.Oqu(i.assess.candidateName),e.xp6(5),e.Q6J("label","Customer"),e.xp6(4),e.Q6J("label","Category"),e.xp6(5),e.Oqu(e.xi3(24,10,i.assess.assessedOn,"dd-MMM-yy")),e.xp6(5),e.Q6J("label","Assess Result"),e.xp6(15),e.Q6J("ngForOf",i.items.controls),e.xp6(4),e.Oqu(i.totalMaxPoints),e.xp6(2),e.Oqu(i.totalPoints)}}let h=(()=>{class r{constructor(i,o,x,T,Z){this.bsModalRef=i,this.assessService=o,this.activatedRoute=x,this.fb=T,this.router=Z,this.candAssessEvent=new e.vpe,this.totalPoints=0,this.totalMaxPoints=0,this.form=new l.cw({})}ngOnInit(){void 0!==this.assess&&(this.InitializeFormArray(this.assess),this.calculateTotalPoints())}InitializeFormArray(i){this.form=this.fb.group({applicationNo:[i.applicationNo,l.kI.required],candidateId:[i.candidateId,l.kI.required],candidateName:[i.candidateName,l.kI.required],customerName:[i.customerName,l.kI.required],orderItemId:[i.orderItemId,l.kI.required],categoryRef:[i.categoryRef,l.kI.required],orderId:[i.orderId,l.kI.required],requireInternalReview:i.requireInternalReview,assessedByUsername:i.assessedByUsername,professionName:[i.professionName,l.kI.required],assessResult:[i.assessResult,l.kI.required],assessedOn:i.assessedOn,checklistHRId:i.checklistHRId,checklistedByName:i.checklistedByName,items:this.fb.array(i.assessmentItemsDto.map(o=>this.fb.group({id:o.id,candidateAssessmentId:o.candidateAssessmentId,questionNo:[o.questionNo,l.kI.required],question:[o.question,l.kI.required],assessed:[o.assessed],maxPoints:[o.maxPoints,l.kI.required],points:[o.points],remarks:o.remarks})))})}get items(){return this.form.get("items")}close(){this.candAssessEvent.emit(this.assess),this.bsModalRef.hide()}calculateTotalPoints(){this.totalMaxPoints=this.items.value.map(i=>i.maxPoints).reduce((i,o)=>i+o,0),this.totalPoints=this.items.value.map(i=>i.points).reduce((i,o)=>i+o,0)}static#t=this.\u0275fac=function(o){return new(o||r)(e.Y36(f.UZ),e.Y36(M.k),e.Y36(t.gz),e.Y36(l.qu),e.Y36(t.F0))};static#e=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-cv-assess-modal"]],outputs:{candAssessEvent:"candAssessEvent"},decls:10,vars:2,consts:[[1,"modal-header"],[1,"stdd",2,"font-weight","bold"],["type","button",1,"stdd","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"stdd","mt-2"],[1,"lbl","w100"],[1,"stdd","w50"],[1,"lbl","w125","mx-5"],[1,"stdd","w250"],["formControlName","customerName",3,"label"],[1,"lbl","w100","mx-2"],["formControlName","professionName",2,"font-size","small",3,"label"],[1,"stdd","w125"],[1,"lbl","w50","mx-2"],["formControlName","assessResult",2,"font-size","small","font-weight","bold",3,"label"],[1,"lbl","w25","mx-2"],[1,"lbl","w400","mx-2"],["formArrayName","items",1,"formArray"],[4,"ngFor","ngForOf"],[1,"lbl","w50","b",2,"margin-left","458px"],[1,"stdd","w50","alignR","mx-2","b"],[3,"formGroupName"],["type","checkbox","formControlName","assessed",1,"stdd","w25","mx-2",2,"font-size","small"],[1,"stdd","w50","mx-2"],["formControlName","questionNo",2,"font-size","small",3,"label"],[1,"stdd","w400","mx-2"],["formControlName","question",2,"font-size","small",3,"label"],[1,"stdd","w50","mx-2","alignR"],["formControlName","maxPoints",2,"font-size","small","text-align","right",3,"label"],["formControlName","points",2,"font-size","small","text-align","right",3,"label"]],template:function(o,x){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Candidate Assessment"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return x.bsModalRef.hide()}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",4),e.YNc(7,C,2,0,"div",5),e.YNc(8,v,50,13,"form",6),e.qZA(),e._UZ(9,"div",7)),2&o&&(e.xp6(7),e.Q6J("ngIf",!x.assess),e.xp6(1),e.Q6J("ngIf",x.assess))},dependencies:[P.sg,P.O5,l._Y,l.Wl,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,g.t,P.uU],styles:[".lbl[_ngcontent-%COMP%]{display:inline-block;font-size:small;font-weight:700;vertical-align:middle;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.alignR[_ngcontent-%COMP%]{text-align:right}.w25[_ngcontent-%COMP%]{width:25px}.w50[_ngcontent-%COMP%]{width:50px}.w250[_ngcontent-%COMP%]{width:250px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w400[_ngcontent-%COMP%]{width:400px}.b[_ngcontent-%COMP%]{font-weight:700}"]})}return r})()},6355:(E,_,n)=>{n.d(_,{z:()=>L});var e=n(2181),l=n(4664),f=n(3056),M=n(8344),t=n(5879),P=n(7133),g=n(3391),C=n(8763),m=n(2051),v=n(3298),h=n(4503),r=n(6814),d=n(7012),i=n(6223);function o(u,O){if(1&u){const s=t.EpF();t.TgZ(0,"div",1)(1,"input",2),t.NdJ("change",function(){t.CHM(s);const a=t.oxw();return t.KtG(a.CVChecked())}),t.qZA(),t.TgZ(2,"div",3),t._uU(3),t.qZA(),t.TgZ(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5),t._uU(7),t.qZA(),t.TgZ(8,"div",6),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"div",7),t._uU(12),t.qZA(),t.TgZ(13,"div",6),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"button",8),t.NdJ("click",function(){t.CHM(s);const a=t.oxw();return t.KtG(a.download(a.cv.candidateId))}),t.qZA()()}if(2&u){const s=t.oxw();t.xp6(1),t.Q6J("checked",s.cv.checked),t.xp6(2),t.Oqu(s.cv.applicationNo),t.xp6(1),t.MGl("routerLink","/candidate/historyfromcvid/",s.cv.candidateId,""),t.xp6(1),t.Oqu(s.cv.candidateName),t.xp6(2),t.Oqu(s.cv.categoryRefAndName),t.xp6(2),t.Oqu(t.xi3(10,8,s.cv.referredOn,"dd-MMM-yy")),t.xp6(3),t.Oqu(s.cv.selectionStatus),t.xp6(2),t.Oqu(t.xi3(15,11,s.cv.selectionStatusDate,"dd-MMM-yy"))}}let x=(()=>{class u{constructor(){this.msgEvent=new t.vpe,this.downloadEvent=new t.vpe,this.cvAssessEvent=new t.vpe,this.cvCheckedEvent=new t.vpe,this.currentId=0,this.isHidden=!0,this.xPosTabMenu=0,this.yPosTabMenu=0}ngOnInit(){}rightClick(s){return s.stopPropagation(),this.xPosTabMenu=s.clientX,this.yPosTabMenu=s.clientY,this.isHidden=!1,!1}closeRightClickMenu(){this.isHidden=!0}download(s){this.downloadEvent.emit(s)}onClickLoadDocument(s){this.msgEvent.emit(s)}displayAssessment(){this.cvAssessEvent.emit(this.cv)}setCurrentId(s){this.currentId=s}showhistory(s){this.msgEvent.emit(s)}CVChecked(){this.cvCheckedEvent.emit(this.cv)}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-cvreferred-line"]],inputs:{cv:"cv"},outputs:{msgEvent:"msgEvent",downloadEvent:"downloadEvent",cvAssessEvent:"cvAssessEvent",cvCheckedEvent:"cvCheckedEvent"},decls:1,vars:1,consts:[["class","stdd row","style","margin-left: 75px; margin-top: 0px; margin-bottom: 0px;",4,"ngIf"],[1,"stdd","row",2,"margin-left","75px","margin-top","0px","margin-bottom","0px"],["type","checkbox","value","cv.id",1,"stdd","form-check-input",2,"border-color","black",3,"checked","change"],["title","click to edit","mouseover","style.cursor = 'pointer'",1,"stdd","fSmall","w50","mx-1",2,"margin-left","10px"],["title","contact history of the candidate",1,"stdd","fSmall","w130","mx-1",3,"routerLink"],[1,"stdd","fSmaller","mx-1","w300"],[1,"stdd","fSmall","mx-1","w100"],[1,"stdd","fSmall","mx-1","w150"],["type","button","type","button","title","download the CV",1,"btn","btn-outline-secondary","fa","fa-regular","fa-download","w30",3,"click"]],template:function(c,a){1&c&&t.YNc(0,o,17,14,"div",0),2&c&&t.Q6J("ngIf",null!=a.cv)},dependencies:[r.O5,P.rH,r.uU],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.fSmall[_ngcontent-%COMP%]{font-size:small}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.cursorpointer[_ngcontent-%COMP%]{cursor:pointer;color:#00008b}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.w30[_ngcontent-%COMP%]{width:30px}.w50[_ngcontent-%COMP%]{width:50px}.w100[_ngcontent-%COMP%]{width:100px}.w130[_ngcontent-%COMP%]{width:130px}.w150[_ngcontent-%COMP%]{width:150px}.w300[_ngcontent-%COMP%]{width:300px}.blue[_ngcontent-%COMP%]{color:#00008b}"]})}return u})();const T=["search"];function Z(u,O){if(1&u){const s=t.EpF();t.TgZ(0,"pagination",13),t.NdJ("pageChanged",function(a){t.CHM(s);const p=t.oxw();return t.KtG(p.onPageChanged(a))}),t._uU(1,"\n>"),t.qZA()}if(2&u){const s=t.oxw();t.Q6J("totalItems",s.pagination.totalItems)("itemsPerPage",s.pagination.itemsPerPage)("maxSize",10)}}function b(u,O){if(1&u){const s=t.EpF();t.TgZ(0,"div",14)(1,"label",15),t._uU(2,"Order#"),t.qZA(),t.TgZ(3,"input",16,17),t.NdJ("ngModelChange",function(a){t.CHM(s);const p=t.oxw();return t.KtG(p.cvParams.orderNo=a)}),t.qZA(),t.TgZ(5,"button",18),t.NdJ("click",function(){t.CHM(s);const a=t.oxw();return t.KtG(a.onSearch())}),t.qZA(),t.TgZ(6,"input",19),t.NdJ("ngModelChange",function(a){t.CHM(s);const p=t.oxw();return t.KtG(p.cvParams.selectionStatus=a)}),t.qZA(),t._uU(7,"Selections Pending "),t.TgZ(8,"input",20),t.NdJ("ngModelChange",function(a){t.CHM(s);const p=t.oxw();return t.KtG(p.cvParams.selectionStatus=a)}),t.qZA(),t._uU(9,"all Status "),t.TgZ(10,"input",21),t.NdJ("ngModelChange",function(a){t.CHM(s);const p=t.oxw();return t.KtG(p.cvParams.selectionStatus=a)}),t.qZA(),t._uU(11,"Selected "),t.TgZ(12,"input",22),t.NdJ("ngModelChange",function(a){t.CHM(s);const p=t.oxw();return t.KtG(p.cvParams.selectionStatus=a)}),t.qZA(),t._uU(13,"Rejected "),t.TgZ(14,"button",23),t.NdJ("click",function(){t.CHM(s);const a=t.oxw();return t.KtG(a.onReset())}),t.qZA(),t.TgZ(15,"button",24),t.NdJ("click",function(){t.CHM(s);const a=t.oxw();return t.KtG(a.close())}),t.qZA()()}if(2&u){const s=t.oxw();t.xp6(3),t.Q6J("ngModel",s.cvParams.orderNo),t.xp6(3),t.Q6J("ngModel",s.cvParams.selectionStatus),t.xp6(2),t.Q6J("ngModel",s.cvParams.selectionStatus),t.xp6(2),t.Q6J("ngModel",s.cvParams.selectionStatus),t.xp6(2),t.Q6J("ngModel",s.cvParams.selectionStatus)}}function y(u,O){1&u&&(t.TgZ(0,"div",25),t._uU(1,' "CVs referred based on following criteria: " + paramNames;\n'),t.qZA())}function R(u,O){1&u&&(t.TgZ(0,"div",26),t._uU(1," No candidates available to refer\n"),t.qZA())}function N(u,O){if(1&u){const s=t.EpF();t.TgZ(0,"div",28)(1,"app-cvreferred-line",29),t.NdJ("downloadEvent",function(a){t.CHM(s);const p=t.oxw(2);return t.KtG(p.downloadFileEvent(a))})("cvCheckedEvent",function(a){t.CHM(s);const p=t.oxw(2);return t.KtG(p.cvCheckedEvent(a))})("cvAssessEvent",function(a){t.CHM(s);const p=t.oxw(2);return t.KtG(p.displayAssessmentModalBySwitchMap(a))}),t.qZA()()}if(2&u){const s=O.$implicit;t.xp6(1),t.Q6J("cv",s)}}function D(u,O){if(1&u&&(t.TgZ(0,"div"),t.YNc(1,N,2,1,"div",27),t.qZA()),2&u){const s=t.oxw();t.xp6(1),t.Q6J("ngForOf",s.cvs)}}let L=(()=>{class u{constructor(s,c,a,p,U,w,I){this.router=s,this.service=c,this.toastr=a,this.modalService=p,this.candAssessService=U,this.downloadService=w,this.route=I,this.returnUrl="",this.cvParams=new f.p,this.cvs=[],this.selectedCVs=[],this.totalCount=0,this.paramNames="",this.id=0;var S=this.route.snapshot.paramMap.get("id")??"0";this.id=+S;let A=this.router.getCurrentNavigation();A?.extras&&A.extras.state&&(A.extras.state.returnUrl&&(this.returnUrl=A.extras.state.returnUrl),A.extras.state.user&&(this.user=A.extras.state.user))}ngOnInit(){0!==this.id&&(this.cvParams.orderId=this.id),this.loadCVsReferred()}loadCVsReferred(){this.service.setParams(this.cvParams),this.service.referredCVsPaginated(!0).subscribe({next:s=>{s.result&&s.pagination&&(this.cvs=s.result,this.pagination=s.pagination)}})}onSearch(){const s=this.service.getParams()??new f.p;""!==this.searchTerm?.nativeElement.value&&(s.orderNo=this.searchTerm.nativeElement.value),s.pageNumber=1,this.service.setParams(s),this.loadCVsReferred()}onReset(){this.cvParams.pageNumber=1,this.service.setParams(this.cvParams),this.loadCVsReferred()}onPageChanged(s){this.cvParams&&this.cvParams.pageNumber!==s.page&&(this.cvParams.pageNumber=s.page,this.service.setParams(this.cvParams),this.loadCVsReferred())}downloadFileEvent(s){return this.downloadService.downloadFile(s).subscribe(()=>{this.toastr.success("document downloaded")},c=>{this.toastr.error("failed to download document",c)})}displayAssessmentModalBySwitchMap(s){this.candAssessService.getCandidateAssessmentDto(s.candidateId,s.orderItemId).pipe((0,e.h)(U=>void 0!==U),(0,l.w)(U=>(this.bsModalRef=this.modalService.show(M.K,{class:"modal-dialog-centered modal-lg",initialState:{assess:U,username:this.user?.userName}}),this.bsModalRef.content.candAssessEvent))).subscribe(U=>{console.log("inner response:",U)})}navigateByUrl(s,c,a){this.router.navigate([s],{state:{cvbrief:c,userobject:this.service.user,toedit:a,returnUrl:"/candidates"}})}cvCheckedEvent(s){var c=this.selectedCVs.find(p=>p.candidateId==s.id),a=this.selectedCVs.findIndex(p=>p.candidateId===s.id);void 0!==c?c.checked?this.selectedCVs.push(s):this.selectedCVs.splice(a,1):this.selectedCVs.push(s)}close(){this.router.navigateByUrl(this.returnUrl||"/candidates")}static#t=this.\u0275fac=function(c){return new(c||u)(t.Y36(P.F0),t.Y36(g.Z),t.Y36(C._W),t.Y36(m.tT),t.Y36(v.k),t.Y36(h.D),t.Y36(P.gz))};static#e=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-cvsreferred"]],viewQuery:function(c,a){if(1&c&&t.Gf(T,5),2&c){let p;t.iGM(p=t.CRH())&&(a.searchTerm=p.first)}},decls:22,vars:5,consts:[[1,"my-0","mx-4",2,"display","inline-block","font-weight","bold"],["class","stdd","previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"totalItems","itemsPerPage","maxSize","pageChanged",4,"ngIf"],["class","stdd",4,"ngIf"],["class","my-1",4,"ngIf"],[2,"margin-left","70px"],[1,"lbl","w30","mx-1"],[1,"lbl","w50","mx-1"],[1,"lbl","w130","mx-1"],[1,"lbl","w300","mx-1"],[1,"lbl","w100","mx-1"],[1,"lbl","w150","mx-1"],["style","margin-left: 100px; margin-top: 5px; font-weight: bold; ",4,"ngIf"],[4,"ngIf"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",1,"stdd",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[1,"stdd"],[1,"stdd","w75","fSmall","b",2,"text-align","right","vertical-align","middle !important"],["type","text","title","enter Order No to search","placeholder","Order No",1,"stdd","form-control","fSmall","w75",2,"margin-left","20px",3,"ngModel","ngModelChange"],["search",""],["type","button",1,"stdd","btn","fa","fa-search","mx-1",3,"click"],["type","radio","value","Pending",1,"radio","form-check-input",3,"ngModel","ngModelChange"],["type","radio","value","",1,"radio","form-check-input",3,"ngModel","ngModelChange"],["type","radio","value","Selected",1,"radio","form-check-input",3,"ngModel","ngModelChange"],["type","radio","value","Rejected",1,"radio","form-check-input",3,"ngModel","ngModelChange"],["type","button",1,"stdd","mx-1","fa","fa-refresh","fa-2x",3,"click"],["title","close this page",1,"stdd","w40","mx-1","fa","fa-window-close","fa-2x",3,"click"],[1,"my-1"],[2,"margin-left","100px","margin-top","5px","font-weight","bold"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[3,"cv","downloadEvent","cvCheckedEvent","cvAssessEvent"]],template:function(c,a){1&c&&(t.TgZ(0,"h4",0),t._uU(1,"CVs refferred to clients"),t.qZA(),t.YNc(2,Z,2,3,"pagination",1),t.YNc(3,b,16,5,"div",2),t.YNc(4,y,2,0,"div",3),t.TgZ(5,"div",4)(6,"div",5),t._uU(7,"Select"),t.qZA(),t.TgZ(8,"div",6),t._uU(9,"App No"),t.qZA(),t.TgZ(10,"div",7),t._uU(11,"Candidate Name"),t.qZA(),t.TgZ(12,"div",8),t._uU(13,"Category Ref"),t.qZA(),t.TgZ(14,"div",9),t._uU(15,"Referred On"),t.qZA(),t.TgZ(16,"div",10),t._uU(17,"Selection Decision"),t.qZA(),t.TgZ(18,"div",9),t._uU(19,"Sel Decision Dt"),t.qZA()(),t.YNc(20,R,2,0,"div",11),t.YNc(21,D,2,1,"div",12)),2&c&&(t.xp6(2),t.Q6J("ngIf",void 0!==a.pagination),t.xp6(1),t.Q6J("ngIf",a.cvs),t.xp6(1),t.Q6J("ngIf",a.paramNames.length),t.xp6(16),t.Q6J("ngIf",0===a.cvs.length),t.xp6(1),t.Q6J("ngIf",a.cvs.length))},dependencies:[r.sg,r.O5,d.Qt,i.Fj,i._,i.JJ,i.On,x],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;color:hsl(from color h s l)}.lbl[_ngcontent-%COMP%]{display:inline-block;font-weight:700;font-size:small;vertical-align:middle}.radio[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin:0 2px;border-color:#000;width:20px;height:1em}.fMedium[_ngcontent-%COMP%]{font-size:medium}.fSmall[_ngcontent-%COMP%]{font-size:small}.b[_ngcontent-%COMP%]{font-weight:700}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w130[_ngcontent-%COMP%]{width:130px}.w150[_ngcontent-%COMP%]{width:180px}.w300[_ngcontent-%COMP%]{width:300px}"]})}return u})()}}]);