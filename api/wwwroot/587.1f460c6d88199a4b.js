"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[587],{7114:(A,x,d)=>{d.d(x,{t:()=>e});var a=d(5879),v=d(6223),y=d(6814);function C(r,u){if(1&r&&(a.TgZ(0,"div",3),a._uU(1),a.qZA()),2&r){const p=a.oxw();a.xp6(1),a.hij(" Please enter a ",p.label," ")}}function h(r,u){if(1&r&&(a.TgZ(0,"div",3),a._uU(1),a.qZA()),2&r){const p=a.oxw();a.xp6(1),a.AsE(" ",p.label," must be at least ",null==p.control.errors?null:p.control.errors.minlength.requiredLength," characters ")}}function f(r,u){if(1&r&&(a.TgZ(0,"div",3),a._uU(1),a.qZA()),2&r){const p=a.oxw();a.xp6(1),a.AsE(" ",p.label," must be at most ",null==p.control.errors?null:p.control.errors.maxlength.requiredLength," characters ")}}function b(r,u){if(1&r&&(a.TgZ(0,"div",3),a._uU(1),a.qZA()),2&r){const p=a.oxw();a.xp6(1),a.hij(" ",p.label," do not match ")}}let e=(()=>{class r{constructor(p){this.ngControl=p,this.label="",this.type="text",this.width="",this.ngControl.valueAccessor=this}writeValue(p){}registerOnChange(p){}registerOnTouched(p){}get control(){return this.ngControl.control}static#e=this.\u0275fac=function(c){return new(c||r)(a.Y36(v.a5,2))};static#t=this.\u0275cmp=a.Xpm({type:r,selectors:[["app-text-input"]],inputs:{label:"label",type:"type",width:"width"},decls:6,vars:10,consts:[[1,"mb-3",2,"vertical-align","top"],[1,"form-control",2,"font-size","small","word-wrap","normal","height","auto","margin-top","0px","margin-bottom","0px","padding-top","0px","padding-bottom","0px","background-color","darkgrey",3,"type","width","formControl","placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(c,m){1&c&&(a.TgZ(0,"div",0),a._UZ(1,"input",1),a.YNc(2,C,2,1,"div",2),a.YNc(3,h,2,2,"div",2),a.YNc(4,f,2,2,"div",2),a.YNc(5,b,2,1,"div",2),a.qZA()),2&c&&(a.xp6(1),a.ekj("is-invalid",m.control.touched&&m.control.invalid),a.s9C("type",m.type),a.s9C("width",m.width),a.s9C("placeholder",m.label),a.Q6J("formControl",m.control),a.xp6(1),a.Q6J("ngIf",null==m.control.errors?null:m.control.errors.required),a.xp6(1),a.Q6J("ngIf",null==m.control.errors?null:m.control.errors.minlength),a.xp6(1),a.Q6J("ngIf",null==m.control.errors?null:m.control.errors.maxlength),a.xp6(1),a.Q6J("ngIf",null==m.control.errors?null:m.control.errors.isMatching))},dependencies:[y.O5,v.Fj,v.JJ,v.oH]})}return r})()},101:(A,x,d)=>{d.d(x,{_:()=>a});class a{constructor(){this.id=0,this.professionName="",this.professionGroup="",this.search="",this.pageNumber=1,this.pageSize=15}}},7208:(A,x,d)=>{d.d(x,{h:()=>y});var a=d(5879),v=d(70);const y=()=>(0,a.f3M)(v.H).getCategoryList()},70:(A,x,d)=>{d.d(x,{H:()=>r});var a=d(7328),v=d(2096),y=d(7398),C=d(5516),h=d(1436),f=d(101),b=d(5879),e=d(9862);let r=(()=>{class u{constructor(c){this.http=c,this.apiUrl=C.N.apiUrl,this.currentUserSource=new a.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.mParams=new f._,this.professions=[],this.cache=new Map}getCategoryList(){return this.http.get(this.apiUrl+"Profession/professionlist")}getVendorFacilityList(){return this.http.get(this.apiUrl+"masters/VendorFacilityList")}getCategoriesPaged(c,m=!0){if(m){const Z=this.cache.get(Object.values(c).join("-"));if(Z)return(0,v.of)(Z)}else this.cache=new Map;let T=(0,h.eO)(c);return(0,h.Tr)(this.apiUrl+"Profession",T,this.http).pipe((0,y.U)(Z=>(this.cache.set(Object.values(c).join("-"),Z),Z)))}getCategory(c){let m;return this.cache.forEach(T=>{m=T.find(Z=>Z.id===c)}),m?(0,v.of)(m):this.http.get(this.apiUrl+"Profession/profession/"+c)}deleteCategory(c){return this.http.delete(this.apiUrl+"Profession/deletebyid/"+c)}updateCategory(c){return 0===c.id?this.http.post(this.apiUrl+"Profession/add",c):this.http.put(this.apiUrl+"Profession/edit",c)}copyProfessionXLSFileToDB(c){return this.http.post(this.apiUrl+"ProfessionUpload/professionsFromXLS",c)}copyCandidateXLSFileToDB(c){return this.http.post(this.apiUrl+"FileUpload/candidateXLS",c)}setParams(c){this.mParams=c}getParams(){return this.mParams}static#e=this.\u0275fac=function(m){return new(m||u)(b.LFG(e.eN))};static#t=this.\u0275prov=b.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},7411:(A,x,d)=>{d.d(x,{z:()=>b});var a=d(5879),v=d(2051);let y=(()=>{class e{constructor(u){this.bsModalRef=u,this.title="",this.message="",this.btnOkText="",this.btnCancelText="",this.result=!1}confirm(){this.result=!0,this.bsModalRef.hide()}decline(){this.bsModalRef.hide()}static#e=this.\u0275fac=function(p){return new(p||e)(a.Y36(v.UZ))};static#t=this.\u0275cmp=a.Xpm({type:e,selectors:[["app-confirm-dialog"]],decls:11,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(p,c){1&p&&(a.TgZ(0,"div",0)(1,"h4",1),a._uU(2),a.qZA()(),a.TgZ(3,"div",2)(4,"p"),a._uU(5),a.qZA()(),a.TgZ(6,"div",3)(7,"button",4),a.NdJ("click",function(){return c.confirm()}),a._uU(8),a.qZA(),a.TgZ(9,"button",5),a.NdJ("click",function(){return c.decline()}),a._uU(10),a.qZA()()),2&p&&(a.xp6(2),a.Oqu(c.title),a.xp6(3),a.Oqu(c.message),a.xp6(3),a.Oqu(c.btnOkText),a.xp6(2),a.Oqu(c.btnCancelText))}})}return e})();var C=d(7398),h=d(5516),f=d(9862);let b=(()=>{class e{constructor(u,p){this.modalService=u,this.http=p,this.baseUrl=h.N.apiUrl}confirm(u="Confirmation",p="Are you sure you want to do this?",c="Ok",m="Cancel"){return this.bsModelRef=this.modalService.show(y,{initialState:{title:u,message:p,btnOkText:c,btnCancelText:m}}),this.bsModelRef.onHidden.pipe((0,C.U)(()=>this.bsModelRef.content.result))}getHelp(u){return this.http.get(this.baseUrl+"Help/help/"+u)}static#e=this.\u0275fac=function(p){return new(p||e)(a.LFG(v.tT),a.LFG(f.eN))};static#t=this.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},8587:(A,x,d)=>{d.r(x),d.d(x,{MasterModule:()=>Ue});var a=d(6814),v=d(3983),y=d(2181),C=d(4664),h=d(6306),f=d(2096),b=d(9141),e=d(5879),r=d(6223),u=d(2051),p=d(7411),c=d(8763),m=d(138),T=d(6468),Z=d(4807),U=d(7114);function G(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",14),e._UZ(2,"ng-select",15)(3,"app-text-input",16)(4,"app-text-input",17),e.TgZ(5,"button",18),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.download(s))}),e.qZA(),e.TgZ(6,"button",19),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.removeEmployeeAttachment(s))}),e.qZA()()()}if(2&o){const t=g.index,i=e.oxw();e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("items",i.fileTypes)("searchable",!0),e.xp6(1),e.Q6J("label","File Name"),e.xp6(1),e.Q6J("label","Full Path")}}let Y=(()=>{class o{updateClicked(){this.updateEvent.emit(this.form.value),this.bsModalRef.hide()}constructor(t,i,n,s,l,_){this.fb=t,this.bsModalRef=i,this.confirm=n,this.toastr=s,this.downloadService=l,this.service=_,this.empAttachments=[],this.empId=0,this.empName="",this.position="",this.form=new r.cw({}),this.filesToUpload=[],this.userFiles=[],this.progress=0,this.lastTimeCalled=0,this.updateEvent=new e.vpe,this.title="",this.fileTypes=[{fileType:"CV"},{fileType:"Certificate"},{fileType:"Aadhar"},{fileType:"Photograph"}]}ngOnInit(){this.service.getEmployeeAttachments(this.empId).subscribe({next:t=>this.empAttachments=t,error:t=>this.toastr.error(t.error.details,"Error encountered")}),this.initializeForm(this.empAttachments)}initializeForm(t){this.form=this.fb.group({employeeAttachments:this.fb.array(t.map(i=>this.fb.group({id:[i.id],employeeId:[i.employeeId,r.kI.required],fileName:[i.fileName,r.kI.required],fileType:[i.fileType,r.kI.required],fullPath:[i.fullPath,r.kI.required]})))})}get employeeAttachments(){return this.form.get("employeeAttachments")}newEmployeeAttachment(){return this.fb.group({id:0,employeeId:[this.empAttachments[0]?.id,r.kI.required],fileName:["",r.kI.required],fileType:["",r.kI.required],fullPath:[""]})}addEmployeeAttachment(){this.employeeAttachments.push(this.newEmployeeAttachment())}removeEmployeeAttachment(t){this.employeeAttachments.removeAt(t),this.employeeAttachments.markAsDirty()}download(t){var i=this.employeeAttachments.at(t).value;if(0!==i.id){var s=i.name;this.downloadService.download(i.id).subscribe({next:l=>{const _=document.createElement("a"),k=URL.createObjectURL(l);_.href=k,_.download=s,_.click(),URL.revokeObjectURL(k)},error:l=>this.toastr.error(l.error.details,"Error while downloading")})}else this.toastr.warning("this item has no primary key value")}newEmployeeAttachmentWithFile(t){return this.fb.group({id:0,employeeId:void 0===this.empAttachments?0:this.empAttachments[0]?.id,attachmentType:["",r.kI.required],fileName:[t.name,r.kI.required],fileType:"",fullPath:""})}onFileInputChange(t){const i=t.target;this.filesToUpload=[];const s=i.files[0];this.filesToUpload.push(s),this.employeeAttachments.push(this.newEmployeeAttachmentWithFile(s))}update(){if(!(Date.now()<this.lastTimeCalled+28e3)){this.lastTimeCalled=Date.now();var n=new FormData;n.append("data",this.form.value),this.userFiles.length>0&&this.userFiles.forEach(l=>{n.append("file",l,l.name)}),this.service.updateOrAddEmployeeAttachments(n).subscribe({next:l=>{this.toastr.info("suuccess")}})}}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(r.qu),e.Y36(u.UZ),e.Y36(p.z),e.Y36(c._W),e.Y36(m.I),e.Y36(T.G))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-emp-attachment"]],outputs:{updateEvent:"updateEvent"},decls:25,vars:4,consts:[[3,"formGroup"],[1,"stdd"],[1,"stdd","b"],[1,"btn","fa","fa-save","fa-2x","green",3,"click"],[1,"btn","fa","fa-window-close","fa-2x",3,"click"],[1,"b","my-2",2,"margin-left","10px"],[1,"my-1"],[1,"fSmaller","w125",2,"margin-left","50px"],[1,"fSmaller","w150"],[1,"fSmaller","w300"],[1,"btn","fa","fa-plus",3,"click"],["type","file","id","file",1,"stdd",3,"change"],["formArrayName","employeeAttachments",2,"margin-left","50px"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["bindLabel","fileType","bindValue","fileType","formControlName","fileType",2,"display","inline-block","font-size","smaller","width","125px",3,"items","searchable"],["formControlName","fileName",1,"stdd","w150",3,"label"],["formControlName","fullPath",1,"stdd","w300",3,"label"],[1,"btn","fa","fa-download",3,"click"],[1,"btn","fa","fa-trash","red",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"form",0)(1,"div",1)(2,"span",2),e._uU(3,"Employee Name:"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div",1)(6,"span",2),e._uU(7,"Position:"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"button",3),e.NdJ("click",function(){return n.update()}),e.qZA(),e.TgZ(10,"button",4),e.NdJ("click",function(){return n.bsModalRef.hide()}),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",5),e._uU(13,"Attachments"),e.qZA(),e._UZ(14,"hr",6),e.TgZ(15,"label",7),e._uU(16,"Type"),e.qZA(),e.TgZ(17,"label",8),e._uU(18,"File Name"),e.qZA(),e.TgZ(19,"label",9),e._uU(20,"Full Path"),e.qZA(),e.TgZ(21,"button",10),e.NdJ("click",function(){return n.addEmployeeAttachment()}),e.qZA(),e.TgZ(22,"input",11),e.NdJ("change",function(l){return n.onFileInputChange(l)}),e.qZA(),e.TgZ(23,"div",12),e.YNc(24,G,7,5,"div",13),e.qZA()()),2&i&&(e.Q6J("formGroup",n.form),e.xp6(4),e.Oqu(n.empName),e.xp6(4),e.Oqu(n.position),e.xp6(16),e.Q6J("ngForOf",n.employeeAttachments.controls))},dependencies:[a.sg,r._Y,r.JJ,r.JL,r.sg,r.u,r.x0,r.CE,Z.w9,U.t],styles:[".w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w200[_ngcontent-%COMP%]{width:200px}.w300[_ngcontent-%COMP%]{width:300px}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.stdd[_ngcontent-%COMP%]{display:inline-block;margin-left:5px;margin-right:5px;font-size:small}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}btn[_ngcontent-%COMP%]{color:#f0f8ff!important;width:25px}"]})}return o})();var w=d(7133),I=d(7012);function z(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e._uU(2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4),e._uU(6),e.qZA(),e.TgZ(7,"div",4),e._uU(8),e.qZA(),e.TgZ(9,"div",4),e._uU(10),e.qZA(),e.TgZ(11,"div",3),e._uU(12),e.qZA(),e.TgZ(13,"div",4),e._uU(14),e.qZA(),e.TgZ(15,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.editClicked())}),e.qZA(),e.TgZ(16,"button",6),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteClicked())}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.emp.gender),e.xp6(2),e.Oqu(t.emp.firstName),e.xp6(2),e.Oqu(t.emp.familyName),e.xp6(2),e.Oqu(t.emp.knownAs),e.xp6(2),e.Oqu(t.emp.department),e.xp6(2),e.Oqu(t.emp.position),e.xp6(2),e.Oqu(t.emp.status)}}let H=(()=>{class o{constructor(t,i){this.service=t,this.toastr=i,this.deleteEmployeeEvent=new e.vpe,this.editEmployeeEvent=new e.vpe,this.uploadClickedEvent=new e.vpe}editClicked(){this.editEmployeeEvent.emit(this.emp.id)}deleteClicked(){this.deleteEmployeeEvent.emit(this.emp.id)}uploadClicked(){this.uploadClickedEvent.emit(this.emp.id)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(T.G),e.Y36(c._W))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-employee-line"]],inputs:{emp:"emp"},outputs:{deleteEmployeeEvent:"deleteEmployeeEvent",editEmployeeEvent:"editEmployeeEvent",uploadClickedEvent:"uploadClickedEvent"},decls:1,vars:1,consts:[["style","margin-left: 50px;",4,"ngIf"],[2,"margin-left","50px"],[1,"stdd","w50"],[1,"stdd","w150"],[1,"stdd","w100"],["title","edit this employee",1,"btn","fa","fa-pencil",2,"color","aliceblue",3,"click"],["title","delete this employee",1,"btn","fa","fa-trash","red",3,"click"]],template:function(i,n){1&i&&e.YNc(0,z,17,7,"div",0),2&i&&e.Q6J("ngIf",n.emp)},dependencies:[a.O5],styles:[".w50[_ngcontent-%COMP%]{width:50px}.w100[_ngcontent-%COMP%]{width:100px}.w150[_ngcontent-%COMP%]{width:150px}.stdd[_ngcontent-%COMP%]{display:inline-block;margin-left:2px;margin-right:2px;font-size:small;vertical-align:top;word-wrap:break-word}.red[_ngcontent-%COMP%]{color:red}"]})}return o})();const K=["search"];function j(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"pagination",11),e.NdJ("pageChanged",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onPageChanged(n))}),e._uU(1,"\n>"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("totalItems",t.pagination.totalItems)("itemsPerPage",t.pagination.itemsPerPage)("maxSize",10)}}function W(o,g){1&o&&(e.TgZ(0,"div",12),e._uU(1," No employees on record "),e.qZA())}function V(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"app-employee-line",13),e.NdJ("editEmployeeEvent",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.employeeEdit(n))})("deleteEmployeeEvent",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.employeeDelete(n))}),e.qZA()()}if(2&o){const t=g.$implicit;e.xp6(1),e.Q6J("emp",t)}}let X=(()=>{class o{constructor(t,i,n,s,l){this.service=t,this.toastr=i,this.modalService=n,this.router=s,this.confirm=l,this.employees=[],this.iParams=new b.S,this.orderNoToGet=0,this.totalCount=0}ngOnInit(){this.getEmployeesPaged()}getEmployeesPaged(){this.service.setParams(this.iParams),this.service.getEmployeesPaged().subscribe({next:t=>{this.employees=t.result,this.pagination=t.pagination,this.totalCount=t.totalCount}})}employeeEdit(t){this.router.navigateByUrl("/masters/testEmpEdit/"+t)}employeeDelete(t){const s=this.service.deleteEmployee(t.id);this.confirm.confirm("confirm Delete","confirm delete this Employee. WARNING: If there are more than one venues for this employee,  This cannot be undone").pipe((0,y.h)(_=>_),(0,C.w)(()=>s)).subscribe(_=>{_?(this.toastr.success("Employee deleted","Success"),this.bsModalRef.hide()):this.toastr.error("Error in deleting the checklist","failed to delete")})}onPageChanged(t){const i=this.service.getParams()??new b.S;i.pageNumber!==t.page&&(i.pageNumber=t.page,this.service.setParams(i),this.getEmployeesPaged())}onSearch(){const t=this.service.getParams();t.search=this.searchTerm?.nativeElement.value,t.pageNumber=1,this.service.setParams(t),this.getEmployeesPaged()}onReset(){this.searchTerm.nativeElement.value="";const t=this.service.getParams();this.service.setParams(t),this.getEmployeesPaged()}attachments(t){this.bsModalRef=this.modalService.show(Y,{class:"modal-dialog-centered modal-lg",initialState:{empId:t.id,empName:t.firstName,position:t.position}}),this.bsModalRef.content.updateEvent.pipe((0,y.h)(s=>0!==s.length),(0,C.w)(s=>this.service.updateOrAddEmployeeAttachments(s)),(0,h.K)(s=>(this.toastr.error(s.error.details,"Error encountered in update service"),(0,f.of)(null)))).subscribe(s=>{""!==s?this.toastr.success("User Attachments updated","Success"):this.toastr.warning(s,"Failure")})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(T.G),e.Y36(c._W),e.Y36(u.tT),e.Y36(w.F0),e.Y36(p.z))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-employees"]],viewQuery:function(i,n){if(1&i&&e.Gf(K,5),2&i){let s;e.iGM(s=e.CRH())&&(n.searchTerm=s.first)}},decls:24,vars:4,consts:[["style","display: inline-block;","previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"totalItems","itemsPerPage","maxSize","pageChanged",4,"ngIf"],[1,"stdd",2,"width","250px","margin-left","15px","text-align","right"],["type","text","title","enter first name to search",1,"stdd","form-control","w200",2,"margin-left","20px",3,"ngModel","ngModelChange"],["type","button",1,"mx-5","fa","fa-search","fa-2x",3,"click"],["type","button",1,"fa","fa-refresh","fa-2x","mx-2",3,"click"],["type","button","routerLink","/",1,"fa","fa-window-close","fa-2x"],[1,"lbl","w50",2,"margin-left","50px"],[1,"lbl","w150"],[1,"lbl","w100"],["class","my-2",4,"ngIf"],[4,"ngFor","ngForOf"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",2,"display","inline-block",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[1,"my-2"],[3,"emp","editEmployeeEvent","deleteEmployeeEvent"]],template:function(i,n){1&i&&(e.YNc(0,j,2,3,"pagination",0),e.TgZ(1,"label",1),e._uU(2,"Enter Employee name to search"),e.qZA(),e.TgZ(3,"input",2),e.NdJ("ngModelChange",function(l){return n.iParams.firstName=l}),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.onSearch()}),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.onReset()}),e.qZA(),e._UZ(6,"button",5)(7,"br"),e.TgZ(8,"label",6),e._uU(9,"Gender"),e.qZA(),e.TgZ(10,"label",7),e._uU(11,"First Name"),e.qZA(),e.TgZ(12,"label",8),e._uU(13,"Family Name"),e.qZA(),e.TgZ(14,"label",8),e._uU(15,"Known As"),e.qZA(),e.TgZ(16,"label",8),e._uU(17,"Department"),e.qZA(),e.TgZ(18,"label",7),e._uU(19,"Position"),e.qZA(),e.TgZ(20,"label",8),e._uU(21,"Status"),e.qZA(),e.YNc(22,W,2,0,"div",9),e.YNc(23,V,2,1,"div",10)),2&i&&(e.Q6J("ngIf",void 0!==n.pagination),e.xp6(3),e.Q6J("ngModel",n.iParams.firstName),e.xp6(19),e.Q6J("ngIf",0===n.employees.length),e.xp6(1),e.Q6J("ngForOf",n.employees))},dependencies:[a.sg,a.O5,I.Qt,r.Fj,r.JJ,r.On,w.rH,H],styles:[".w50[_ngcontent-%COMP%]{width:50px}.w100[_ngcontent-%COMP%]{width:100px}.w150[_ngcontent-%COMP%]{width:150px}.w200[_ngcontent-%COMP%]{width:200px}.w250[_ngcontent-%COMP%]{width:250px}.lbl[_ngcontent-%COMP%]{display:inline-block;margin-left:2px;margin-right:2px;font-size:small;vertical-align:top;word-wrap:break-word;font-weight:700}.stdd[_ngcontent-%COMP%]{display:inline-block;margin-left:2px;margin-right:2px;font-size:small;vertical-align:top;word-wrap:break-word}"]})}return o})();class ${constructor(){this.id=0,this.gender="M",this.firstName="",this.secondName="",this.familyName="",this.knownAs="",this.employer="",this.displayName="",this.address="",this.address2="",this.city="",this.email="",this.phoneNo="",this.phone2="",this.dateOfBirth=new Date,this.dateOfJoining=new Date,this.placeOfBirth="",this.department="",this.aadharNo="",this.introduction="",this.position="",this.appUserId=0,this.qualification="",this.userName="",this.status="",this.hrSkills=[],this.employeeOtherSkills=[],this.employeeAttachments=[]}}var E=d(101);let J=(()=>{class o{constructor(t){this.bsModalService=t,this.title="",this.updateEvent=new e.vpe}UpdateClicked(){""!==this.Category?.professionName&&(this.updateEvent.emit(this.Category),this.bsModalService.hide())}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(u.tT))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-category-edit-modal"]],outputs:{updateEvent:"updateEvent"},decls:12,vars:3,consts:[[1,"modal-header"],[1,"btn","fa","fa-save","fa-2x",3,"click"],[1,"bfn","fa","fa-window-close","fa-2x",3,"click"],[1,"modal-body"],[2,"display","inline-block","width","150px"],["type","text",2,"display","inline-block","width","300px",3,"ngModel","ngModelChange"],[1,"modal-footer"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.TgZ(2,"button",1),e.NdJ("click",function(){return n.UpdateClicked()}),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.bsModalService.hide()}),e.qZA()(),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Category Name:"),e.qZA(),e.TgZ(7,"input",5),e.NdJ("ngModelChange",function(l){return n.Category.professionName=l}),e.qZA(),e.TgZ(8,"label",4),e._uU(9,"Category Group:"),e.qZA(),e.TgZ(10,"input",5),e.NdJ("ngModelChange",function(l){return n.Category.professionGroup=l}),e.qZA()(),e._UZ(11,"div",6)),2&i&&(e.xp6(1),e.hij(" Edit a ",n.title," "),e.xp6(6),e.Q6J("ngModel",n.Category.professionName),e.xp6(3),e.Q6J("ngModel",n.Category.professionGroup))},dependencies:[r.Fj,r.JJ,r.On]})}return o})();var O=d(9397),te=d(9537);const ie=["search"];function ne(o,g){1&o&&(e.TgZ(0,"div"),e._uU(1,"No Qualifications on record"),e.qZA())}function se(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e._uU(2),e.qZA(),e.TgZ(3,"div",17),e._uU(4),e.qZA(),e.TgZ(5,"button",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.editQualification(s.id,s.qualificationName))}),e.qZA(),e.TgZ(6,"button",19),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteQualification(s.id))}),e.qZA()()}if(2&o){const t=g.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.qualificationName)}}let oe=(()=>{class o{constructor(t,i,n,s){this.service=t,this.modalService=i,this.toastr=n,this.confirm=s,this.title="",this.pParams=new E._,this.i=1,this.qualifications=[]}ngOnInit(){this.loadData()}loadData(){this.service.getQualificationList().subscribe({next:t=>{null!=t&&(this.qualifications=t)},error:t=>this.toastr.error(t,"Error encountered")})}addQualification(){this.editQualification(0,"")}editQualification(t,i){this.bsModalRef=this.modalService.show(J,{class:"modal-dialog-centered modal-md",initialState:{category:{id:t,professionName:i},title:"Qualification"}}),this.bsModalRef.content.updateEvent.subscribe({next:l=>{l&&this.service.updateQualification(l.id,l.professionName).subscribe({next:_=>{_&&this.toastr.success("Qualification updated","success")},error:_=>this.toastr.error(_,"Error")})}})}onSearch(){var t=this.searchTerm?.nativeElement.value;this.qualifications.filter(i=>i.qualificationName==t)}onReset(){}deleteQualification(t){this.confirm.confirm("confirm delete this Qualification","confirm delete").pipe((0,C.w)(i=>this.service.deleteQualification(t).pipe((0,h.K)(n=>(console.log("Error in deleting the Qualification",n),(0,f.of)())),(0,O.b)(n=>this.toastr.success("deleted Qualification")))),(0,h.K)(i=>(this.toastr.error("Error in getting delete confirmation",i),(0,f.of)()))).subscribe(()=>{console.log("delete succeeded"),this.toastr.success("order deleted")},i=>{console.log("any error NOT handed in catchError() or if throwError() is returned instead of of() inside catcherror()",i)})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(te.h),e.Y36(u.tT),e.Y36(c._W),e.Y36(p.z))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-qualifications"]],viewQuery:function(i,n){if(1&i&&e.Gf(ie,5),2&i){let s;e.iGM(s=e.CRH())&&(n.searchTerm=s.first)}},decls:18,vars:2,consts:[[2,"display","inline-block","margin-left","15px","vertical-align","top"],[2,"display","inline-block","width","200px"],["type","text","placeholder","Search",1,"stdd","fa-solid","w200",3,"keyup.enter"],["search",""],["title","searches the database based upon criteria entered in the search box",1,"btn","btn","fa","fa-search","fa-2x",2,"color","aliceblue",3,"click"],["title","Resets the search criteria",1,"btn","fa","fa-refresh","fa-2x",2,"color","aliceblue",3,"click"],["title","Add a new Order","routerLink","/orders/add",1,"btn","fa","fa-plus","fa-2x",2,"color","aliceblue"],["routerLink","/administration",1,"stdd","btn","fa","fa-window-close","fa-2x"],[1,"container",2,"margin-left","50px"],[1,"form-inline"],[1,"stdd","w50","b"],[1,"stdd","w200","b"],[1,"btn","fa","fa-plus","fa-2x",3,"click"],[4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"stdd","w50",2,"text-align","right"],[1,"stdd","w200"],[1,"stdd","w15","btn","fa","fa-pencil","fa-2x","mx-2",2,"color","aliceblue",3,"click"],[1,"stdd","w15","btn","fa","fa-trash","red","fa-2x","mx-2",2,"color","aliceblue",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Qualification Listing"),e.qZA(),e.TgZ(3,"input",2,3),e.NdJ("keyup.enter",function(){return n.onSearch()}),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.onSearch()}),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.onReset()}),e.qZA(),e._UZ(7,"button",6)(8,"button",7),e.qZA(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._uU(12,"Id"),e.qZA(),e.TgZ(13,"div",11),e._uU(14,"Qualification Name"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return n.addQualification()}),e.qZA()(),e.YNc(16,ne,2,0,"div",13),e.YNc(17,se,7,2,"div",14),e.qZA()),2&i&&(e.xp6(16),e.Q6J("ngIf",!n.qualifications),e.xp6(1),e.Q6J("ngForOf",n.qualifications))},dependencies:[a.sg,a.O5,w.rH],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;margin:0 2px}.b[_ngcontent-%COMP%]{font-weight:700}.w15[_ngcontent-%COMP%]{width:15px}.w50[_ngcontent-%COMP%]{width:25px}.w150[_ngcontent-%COMP%]{width:150px}.w200[_ngcontent-%COMP%]{width:200px}"]})}return o})();class re{constructor(){this.id=0,this.professionName="",this.professionGroup=""}}var S=d(7328),q=d(7398),F=d(5516);class D{constructor(){this.professionId=0,this.professionName="",this.sort="name",this.pageNumber=1,this.pageSize=10,this.search=""}}var N=d(1436),L=d(9862);let B=(()=>{class o{constructor(t,i){this.http=t,this.toastr=i,this.apiUrl=F.N.apiUrl,this.currentUserSource=new S.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.qParams=new D,this.qs=[],this.routeId="",this.cache=new Map,this.customQs=[],this.customParams=new D,this.cacheCustom=new Map}getQs(t){const i=this.cache.get(Object.values(t).join("-"));if(i)return(0,f.of)(i);let n=(0,N.I)(t);return this.http.get(this.apiUrl+"assessmentqbank/qbank",{params:n}).pipe((0,q.U)(s=>(this.cache.set(Object.values(t).join("-"),s),this.qs=s,s)))}getQBankPaginated(){const t=this.cacheCustom.get(Object.values(this.customParams).join("-"));if(t)return(0,f.of)(t);let i=(0,N.I)(this.customParams);return(0,N.Tr)(this.apiUrl+"AssessmentQBank/qBankPaged",i,this.http).pipe((0,q.U)(n=>(this.cacheCustom.set(Object.values(this.customParams).join("-"),n),n)))}setCustomParams(t){this.customParams=t}getCustomParams(){return this.customParams}setQParams(t){this.qParams=t}getQParams(){return this.qParams}getQ(t){var i=0;let n;return 0===t?this.http.get(this.apiUrl+"assessmentqbank/byid/"+t):(this.cache.forEach(s=>{n=s.find(l=>l.professionId===t),i++}),console.log("total attempts",i),n?(0,f.of)(n):this.http.get(this.apiUrl+"assessmentqbank/byid/"+t))}getQBankOfCategoryId(t){return this.http.get(this.apiUrl+"AssessmentQBank/questionsFromQBank/"+t)}update(t){return console.log("QBank service:",t),this.http.put(this.apiUrl+"assessmentqbank/assessmentBank",t)}insert(t){return this.http.post(this.apiUrl+"assessmentqbank/assessmentBank",t)}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(L.eN),e.LFG(c._W))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function ae(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",14),e._UZ(2,"app-text-input",15)(3,"app-text-input",16)(4,"app-text-input",17)(5,"input",18),e.TgZ(6,"app-text-input",19),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calcualteTotals())}),e.qZA(),e.TgZ(7,"button",20),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.removeQ(s))}),e.qZA()()()}if(2&o){const t=g.index;e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("label","Question No"),e.xp6(1),e.Q6J("label","Subject"),e.xp6(1),e.Q6J("label","Question"),e.xp6(2),e.Q6J("label","Max Points")}}let le=(()=>{class o{constructor(t,i,n,s,l){this.fb=t,this.confirm=i,this.bsModalService=n,this.service=s,this.toastr=l,this.form=new r.cw({}),this.cancelRegister=new e.vpe,this.updateEvent=new e.vpe,this.totalMarks=0}ngOnInit(){this.assessment&&(this.CreateAndInitializeFormArray(this.assessment),this.calcualteTotals())}CreateAndInitializeFormArray(t){t&&(this.form=this.fb.group({id:[t.id??0],professionId:[t.professionId,r.kI.required],professionName:[t.professionName,r.kI.required],assessmentBankQs:this.fb.array(t.assessmentBankQs.map(i=>this.fb.group({id:[i.id??0],assessmentBankId:i.assessmentBankId,assessmentParameter:[i.assessmentParameter,r.kI.required],qNo:[i.qNo,[r.kI.required,r.kI.min(1),r.kI.max(25)]],isStandardQ:[i.isStandardQ],isMandatory:[i.isMandatory,r.kI.required],question:[i.question,r.kI.required],maxPoints:[i.maxPoints,r.kI.required]})))}))}get assessmentBankQs(){return this.form.get("assessmentBankQs")}newQ(){var t=0===this.assessmentBankQs.length?1:Math.max(...this.assessmentBankQs.value.map(i=>i.qNo))+1;return this.fb.group({id:0,assessmentBankId:this.form.get("id"),assessmentParameter:["",r.kI.required],qNo:[t,r.kI.required],subject:["",r.kI.required],question:["",r.kI.required],maxPoints:[0,r.kI.required],isMandatory:[!1,r.kI.required]})}addQ(){this.assessmentBankQs.push(this.newQ())}removeQ(t){this.assessmentBankQs.removeAt(t)}cancel(){this.cancelRegister.emit(!1),this.bsModalService.hide()}updateQ(){this.service.update(this.form.value).subscribe({next:t=>{t?(this.updateEvent.emit(!0),this.toastr.success("Order Assessment Item successfully updated","success"),this.bsModalService.hide()):this.toastr.warning("failed to update the order assessment item","Failed to update")}})}calcualteTotals(){this.totalMarks=this.form.get("assessmentBankQs")?.value.map(t=>t.maxPoints).reduce((t,i)=>+t+ +i)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(r.qu),e.Y36(p.z),e.Y36(u.tT),e.Y36(B),e.Y36(c._W))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-category-qbank-modal"]],outputs:{cancelRegister:"cancelRegister",updateEvent:"updateEvent"},decls:29,vars:4,consts:[[1,"modal-header"],[1,"btn","btn-success","fa","fa-save",2,"color","aliceblue","margin-left","50px",3,"click"],[1,"btn","fa","fa-window-close","fa-2x","pull-right",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"lbl","w50"],[1,"lbl","w200"],[1,"lbl","w350"],[1,"lblChk"],["type","button",1,"btn","fa","fa-plus","blue",2,"margin-left","10px",3,"click"],["formArrayName","assessmentBankQs"],[4,"ngFor","ngForOf"],[2,"display","inline-block","margin-left","610px","font-size","smaller","font-weight","bold"],[2,"width","50px","display","inline-block","border-style","solid","margin-left","10px","font-weight","bold","font-size","smaller","text-align","right"],[3,"formGroupName"],["formControlName","qNo",1,"stdd","w50",3,"label"],["formControlName","assessmentParameter",1,"stdd","w200",3,"label"],["formControlName","question",1,"stdd","w350",3,"label"],["type","checkbox","formControlName","isMandatory",1,"inputCheck"],["formControlName","maxPoints",1,"stdd","w50",3,"label","change"],["title","remove this item",1,"btn","fa","fa-trash","red",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return n.updateQ()}),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return n.bsModalService.hide()}),e.qZA()(),e.TgZ(5,"div",3)(6,"form",4)(7,"label",5),e._uU(8,"Q No:"),e.qZA(),e.TgZ(9,"label",6),e._uU(10,"Subject:"),e.qZA(),e.TgZ(11,"label",7),e._uU(12,"Question:"),e.qZA(),e.TgZ(13,"label",8),e._uU(14,"Manda"),e._UZ(15,"br"),e._uU(16,"tory:"),e.qZA(),e.TgZ(17,"label",5),e._uU(18,"Max"),e._UZ(19,"br"),e._uU(20,"Points"),e.qZA(),e.TgZ(21,"button",9),e.NdJ("click",function(){return n.addQ()}),e.qZA(),e.TgZ(22,"div",10),e.YNc(23,ae,8,5,"div",11),e._UZ(24,"br"),e.TgZ(25,"label",12),e._uU(26,"Total"),e.qZA(),e.TgZ(27,"div",13),e._uU(28),e.qZA()()()()),2&i&&(e.xp6(2),e.hij("Custom Assessment Questions for ",null==n.assessment?null:n.assessment.professionName,""),e.xp6(4),e.Q6J("formGroup",n.form),e.xp6(17),e.Q6J("ngForOf",null==n.assessmentBankQs?null:n.assessmentBankQs.controls),e.xp6(5),e.Oqu(n.totalMarks))},dependencies:[a.sg,r._Y,r.Wl,r.JJ,r.JL,r.sg,r.u,r.x0,r.CE,U.t],styles:[".lbl[_ngcontent-%COMP%]{font-size:smaller;margin:0 2px;font-weight:700;vertical-align:middle}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;margin:0 2px}.lblChk[_ngcontent-%COMP%]{display:inline-block;font-size:x-small;margin:0 2px;width:30px;vertical-align:middle}.w15[_ngcontent-%COMP%]{width:15px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w200[_ngcontent-%COMP%]{width:200px}.w350[_ngcontent-%COMP%]{width:350px}.inputCheck[_ngcontent-%COMP%]{display:inline-block;margin:0 8px;width:15px;border:2px;border-color:#000}"]})}return o})();var de=d(70);const ce=["search"];function pe(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"pagination",14),e.NdJ("pageChanged",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onPageChanged(n))}),e._uU(1," >"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("totalItems",t.pagination.totalItems)("itemsPerPage",t.pagination.itemsPerPage)("maxSize",10)}}function ue(o,g){1&o&&(e.TgZ(0,"div"),e._uU(1,"No Categories on record"),e.qZA())}function me(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e._uU(2),e.qZA(),e.TgZ(3,"div",17),e._uU(4),e.qZA(),e.TgZ(5,"div",17),e._uU(6),e.qZA(),e.TgZ(7,"button",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.editCategory(s))}),e.qZA(),e.TgZ(8,"button",19),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.customAssessmentQs(s.id))}),e.qZA(),e.TgZ(9,"button",20),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteCategory(s.id))}),e.qZA()()}if(2&o){const t=g.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.professionName),e.xp6(2),e.Oqu(t.professionGroup)}}let he=(()=>{class o{constructor(t,i,n,s,l){this.service=t,this.qBkService=i,this.modalService=n,this.toastr=s,this.confirm=l,this.title="",this.pParams=new E._,this.i=1,this.categories=[],this.totalCount=0}ngOnInit(){this.loadData()}loadData(){this.service.setParams(this.pParams),this.service.getCategoriesPaged(this.pParams).subscribe({next:t=>{null!=t&&(this.categories=t.result,this.totalCount=t.count,this.pagination=t.pagination),console.log("categories response:",t)},error:t=>this.toastr.error(t,"Error encountered")})}setParameters(){var t=new E._;this.service.setParams(t),this.loadData()}addCategory(){this.editCategory(new re)}editCategory(t){this.bsModalRef=this.modalService.show(J,{class:"modal-dialog-centered modal-md",initialState:{Category:t,title:"Category"}}),this.bsModalRef.content.updateEvent.pipe((0,y.h)(l=>void 0!==l),(0,C.w)(l=>this.service.updateCategory(l))).subscribe(l=>{if(console.log("profession update:",l),null!==l||!0===l){if(0===t.id)this.categories.push(l);else{var _=this.categories.findIndex(k=>k.id===t.id);-1!==_&&(this.categories[_]=t)}this.toastr.success("Success",0===t.id?"Inserted":"Updated")}})}onSearch(){const t=new E._;t.search=this.searchTerm?.nativeElement.value,t.pageNumber=1,this.pParams=t,this.service.setParams(t),this.loadData()}onReset(){this.searchTerm.nativeElement.value="",this.pParams=new E._,this.service.setParams(this.pParams),this.loadData()}onPageChanged(t){const i=this.service.getParams()??new E._;i.pageNumber!==t.page&&(i.pageNumber=t.page,this.service.setParams(i),this.loadData())}deleteCategory(t){this.confirm.confirm("confirm delete this Category","confirm delete").pipe((0,C.w)(i=>this.service.deleteCategory(t).pipe((0,h.K)(n=>(console.log("Error in deleting the Categoory",n),(0,f.of)())),(0,O.b)(n=>this.toastr.success("deleted Category")))),(0,h.K)(i=>(this.toastr.error("Error in getting delete confirmation",i),(0,f.of)()))).subscribe(()=>{console.log("delete succeeded"),this.toastr.success("order deleted")},i=>{console.log("any error NOT handed in catchError() or if throwError() is returned instead of of() inside catcherror()",i)})}customAssessmentQs(t){this.qBkService.getQBankOfCategoryId(t).pipe((0,y.h)(n=>null!==n),(0,C.w)(n=>(this.bsModalRef=this.modalService.show(le,{class:"modal-dialog-centered modal-lg",initialState:{assessment:n,user:this.user}}),this.bsModalRef.content.updateEvent))).subscribe(n=>{n?this.toastr.success("Viewed/updated the Custom Assessment Parameters for the category","Success"):this.toastr.warning("Failed to view/update the Custom Assessment Parameters","Failed")})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(de.H),e.Y36(B),e.Y36(u.tT),e.Y36(c._W),e.Y36(p.z))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-categories"]],viewQuery:function(i,n){if(1&i&&e.Gf(ce,5),2&i){let s;e.iGM(s=e.CRH())&&(n.searchTerm=s.first)}},decls:21,vars:3,consts:[[1,"w200"],[2,"display","inline-block","margin-left","15px","vertical-align","top"],["class","stdd","previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"totalItems","itemsPerPage","maxSize","pageChanged",4,"ngIf"],["type","text","placeholder","Search",1,"stdd","fa-solid","w200",3,"keyup.enter"],["search",""],["title","searches the database based upon criteria entered in the search box",1,"btn","btn","fa","fa-search","fa-2x",2,"color","aliceblue",3,"click"],["title","Resets the search criteria",1,"btn","fa","fa-refresh","fa-2x",2,"color","aliceblue",3,"click"],["title","Add a new Category",1,"btn","fa","fa-plus","fa-2x",3,"click"],["routerLink","/",1,"btn","fa","fa-window-close","fa-2x",2,"color","aliceblue"],[1,"container","my-2"],[1,"stdd","w50","b"],[1,"stdd","w250","b"],[4,"ngIf"],["class","row",4,"ngFor","ngForOf"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",1,"stdd",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[1,"row"],[1,"stdd","w50",2,"text-align","right"],[1,"stdd","w250"],[1,"stdd","w15","btn","fa","fa-pencil",3,"click"],[1,"stdd","w15","btn","fa","fa-list",3,"click"],[1,"stdd","w15","btn","fa","fa-trash","red",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"h4",0),e._uU(1,"Category Listing"),e.qZA(),e.TgZ(2,"div",1),e.YNc(3,pe,2,3,"pagination",2),e.TgZ(4,"input",3,4),e.NdJ("keyup.enter",function(){return n.onSearch()}),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.onSearch()}),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return n.onReset()}),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return n.addCategory()}),e.qZA(),e._UZ(9,"button",8),e.qZA(),e.TgZ(10,"div",9)(11,"div",10),e._uU(12,"Category"),e._UZ(13,"br"),e._uU(14,"Id"),e.qZA(),e.TgZ(15,"div",11),e._uU(16,"Category Name"),e.qZA(),e.TgZ(17,"div",11),e._uU(18,"Category Domain"),e.qZA(),e.YNc(19,ue,2,0,"div",12),e.YNc(20,me,10,3,"div",13),e.qZA()),2&i&&(e.xp6(3),e.Q6J("ngIf",n.pagination),e.xp6(16),e.Q6J("ngIf",!n.categories),e.xp6(1),e.Q6J("ngForOf",n.categories))},dependencies:[a.sg,a.O5,I.Qt,w.rH],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block!important;margin:0 2px;font-size:small}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.btn[_ngcontent-%COMP%]{color:#f0f8ff}.w15[_ngcontent-%COMP%]{width:15px}.w50[_ngcontent-%COMP%]{width:50px}.w250[_ngcontent-%COMP%]{width:250px}.w150[_ngcontent-%COMP%]{width:150px}"]})}return o})();class fe{constructor(){this.id=0,this.industryName="",this.industryGroup="",this.industryClass=""}}class M{constructor(){this.id=0,this.industryName="",this.industryGroup="",this.industryClass="",this.search="",this.pageNumber=1,this.pageSize=10}}function ge(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"label",6),e._uU(2),e.qZA(),e.TgZ(3,"input",7),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.industry.industryName=n)}),e.qZA(),e.TgZ(4,"label",6),e._uU(5),e.qZA(),e.TgZ(6,"input",7),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.industry.industryGroup=n)}),e.qZA(),e.TgZ(7,"label",6),e._uU(8),e.qZA(),e.TgZ(9,"input",7),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.industry.industryClass=n)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.hij("Enter value for the ",t.title,":"),e.xp6(1),e.Q6J("ngModel",t.industry.industryName),e.xp6(2),e.hij("Enter Industry Group for the ",t.title,":"),e.xp6(1),e.Q6J("ngModel",t.industry.industryGroup),e.xp6(2),e.hij("Enter Industry Class for the ",t.title,":"),e.xp6(1),e.Q6J("ngModel",t.industry.industryClass)}}let _e=(()=>{class o{constructor(t){this.bsModalService=t,this.title="",this.updateEvent=new e.vpe}UpdateClicked(){""!==this.industry?.industryGroup&&(this.updateEvent.emit(this.industry),this.bsModalService.hide())}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(u.tT))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-industry-edit-modal"]],outputs:{updateEvent:"updateEvent"},decls:6,vars:2,consts:[[1,"modal-header"],[1,"btn","fa","fa-save","fa-2x",3,"click"],[1,"bfn","fa","fa-window-close","fa-2x",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"modal-body"],[2,"display","inline-block","width","150px"],["type","text",2,"display","inline-block","width","200px",3,"ngModel","ngModelChange"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.TgZ(2,"button",1),e.NdJ("click",function(){return n.UpdateClicked()}),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.bsModalService.hide()}),e.qZA()(),e.YNc(4,ge,10,6,"div",3),e._UZ(5,"div",4)),2&i&&(e.xp6(1),e.hij(" Edit a ",n.title," "),e.xp6(3),e.Q6J("ngIf",n.industry))},dependencies:[a.O5,r.Fj,r.JJ,r.On]})}return o})(),be=(()=>{class o{constructor(t){this.http=t,this.apiUrl=F.N.apiUrl,this.currentUserSource=new S.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.mParams=new M,this.cache=new Map}getIndustryPaged(t){const i=this.cache.get(Object.values(t).join("-"));if(i)return(0,f.of)(i);let n=(0,N.gV)(t);return(0,N.Tr)(this.apiUrl+"Industries/industryPaged",n,this.http).pipe((0,q.U)(s=>(this.cache.set(Object.values(t).join("-"),s),s)))}getIndustry(t){return this.http.get(this.apiUrl+"Industries/industrybyid/"+t)}getIndustryList(){return this.http.get(this.apiUrl+"Industries/industrylist")}deleteIndustry(t){return this.http.delete(this.apiUrl+"Industries/deletebyid/"+t)}updateIndustry(t){return 0===t.id?this.http.post(this.apiUrl+"Industries/add",t):this.http.put(this.apiUrl+"Industries/edit",t)}setParams(t){this.mParams=t}getParams(){return this.mParams}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(L.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const ve=["search"];function ye(o,g){1&o&&(e.TgZ(0,"div"),e._uU(1,"No Industry Types on record"),e.qZA())}function Ce(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15),e._uU(2),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.TgZ(5,"div",16),e._uU(6),e.qZA(),e.TgZ(7,"div",16),e._uU(8),e.qZA(),e.TgZ(9,"button",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.editIndustry(s))}),e.qZA(),e.TgZ(10,"button",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteIndustry(s.id))}),e.qZA()()}if(2&o){const t=g.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.industryName),e.xp6(2),e.Oqu(t.industryGroup),e.xp6(2),e.Oqu(t.industryClass)}}let xe=(()=>{class o{constructor(t,i,n,s){this.service=t,this.modalService=i,this.toastr=n,this.confirm=s,this.title="",this.pParams=new M,this.i=1,this.industries=[],this.totalCount=0}ngOnInit(){this.loadData()}loadData(){var t=this.service.getParams();this.service.getIndustryPaged(t).subscribe({next:i=>{null!=i&&(this.industries=i.result,this.totalCount=i.count,this.pagination=i.pagination,console.log("industries response",i))},error:i=>this.toastr.error(i,"Error encountered")})}setParameters(){var t=new M;this.service.setParams(t),this.loadData()}addIndustry(){this.editIndustry(new fe)}editIndustry(t){this.bsModalRef=this.modalService.show(_e,{class:"modal-dialog-centered modal-md",initialState:{industry:t,title:"Industry"}}),this.bsModalRef.content.updateEvent.pipe((0,y.h)(l=>void 0!==l),(0,C.w)(l=>this.service.updateIndustry(l))).subscribe(l=>{if(null!==l){if(0===t.id)this.industries.push(l);else{var _=this.industries.findIndex(k=>k.id===t.id);-1!==_&&this.industries.splice(_,1,l)}this.toastr.success("Success",0===t.id?"Inserted":"Updated")}})}onSearch(){const t=this.service.getParams();t.search=this.searchTerm?.nativeElement.value,t.pageNumber=1,this.service.setParams(t),this.loadData()}onReset(){this.searchTerm.nativeElement.value="",this.pParams=new M,this.service.setParams(this.pParams),this.loadData()}onPageChanged(t){const i=this.service.getParams()??new M;i.pageNumber!==t.page&&(i.pageNumber=t.page,this.service.setParams(i),this.loadData())}deleteIndustry(t){this.confirm.confirm("confirm delete this Category","confirm delete").pipe((0,C.w)(i=>this.service.deleteIndustry(t).pipe((0,h.K)(n=>(console.log("Error in deleting the Categoory",n),(0,f.of)())),(0,O.b)(n=>this.toastr.success("deleted Category")))),(0,h.K)(i=>(this.toastr.error("Error in getting delete confirmation",i),(0,f.of)()))).subscribe(()=>{console.log("delete succeeded"),this.toastr.success("order deleted")},i=>{console.log("any error NOT handed in catchError() or if throwError() is returned instead of of() inside catcherror()",i)})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(be),e.Y36(u.tT),e.Y36(c._W),e.Y36(p.z))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-industries"]],viewQuery:function(i,n){if(1&i&&e.Gf(ve,5),2&i){let s;e.iGM(s=e.CRH())&&(n.searchTerm=s.first)}},decls:22,vars:5,consts:[[1,"w200"],[2,"display","inline-block","margin-left","15px","vertical-align","top"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",1,"stdd",3,"totalItems","itemsPerPage","maxSize","pageChanged"],["type","text","placeholder","Search",1,"stdd","fa-solid","w200",3,"keyup.enter"],["search",""],["title","searches the database based upon criteria entered in the search box",1,"stdd","btn","btn","fa","fa-search","fa-2x",3,"click"],["title","Resets the search criteria",1,"stdd","btn","fa","fa-refresh","fa-2x",3,"click"],["title","Add a new Category",1,"stdd","btn","fa","fa-plus","fa-2x",3,"click"],["routerLink","/",1,"stdd","btn","fa","fa-window-close","fa-2x"],[1,"container","my-2"],[1,"stdd","w50","b"],[1,"stdd","w200","b"],[4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"stdd","w50",2,"text-align","right"],[1,"stdd","w200"],[1,"stdd","btn","w15","fa","fa-pencil",2,"margin-left","15px",3,"click"],[1,"stdd","btn","w15","fa","fa-trash","red",2,"margin-left","5px",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"h4",0),e._uU(1,"Industry Type Listing"),e.qZA(),e.TgZ(2,"div",1)(3,"pagination",2),e.NdJ("pageChanged",function(l){return n.onPageChanged(l)}),e._uU(4," >"),e.qZA(),e.TgZ(5,"input",3,4),e.NdJ("keyup.enter",function(){return n.onSearch()}),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return n.onSearch()}),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.onReset()}),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return n.addIndustry()}),e.qZA(),e._UZ(10,"button",8),e.qZA(),e.TgZ(11,"div",9)(12,"div",10),e._uU(13,"Id"),e.qZA(),e.TgZ(14,"div",11),e._uU(15,"Industry Type Name"),e.qZA(),e.TgZ(16,"div",11),e._uU(17,"Industry Domain"),e.qZA(),e.TgZ(18,"div",11),e._uU(19,"Industry Class"),e.qZA(),e.YNc(20,ye,2,0,"div",12),e.YNc(21,Ce,11,4,"div",13),e.qZA()),2&i&&(e.xp6(3),e.Q6J("totalItems",n.pagination.totalItems)("itemsPerPage",n.pagination.itemsPerPage)("maxSize",10),e.xp6(17),e.Q6J("ngIf",!n.industries),e.xp6(1),e.Q6J("ngForOf",n.industries))},dependencies:[a.sg,a.O5,I.Qt,w.rH],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:smaller}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.w15[_ngcontent-%COMP%]{width:15px}.w50[_ngcontent-%COMP%]{width:50px}.w200[_ngcontent-%COMP%]{width:200px}.w150[_ngcontent-%COMP%]{width:150px}.btn[_ngcontent-%COMP%]{color:#f0f8ff}"]})}return o})();var Ze=d(3167),R=d(3593);function we(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",45)(2,"ng-select",46),e.NdJ("change",function(n){const l=e.CHM(t).index,_=e.oxw();return e.KtG(_.professionChanged(n,l))}),e.qZA(),e._UZ(3,"ng-select",47),e.TgZ(4,"button",48),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.removeHRSkill(s))}),e.qZA()()()}if(2&o){const t=g.index,i=e.oxw();e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("items",i.professions)("searchable",!0),e.xp6(1),e.Q6J("items",i.skillLevels)("searchable",!0)}}function ke(o,g){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",45)(2,"ng-select",49),e.NdJ("change",function(n){const l=e.CHM(t).index,_=e.oxw();return e.KtG(_.professionChanged(n,l))}),e.qZA(),e.TgZ(3,"ng-select",50),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.otherSkillChanged())}),e.qZA(),e.TgZ(4,"button",48),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.removeHRSkill(s))}),e.qZA()()()}if(2&o){const t=g.index,i=e.oxw();e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("items",i.skillDatas)("searchable",!0),e.xp6(1),e.Q6J("items",i.skillLevels)("searchable",!0)}}const Ae=function(){return{dateInputFormat:"YYYY-MM-DD"}},Ne=[{path:"employees",component:X},{path:"testEmpEdit/:id",component:(()=>{class o{constructor(t,i,n,s,l,_,k,Ie){this.toastr=t,this.service=i,this.activatedRoute=n,this.fb=s,this.confirm=l,this.router=_,this.memberService=k,this.downloadService=Ie,this.professions=[],this.industries=[],this.skillDatas=[],this.bsValueDate=new Date,this.bsValue=new Date,this.returnUrl="",this.lastTimeCalled=0,this.form=new r.cw({}),this.skillLevels=[{skillLevel:"Proficient"},{skillLevel:"Good"},{skillLevel:"Poor"},{skillLevel:"Unskilled"}],this.update=()=>{this.service.updateEmployee(this.form.value).subscribe({next:Q=>{Q?this.toastr.success("Employee created/updated","Employee successfully created"):this.toastr.error("failed to save the Employee data","Failed")},error:Q=>{this.toastr.error(Q.error.details,"failed to insert the employee")}})};let P=this.router.getCurrentNavigation();P?.extras&&P.extras.state&&(P.extras.state.returnUrl&&(this.returnUrl=P.extras.state.returnUrl),P.extras.state.user&&(this.user=P.extras.state.user))}ngOnInit(){this.activatedRoute.data.subscribe(t=>{this.employee=t.employee,this.skillDatas=t.skillDatas,this.professions=t.professions,void 0!==this.employee&&this.InitializeForm(this.employee)})}InitializeForm(t){this.form=this.fb.group({id:[t.id],gender:[t.gender],firstName:[t.firstName,r.kI.required],secondName:[t.secondName],familyName:[t.familyName,r.kI.required],knownAs:[t.knownAs,r.kI.required],displayName:[t.displayName],address:[t.address],address2:[t.address2],city:[t.city,r.kI.required],email:[t.email,r.kI.required],phoneNo:[t.phoneNo,[r.kI.required,r.kI.minLength(10)]],phone2:[t.phone2],dateOfBirth:[t.dateOfBirth],dateOfJoining:[t.dateOfJoining,r.kI.required],placeOfBirth:[t.placeOfBirth],department:[t.department,r.kI.required],aadharNo:[t.aadharNo,[r.kI.required,r.kI.minLength(12),r.kI.maxLength(12)]],introduction:[t.introduction],position:[t.position,r.kI.required],appUserId:[t.appUserId],qualification:[t.qualification],userName:[t.userName],employer:[t.employer??this.user?.employer],status:[t.status],hrSkills:this.fb.array(t.hrSkills.map(i=>this.fb.group({id:[i.id],employeeId:[i.employeeId,r.kI.required],professionId:[i.professionId,r.kI.required],professionName:[i.professionName],industryId:[i.industryId],skillLevelName:[i.skillLevelName,r.kI.required]}))),employeeOtherSkills:this.fb.array(t.employeeOtherSkills.map(i=>this.fb.group({id:[i.id],employeeId:[i.employeeId,r.kI.required],skillDataId:[i.skillDataId,r.kI.required],skillLevelName:[i.skillLevelName,r.kI.required],isMain:[i.isMain]})))})}get hrSkills(){return this.form.get("hrSkills")}newHRSkill(){return this.fb.group({id:0,employeeId:[this.employee?.id,r.kI.required],professionId:[0,r.kI.required],professionName:["",r.kI.required],industryId:[0],skillLevelName:["",r.kI.required]})}addHRSkill(){this.hrSkills.push(this.newHRSkill())}removeHRSkill(t){this.confirm.confirm("Confirm Delete","This will delete customer official.  To delete from the database as well, remember to SAVE this form before you close it").subscribe({next:i=>{i&&(this.hrSkills.removeAt(t),this.hrSkills.markAsDirty())}})}get employeeOtherSkills(){return this.form.get("employeeOtherSkills")}newEmployeeOtherSkill(){return this.fb.group({id:0,employeeId:[this.employee?.id,r.kI.required],skillDataId:[0,r.kI.required],skillLevel:[0,r.kI.required],isMain:[!1]})}addEmployeeOtherSkill(){this.employeeOtherSkills.push(this.newEmployeeOtherSkill())}removeEmployeeOtherSkill(t){this.employeeOtherSkills.removeAt(t),this.employeeOtherSkills.markAsDirty()}professionChanged(t,i){this.hrSkills.at(i).get("professionName")?.setValue(t.professionName)}generateAppUser(){this.memberService.createNewMember("Employee",this.employee.id).subscribe({next:t=>{""!==t.error&&null!==t.error?this.toastr.warning("Failed to create the app user - "+t.error,"Failure"):(this.toastr.success("App user retrieved/created","Succcess"),this.form.get("userName")?.setValue(t.username),this.form.get("appUserId")?.setValue(t.appUserId))},error:t=>this.toastr.error(t.error?.details,"Error encountered")})}otherSkillChanged(){this.form.markAsDirty()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(c._W),e.Y36(T.G),e.Y36(w.gz),e.Y36(r.qu),e.Y36(p.z),e.Y36(w.F0),e.Y36(Ze.n),e.Y36(m.I))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-emp-edit"]],decls:100,vars:26,consts:[[1,"stdd"],[1,"btn","btn-success","fa","fa-save",2,"margin-left","200px",3,"disabled","click"],["routerLink","/masters/employees",1,"btn","fa","fa-window-close","fa-2x"],[3,"formGroup"],[1,"lbl","w100"],["formControlName","firstName",1,"stdd","w150",3,"label"],[1,"lbl","w100","hAlignR"],["formControlName","secondName",1,"stdd","w150",3,"label"],["formControlName","familyName",1,"stdd","w150",3,"label"],[1,"lbl","w100","fSmall"],["formControlName","knownAs",1,"stdd","w150",3,"label"],["formControlName","Employer",1,"stdd","w150",3,"label"],["type","text","placeholder","Joined On","formControlName","dateOfJoining","bsDatepicker","",1,"stdd","w100",3,"bsValue","bsConfig"],["formControlName","department",1,"stdd","w100",3,"label"],["formControlName","position",1,"stdd","w200",3,"label"],["formControlName","address",1,"stdd","w250",3,"label"],["formControlName","address2",1,"stdd","w250","ml-5",3,"label"],[1,"lbl","w50","hAlignR"],["formControlName","city",1,"stdd","w100","fSmall",3,"label"],["formControlName","email",1,"stdd","w250",3,"label"],["formControlName","phoneNo",1,"stdd","w125",3,"label"],[1,"lbl","w50","fSmall"],["formControlName","phone2",1,"stdd","w125",3,"label"],["formControlName","aadharNo",1,"stdd","w125",3,"label"],[1,"col-5",2,"display","inline-block","vertical-align","top","border","blanchedalmond"],[2,"display","inline-block","vertical-align","top","width","100px"],["name","intro","id","intro","rows","2","cols","60","formControlName","introduction",2,"display","inline-block","margin-left","10px"],[1,"col-5",2,"display","inline-block","vertical-align","top"],["formControlName","qualification",1,"stdd","w150",3,"label"],[1,"lbl","w50"],["formControlName","status",1,"stdd","w100",3,"label"],[1,"stdd","w50"],[1,"lbl","w75"],[1,"stdd","w150"],["title","click to generate new App User",1,"btn","fa","fa-user","stdd",3,"disabled","click"],[1,"col-xs-6",2,"display","inline-block","vertical-align","top"],[1,"main-container","mt-2"],[1,"container","my-0"],[1,"b","my-0"],[1,"fSmaller","w300",2,"margin-left","50px"],[1,"fSmaller","w100"],[1,"btn","fa","fa-plus",3,"click"],["formArrayName","hrSkills",2,"margin-left","50px"],[4,"ngFor","ngForOf"],["formArrayName","employeeOtherSkills",2,"margin-left","50px"],[3,"formGroupName"],["bindLabel","professionName","bindValue","id","formControlName","professionId",2,"display","inline-block","font-size","smaller","width","300px",3,"items","searchable","change"],["bindLabel","skillLevel","bindValue","skillLevel","formControlName","skillLevelName",2,"display","inline-block","font-size","smaller","width","150px",3,"items","searchable"],[1,"btn","fa","fa-trash","red",3,"click"],["bindLabel","skillName","bindValue","id","formControlName","skillDataId",2,"display","inline-block","font-size","smaller","width","300px",3,"items","searchable","change"],["bindLabel","skillLevel","bindValue","skillLevel","formControlName","skillLevelName",2,"display","inline-block","font-size","smaller","width","150px",3,"items","searchable","change"]],template:function(i,n){1&i&&(e.TgZ(0,"h6",0),e._uU(1,"Edit Employee"),e.qZA(),e.TgZ(2,"button",1),e.NdJ("click",function(){return n.update()}),e.qZA(),e._UZ(3,"button",2),e.TgZ(4,"form",3)(5,"label",4),e._uU(6,"First Name:"),e.qZA(),e._UZ(7,"app-text-input",5),e.TgZ(8,"label",6),e._uU(9,"Second Name:"),e.qZA(),e._UZ(10,"app-text-input",7),e.TgZ(11,"label",6),e._uU(12,"Family Name:"),e.qZA(),e._UZ(13,"app-text-input",8)(14,"br"),e.TgZ(15,"label",9),e._uU(16,"Known As:"),e.qZA(),e._UZ(17,"app-text-input",10)(18,"br"),e.TgZ(19,"label",9),e._uU(20,"Employer:"),e.qZA(),e._UZ(21,"app-text-input",11),e.TgZ(22,"label",6),e._uU(23,"Joined On:"),e.qZA(),e._UZ(24,"input",12),e.TgZ(25,"label",6),e._uU(26,"Department:"),e.qZA(),e._UZ(27,"app-text-input",13),e.TgZ(28,"label",6),e._uU(29,"Position:"),e.qZA(),e._UZ(30,"app-text-input",14)(31,"br"),e.TgZ(32,"label",4),e._uU(33,"Address:"),e.qZA(),e._UZ(34,"app-text-input",15)(35,"app-text-input",16),e.TgZ(36,"label",17),e._uU(37,"City:"),e.qZA(),e._UZ(38,"app-text-input",18)(39,"br"),e.TgZ(40,"label",9),e._uU(41,"email:"),e.qZA(),e._UZ(42,"app-text-input",19),e.TgZ(43,"label",4),e._uU(44,"Phone:"),e.qZA(),e._UZ(45,"app-text-input",20),e.TgZ(46,"label",21),e._uU(47,"Phone2:"),e.qZA(),e._UZ(48,"app-text-input",22),e.TgZ(49,"label",6),e._uU(50,"Aadhar No:"),e.qZA(),e._UZ(51,"app-text-input",23),e.TgZ(52,"div",24)(53,"label",25),e._uU(54,"Introduction:"),e.qZA(),e._UZ(55,"textarea",26),e.qZA(),e.TgZ(56,"div",27)(57,"label",4),e._uU(58,"Qualification:"),e.qZA(),e._UZ(59,"app-text-input",28),e.TgZ(60,"label",29),e._uU(61,"Status:"),e.qZA(),e._UZ(62,"app-text-input",30)(63,"br"),e.TgZ(64,"label",4),e._uU(65,"App User Id"),e.qZA(),e.TgZ(66,"div",31),e._uU(67),e.qZA(),e.TgZ(68,"label",32),e._uU(69,"Username"),e.qZA(),e.TgZ(70,"div",33),e._uU(71),e.qZA(),e.TgZ(72,"button",34),e.NdJ("click",function(){return n.generateAppUser()}),e.qZA()(),e._UZ(73,"br"),e.TgZ(74,"div",35)(75,"div",36)(76,"div",37)(77,"div",38),e._uU(78,"HR Skills"),e.qZA(),e._UZ(79,"br"),e.TgZ(80,"label",39),e._uU(81,"Profession"),e.qZA(),e.TgZ(82,"label",40),e._uU(83,"Skill Level"),e.qZA(),e.TgZ(84,"button",41),e.NdJ("click",function(){return n.addHRSkill()}),e.qZA(),e.TgZ(85,"div",42),e.YNc(86,we,5,5,"div",43),e.qZA()()()(),e.TgZ(87,"div",35)(88,"div",36)(89,"div",37)(90,"div",38),e._uU(91,"Other Skills"),e.qZA(),e._UZ(92,"br"),e.TgZ(93,"label",39),e._uU(94,"Skill"),e.qZA(),e.TgZ(95,"label",40),e._uU(96,"Skill Level"),e.qZA(),e.TgZ(97,"button",41),e.NdJ("click",function(){return n.addEmployeeOtherSkill()}),e.qZA(),e.TgZ(98,"div",44),e.YNc(99,ke,5,5,"div",43),e.qZA()()()()()),2&i&&(e.xp6(2),e.Q6J("disabled",!n.form.valid&&n.form.dirty),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("label","First Name"),e.xp6(3),e.Q6J("label","second Name"),e.xp6(3),e.Q6J("label","Family Name"),e.xp6(4),e.Q6J("label","Known As"),e.xp6(4),e.Q6J("label","Employer"),e.xp6(3),e.Q6J("bsValue",n.bsValueDate)("bsConfig",e.DdM(25,Ae)),e.xp6(3),e.Q6J("label","Dept"),e.xp6(3),e.Q6J("label","Position"),e.xp6(4),e.Q6J("label","Address"),e.xp6(1),e.Q6J("label","Address2"),e.xp6(3),e.Q6J("label","City"),e.xp6(4),e.Q6J("label","Email"),e.xp6(3),e.Q6J("label","Phone"),e.xp6(3),e.Q6J("label","Phone 2"),e.xp6(3),e.Q6J("label","Aadhar No"),e.xp6(8),e.Q6J("label","Address"),e.xp6(3),e.Q6J("label","Status"),e.xp6(5),e.Oqu(null==n.employee?null:n.employee.appUserId),e.xp6(4),e.Oqu(null==n.employee?null:n.employee.userName),e.xp6(1),e.Q6J("disabled",0!==(null==n.employee?null:n.employee.appUserId)||0===(null==n.employee?null:n.employee.id)),e.xp6(14),e.Q6J("ngForOf",n.hrSkills.controls),e.xp6(13),e.Q6J("ngForOf",n.employeeOtherSkills.controls))},dependencies:[a.sg,R.Np,R.Y5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,r.x0,r.CE,Z.w9,U.t,w.rH],styles:[".lbl[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:small;font-weight:700;vertical-align:middle;vertical-align:top}.stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:small;vertical-align:top}btn[_ngcontent-%COMP%]{color:#f0f8ff!important;width:25px}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.hAlignR[_ngcontent-%COMP%]{text-align:right}.stdd1px[_ngcontent-%COMP%]{display:inline-block;margin:0 1px;font-size:smaller}.w25[_ngcontent-%COMP%]{width:25px}.w50[_ngcontent-%COMP%]{width:50px}.w60[_ngcontent-%COMP%]{width:60px}.w70[_ngcontent-%COMP%]{width:70px}.w75[_ngcontent-%COMP%]{width:75px}.w80[_ngcontent-%COMP%]{width:80px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w175[_ngcontent-%COMP%]{width:175px}.w200[_ngcontent-%COMP%]{width:200px}.w250[_ngcontent-%COMP%]{width:250px}.w300[_ngcontent-%COMP%]{width:300px}.fSmall[_ngcontent-%COMP%]{font-size:small}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.btn[_ngcontent-%COMP%]{color:#f0f8ff}"]})}return o})(),resolve:{employee:o=>{var g=o.paramMap.get("id");return null===g||""===g||"0"===g?(0,f.of)(new $):(0,e.f3M)(T.G).getEmployeeById(+g)},professions:d(7208).h,skillDatas:o=>(0,e.f3M)(T.G).getSkillDatas()}},{path:"qualifications",component:oe},{path:"categories",component:he},{path:"industries",component:xe}];let Me=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[a.ez,w.Bz.forChild(Ne),w.Bz]})}return o})(),Ue=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[a.ez,v.m,Me,r.UX,r.u5]})}return o})()},7328:(A,x,d)=>{d.d(x,{t:()=>y});var a=d(8645),v=d(4552);class y extends a.x{constructor(h=1/0,f=1/0,b=v.l){super(),this._bufferSize=h,this._windowTime=f,this._timestampProvider=b,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=f===1/0,this._bufferSize=Math.max(1,h),this._windowTime=Math.max(1,f)}next(h){const{isStopped:f,_buffer:b,_infiniteTimeWindow:e,_timestampProvider:r,_windowTime:u}=this;f||(b.push(h),!e&&b.push(r.now()+u)),this._trimBuffer(),super.next(h)}_subscribe(h){this._throwIfClosed(),this._trimBuffer();const f=this._innerSubscribe(h),{_infiniteTimeWindow:b,_buffer:e}=this,r=e.slice();for(let u=0;u<r.length&&!h.closed;u+=b?1:2)h.next(r[u]);return this._checkFinalizedStatuses(h),f}_trimBuffer(){const{_bufferSize:h,_timestampProvider:f,_buffer:b,_infiniteTimeWindow:e}=this,r=(e?1:2)*h;if(h<1/0&&r<b.length&&b.splice(0,b.length-r),!e){const u=f.now();let p=0;for(let c=1;c<b.length&&b[c]<=u;c+=2)p=c;p&&b.splice(0,p+1)}}}}}]);