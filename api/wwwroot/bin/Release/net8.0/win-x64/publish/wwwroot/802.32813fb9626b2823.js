"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[802],{8050:(D,M,i)=>{i.d(M,{R:()=>n});class n{constructor(){this.fromDate=new Date,this.uptoDate=new Date,this.customerName="",this.employeeUsername="",this.orderNo=0,this.orderItemId=0,this.pageNumber=1,this.pageSize=20}}},7411:(D,M,i)=>{i.d(M,{z:()=>t});var n=i(5879),f=i(2051);let O=(()=>{class o{constructor(r){this.bsModalRef=r,this.title="",this.message="",this.btnOkText="",this.btnCancelText="",this.result=!1}confirm(){this.result=!0,this.bsModalRef.hide()}decline(){this.bsModalRef.hide()}static#t=this.\u0275fac=function(d){return new(d||o)(n.Y36(f.UZ))};static#e=this.\u0275cmp=n.Xpm({type:o,selectors:[["app-confirm-dialog"]],decls:11,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(d,c){1&d&&(n.TgZ(0,"div",0)(1,"h4",1),n._uU(2),n.qZA()(),n.TgZ(3,"div",2)(4,"p"),n._uU(5),n.qZA()(),n.TgZ(6,"div",3)(7,"button",4),n.NdJ("click",function(){return c.confirm()}),n._uU(8),n.qZA(),n.TgZ(9,"button",5),n.NdJ("click",function(){return c.decline()}),n._uU(10),n.qZA()()),2&d&&(n.xp6(2),n.Oqu(c.title),n.xp6(3),n.Oqu(c.message),n.xp6(3),n.Oqu(c.btnOkText),n.xp6(2),n.Oqu(c.btnCancelText))}})}return o})();var b=i(7398),l=i(5516),p=i(9862);let t=(()=>{class o{constructor(r,d){this.modalService=r,this.http=d,this.baseUrl=l.N.apiUrl}confirm(r="Confirmation",d="Are you sure you want to do this?",c="Ok",h="Cancel"){return this.bsModelRef=this.modalService.show(O,{initialState:{title:r,message:d,btnOkText:c,btnCancelText:h}}),this.bsModelRef.onHidden.pipe((0,b.U)(()=>this.bsModelRef.content.result))}getHelp(r){return this.http.get(this.baseUrl+"Help/help/"+r)}static#t=this.\u0275fac=function(d){return new(d||o)(n.LFG(f.tT),n.LFG(p.eN))};static#e=this.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},8252:(D,M,i)=>{i.d(M,{M:()=>d});var n=i(8050),f=i(9862),O=i(1436),b=i(5516),l=i(7328),p=i(2096),t=i(7398),o=i(5879),v=i(8763),r=i(7783);let d=(()=>{class h{constructor(a,u,e){this.http=a,this.toastr=u,this.accountService=e,this.apiUrl=b.N.apiUrl,this.currentUserSource=new l.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.cache=new Map,this.cacheHR=new Map,this.medParams=new n.R,e.currentUser$.subscribe({next:m=>this.user=m})}getPaginatedMedExecPerf(a){const u=this.cache.get(Object.values(a).join("-"));if(u)return(0,p.of)(u);var e=new f.LE;return e=(e=(e=(e=e.append("fromdate",c(a.fromDate))).append("uptodate",c(a.uptoDate))).append("pageNumber",a.pageNumber.toString())).append("pageSize",a.pageSize.toString()),(0,O.Tr)(this.apiUrl+"Quality/medicalObjectives",e,this.http).pipe((0,t.U)(m=>(this.cache.set(Object.values(e).join("-"),m),m)))}createOrderAssignmentTasks(a){return this.http.post(this.apiUrl+"Quality/assignToHRExecs",a)}getPaginatedHRPerf(a){const u=this.cacheHR.get(Object.values(a).join("-"));if(u)return(0,p.of)(u);var e=new f.LE;return e=(e=(e=(e=e.append("fromdate",c(a.fromDate))).append("uptodate",c(a.uptoDate))).append("pageNumber",a.pageNumber.toString())).append("pageSize",a.pageSize.toString()),(0,O.Tr)(this.apiUrl+"Quality/hrObjectives",e,this.http).pipe((0,t.U)(m=>(this.cacheHR.set(Object.values(e).join("-"),m),m)))}getPendingHRTasks(a){const u=this.cacheHR.get(Object.values(a).join("-"));if(u)return(0,p.of)(u);var e=new f.LE;return e=(e=e.append("pageNumber",a.pageNumber.toString())).append("pageSize",a.pageSize.toString()),(0,O.Tr)(this.apiUrl+"Quality/pendingHRObjectives",e,this.http).pipe((0,t.U)(m=>(this.cacheHR.set(Object.values(e).join("-"),m),m)))}initializeCacheHR(){this.cacheHR=new Map}setMedParams(a){this.medParams=a}getMedParams(){return this.medParams}static#t=this.\u0275fac=function(u){return new(u||h)(o.LFG(f.eN),o.LFG(v._W),o.LFG(r.B))};static#e=this.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})();function c(h){const a=new Date(+h),u=a.getFullYear(),e=a.getMonth()+1,m=a.getDate();return`${u}-${e.toString().padStart(2,"0")}-${m.toString().padStart(2,"0")}`}},4032:(D,M,i)=>{i.d(M,{$:()=>u});var n=i(2181),f=i(4664),O=i(8050),b=i(1436),l=i(1190),p=i(5676),t=i(5879),o=i(8252),v=i(8763),r=i(2051),d=i(6814),c=i(7012),h=i(7850);function P(e,m){if(1&e){const s=t.EpF();t.TgZ(0,"div",9)(1,"pagination",10),t.NdJ("pageChanged",function(_){t.CHM(s);const E=t.oxw();return t.KtG(E.onPageChanged(_))}),t._uU(2," >"),t.qZA()()}if(2&e){const s=t.oxw();t.xp6(1),t.Q6J("totalItems",s.pagination.totalItems)("itemsPerPage",s.pagination.itemsPerPage)("maxSize",10)}}function a(e,m){if(1&e&&(t.TgZ(0,"div")(1,"div",11),t._uU(2),t.qZA(),t.TgZ(3,"div",12),t._uU(4),t.qZA(),t.TgZ(5,"div",12),t._uU(6),t.qZA(),t.TgZ(7,"div",13),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"div",13),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"div",14),t._uU(14),t.qZA(),t.TgZ(15,"div",13),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"div",14),t._uU(19),t.qZA()()),2&e){const s=m.$implicit,g=t.oxw();t.xp6(2),t.Oqu(s.applicationNo),t.xp6(2),t.Oqu(s.candidateName),t.xp6(2),t.Oqu(s.customerName),t.xp6(2),t.Oqu(t.xi3(9,8,s.dateSelected,"dd-MMM-yy")),t.xp6(3),t.Oqu(t.xi3(12,11,s.refForMedicals,"dd-MMM-yy")),t.xp6(3),t.Oqu(g.WorkingDays(s.dateSelected,s.refForMedicals)),t.xp6(2),t.Oqu(t.xi3(17,14,s.medicalResult,"dd-MMM-yy")),t.xp6(3),t.Oqu(g.WorkingDays(s.refForMedicals,s.medicalResult))}}let u=(()=>{class e{constructor(s,g,_){this.service=s,this.toastr=g,this.modalService=_,this.objs=[],this.mParams=new O.R,this.totalCount=0,this.workingDays=0,this.fromDate=new Date,this.uptoDate=new Date,this.bsValueDate=new Date,this.dateRangeFrom=new Date,this.dateRangeUpto=new Date}ngOnInit(){this.getMedicalObjectivesPaged()}getMedicalObjectivesPaged(){this.bsModalRef=this.modalService.show(p.Z,{class:"modal-dialog-centered modal-md",initialState:{title:"get Date Range Input for Statement of Account"}}),this.bsModalRef.content.returnDateRangeEvent.pipe((0,n.h)(_=>null!==_),(0,f.w)(_=>{var E=(0,l.v)(_.fromDate),T=(0,l.v)(_.uptoDate);return this.mParams.fromDate=E,this.mParams.uptoDate=T,this.service.getPaginatedMedExecPerf(this.mParams)})).subscribe(_=>{console.log("med objectives getmedicalobjectives paged response:",_),null!==_?(this.toastr.success("Medical Objectives retrieved","Objectives Retrieved"),this.objs=_.result,this.totalCount=_.count,this.pagination=_.pagination):this.toastr.error("Error in retrieving Medical Objectives data","failed to retrieve")})}onPageChanged(s){this.service.getMedParams(),this.mParams.pageNumber!==s.page&&(this.mParams.pageNumber=s.page,this.service.setMedParams(this.mParams),this.getMedicalObjectivesPaged())}WorkingDays(s,g){return(0,b.g3)(s,g)}static#t=this.\u0275fac=function(g){return new(g||e)(t.Y36(o.M),t.Y36(v._W),t.Y36(r.tT))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-med-objectives"]],decls:41,vars:10,consts:[[1,"stdd"],["style","display: inline-block;","class","stdd mx-5",4,"ngIf"],[2,"display","inline-block","font-weight","bold"],["routerLink","/",1,"btn","fa","fa-window-close","fa-2x","mx-3",2,"display","inline-block"],[1,"container"],[1,"lbl","w75"],[1,"lbl","w150"],[1,"lbl","w100"],[4,"ngFor","ngForOf"],[1,"stdd","mx-5",2,"display","inline-block"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",2,"margin","0 5px 0 5px","display","inline-block",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[1,"stdd","w75"],[1,"stddS","w150"],[1,"stdd","w100"],[1,"stdd","w75","p15"]],template:function(g,_){1&g&&(t.TgZ(0,"div",0),t._uU(1,"Medical Objectives"),t.qZA(),t.YNc(2,P,3,3,"div",1),t._UZ(3,"br"),t.TgZ(4,"h4",2),t._uU(5),t.ALo(6,"date"),t.ALo(7,"date"),t.qZA(),t._UZ(8,"button",3),t.TgZ(9,"div",4)(10,"label",5),t._uU(11,"Application No"),t.qZA(),t.TgZ(12,"label",6),t._uU(13,"Candidate Name"),t.qZA(),t.TgZ(14,"label",6),t._uU(15,"Customer Name"),t.qZA(),t.TgZ(16,"label",7),t._uU(17,"Selected On"),t.qZA(),t.TgZ(18,"label",7),t._uU(19,"Referred"),t._UZ(20,"br"),t._uU(21,"for Medical"),t._UZ(22,"br"),t._uU(23,"Test On"),t.qZA(),t.TgZ(24,"label",5),t._uU(25,"Days"),t._UZ(26,"br"),t._uU(27,"to Initiate"),t._UZ(28,"br"),t._uU(29,"Med Test"),t.qZA(),t.TgZ(30,"label",7),t._uU(31,"Medical Test"),t._UZ(32,"br"),t._uU(33,"Concluded On"),t.qZA(),t.TgZ(34,"label",5),t._uU(35,"Days"),t._UZ(36,"br"),t._uU(37,"For Med"),t._UZ(38,"br"),t._uU(39,"Test"),t.qZA(),t.YNc(40,a,20,17,"div",8),t.qZA()),2&g&&(t.xp6(2),t.Q6J("ngIf",_.objs&&_.pagination),t.xp6(3),t.AsE("Analyses of Time taken to organize Medical Tests - from ",t.xi3(6,4,_.mParams.fromDate,"dd-MMM-yy")," to ",t.xi3(7,7,_.mParams.uptoDate,"dd-MMM-yy"),""),t.xp6(35),t.Q6J("ngForOf",_.objs))},dependencies:[d.sg,d.O5,c.Qt,h.rH,d.uU],styles:[".lbl[_ngcontent-%COMP%]{display:inline-block;font-size:small;font-weight:700;vertical-align:middle;margin:0 2px}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;vertical-align:middle;margin:0 2px}.stddS[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;vertical-align:middle;margin:0 2px}.w150[_ngcontent-%COMP%]{width:150px}.w125[_ngcontent-%COMP%]{width:125px}.w75[_ngcontent-%COMP%]{width:75px}.w50[_ngcontent-%COMP%]{width:50px}.w100[_ngcontent-%COMP%]{width:100px}.p15[_ngcontent-%COMP%]{padding-left:15px}.btn[_ngcontent-%COMP%]{color:#f0f8ff}"]})}return e})()},7328:(D,M,i)=>{i.d(M,{t:()=>O});var n=i(8645),f=i(4552);class O extends n.x{constructor(l=1/0,p=1/0,t=f.l){super(),this._bufferSize=l,this._windowTime=p,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=p===1/0,this._bufferSize=Math.max(1,l),this._windowTime=Math.max(1,p)}next(l){const{isStopped:p,_buffer:t,_infiniteTimeWindow:o,_timestampProvider:v,_windowTime:r}=this;p||(t.push(l),!o&&t.push(v.now()+r)),this._trimBuffer(),super.next(l)}_subscribe(l){this._throwIfClosed(),this._trimBuffer();const p=this._innerSubscribe(l),{_infiniteTimeWindow:t,_buffer:o}=this,v=o.slice();for(let r=0;r<v.length&&!l.closed;r+=t?1:2)l.next(v[r]);return this._checkFinalizedStatuses(l),p}_trimBuffer(){const{_bufferSize:l,_timestampProvider:p,_buffer:t,_infiniteTimeWindow:o}=this,v=(o?1:2)*l;if(l<1/0&&v<t.length&&t.splice(0,t.length-v),!o){const r=p.now();let d=0;for(let c=1;c<t.length&&t[c]<=r;c+=2)d=c;d&&t.splice(0,d+1)}}}}}]);