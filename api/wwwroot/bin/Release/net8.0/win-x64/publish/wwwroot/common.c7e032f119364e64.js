"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[592],{9141:(k,m,i)=>{i.d(m,{S:()=>t});class t{constructor(){this.firstName="",this.employeeCityName="",this.dOJ=Date,this.skillId=0,this.skillLevel=0,this.otherSkillLevel=0,this.department="",this.position="",this.sort="name",this.pageNumber=1,this.pageSize=15,this.search=""}}},3692:(k,m,i)=>{i.d(m,{j:()=>t});class t{constructor(){this.cvRefId=0,this.senderUsername="",this.senderEmail="",this.recipientUsername="",this.recipientEmail="",this.subject="",this.searchInContents="",this.messageType="",this.pageNumber=1,this.pageSize=20,this.search="",this.sortby="",this.container="Inbox"}}},7728:(k,m,i)=>{i.d(m,{F:()=>t});class t{constructor(){this.id=0,this.orderItemId=0,this.candidateId=0,this.orderId=0,this.orderNo=0,this.applicationNo=0,this.customerName="",this.professionId=0,this.professionName="",this.referredOn=new Date,this.cVRefId=0,this.includeSelection=!1,this.includeEmployment=!1,this.includeDeployment=!1,this.selectionStatus="Selected",this.pageNumber=1,this.pageSize=15,this.sort="",this.search=""}}},3568:(k,m,i)=>{i.d(m,{p:()=>t});class t{constructor(){this.taskId=0,this.taskType="",this.taskDate=new Date("1900-01-01"),this.candidateId=0,this.applicationNo=0,this.resumeId="",this.assignedToUsername="",this.assignedByUsername="",this.taskStatus="",this.orderId=0,this.sort="taskDate",this.pageNumber=1,this.pageSize=15,this.search=""}}},4034:(k,m,i)=>{i.d(m,{a:()=>t});class t{constructor(){this.customerId=0,this.email="",this.phoneNo="",this.dateIssued=new Date,this.dateReceived=new Date,this.pageNumber=1,this.pageSize=10,this.search="",this.sort=""}}},162:(k,m,i)=>{i.d(m,{F:()=>t});class t{constructor(){this.orderno="",this.categoryRef="",this.status="",this.statusClass="Active",this.phoneNo="",this.candidateName="",this.closed=!1,this.sort="date",this.pageNumber=1,this.pageSize=15,this.search=""}}},4794:(k,m,i)=>{i.d(m,{y:()=>v});var t=i(5879),f=i(2503);const v=()=>(0,t.f3M)(f.k).getProspectiveHeadersDto("decline")},6468:(k,m,i)=>{i.d(m,{G:()=>c});var t=i(9862),f=i(7328),v=i(2096),e=i(7398),U=i(9141),C=i(5516),g=i(1436),p=i(5879);let c=(()=>{class P{constructor(a){this.http=a,this.apiUrl=C.N.apiUrl,this.currentUserSource=new f.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.agents=[],this.cache=new Map,this.eParams=new U.S}getEmployeeIdAndKnownAs(){return this.http.get(this.apiUrl+"employees/idandknownas")}getEmployeesPaged(){var a=this.eParams;const r=this.cache.get(Object.values(a).join("-"));if(r)return(0,v.of)(r);let l=(0,g.Mb)(a);return(0,g.Tr)(this.apiUrl+"Employees/employeepaged",l,this.http).pipe((0,e.U)(s=>(this.cache.set(Object.values(a).join("-"),s),s)))}getEmployeeById(a){return console.log("employeeid:",a),this.http.get(this.apiUrl+"Employees/byId/"+a)}updateEmployee(a){return this.http.put(this.apiUrl+"Employees",a)}updateOrAddEmployeeWithAttachments(a){return this.http.post(this.apiUrl+"Candidate/updateEmployeeWithAttachments",a)}updateOrAddEmployeeAttachments(a){return console.log("calling fileupload/updateanduploadattachments"),this.http.put(this.apiUrl+"Employees/updateAndUploadAttachments",a)}getEmployeeAttachments(a){return this.http.get(this.apiUrl+"Employees/getEmployeeAttachments/"+a)}deleteEmployee(a){return this.http.delete(this.apiUrl+"Employees/"+a)}addNewEmployee(a){return this.http.post(this.apiUrl+"Employees/employee",a)}downloadEmployeeAttachmentFile(a){let r=new t.LE;return r=r.append("fullpath",a),this.http.get(this.apiUrl+"FileUpload/downloadfile",{params:r,responseType:"blob"})}getSkillDatas(){return this.http.get(this.apiUrl+"employees/skilldatas")}getIndustryList(){return this.http.get(this.apiUrl+"employees/industrylist")}checkEmployeeEmailExists(a){return this.http.get(this.apiUrl+"employees/checkemailexists/"+a)}checkAadharExists(a){return this.http.get(this.apiUrl+"employees/checkaadharnoexists/"+a)}setParams(a){this.eParams=a}getParams(){return this.eParams}static#e=this.\u0275fac=function(r){return new(r||P)(p.LFG(t.eN))};static#t=this.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},9537:(k,m,i)=>{i.d(m,{h:()=>C});var t=i(7328);class f{constructor(){this.id=0,this.name="",this.sort="name",this.pageNumber=1,this.pageSize=10,this.search=""}}var v=i(5516),e=i(5879),U=i(9862);let C=(()=>{class g{constructor(c){this.http=c,this.apiUrl=v.N.apiUrl,this.currentUserSource=new t.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.mParams=new f}getQualificationList(){return this.http.get(this.apiUrl+"Qualification/qualificationlist")}getQualification(c){return this.http.get(this.apiUrl+"Qualification/qById/"+c)}updateQualification(c,P){return this.http.put(this.apiUrl+"Qualification/edit",{id:c,qualificationName:P})}deleteQualification(c){return this.http.delete(this.apiUrl+"Qualification/delete/"+c)}static#e=this.\u0275fac=function(P){return new(P||g)(e.LFG(U.eN))};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},4038:(k,m,i)=>{i.d(m,{M:()=>a});var t=i(7328),f=i(2096),v=i(7398),e=i(5516),U=i(3568),C=i(1436),g=i(8050),p=i(5879),c=i(9862),P=i(8763),n=i(7783);let a=(()=>{class r{constructor(s,d,_){this.http=s,this.toastr=d,this.accountService=_,this.apiUrl=e.N.apiUrl,this.currentUserSource=new t.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.oParams=new U.p,this.tasks=[],this.cache=new Map,this.cacheTasks=new Map,this.medParams=new g.R,_.currentUser$.subscribe({next:M=>this.user=M})}addTask(s){return this.http.post(this.apiUrl+"Task",s)}setMedParams(s){this.medParams=s}getMedParams(){return this.medParams}getPaginatedTasks(){var s=this.oParams;const d=this.cache.get(Object.values(s).join("-"));if(d)return(0,f.of)(d);let _=(0,C.hD)(s);return(0,C.Tr)(this.apiUrl+"Task/pagedTasks",_,this.http).pipe((0,v.U)(M=>(this.cache.set(Object.values(s).join("-"),M),M)))}getTaskWithItems(s){return this.http.get(this.apiUrl+"task/taskbyid/"+s)}getTaskByOrderIdAndTaskType(s,d){return this.http.get(this.apiUrl+"Task/task/"+s+"/"+d)}getTaskFromResumeId(s){return this.http.get(this.apiUrl+"task/getorcreatebyresumeid/"+s)}getOrCreateTaskFromParams(s,d){var _=this.oParams;return _.resumeId=s,_.taskType="Prosective",_.assignedToUsername=d,this.http.post(this.apiUrl+"Task/prospectivetaskForResumeId",_)}createNewTask(s){return this.http.post(this.apiUrl+"Task/task",s)}UpdateTask(s){return this.http.put(this.apiUrl+"Task/task",s)}deleteTaskFromCache(s){this.cacheTasks.delete(s),this.pagination.totalItems--}deleteTask(s){return this.http.delete(this.apiUrl+"Task/task/"+s)}completeTask(s){return this.http.put(this.apiUrl+"Task/completeTask/"+s,{})}deleteTaskItem(s){return this.http.delete(this.apiUrl+"Task/taskitem/"+s).subscribe(()=>{},d=>{this.toastr.error(d),console.log("error in deleting task",d)})}getTaskFromAny(s){return this.http.get(this.apiUrl+"task/fromany/"+s)}getPendingTasksOfLoggedInUser(){var s=new U.p;return s.pageNumber=1,s.pageSize=15,s.assignedByUsername=this.user?.userName,s.assignedToUsername=this.user?.userName,this.oParams=s,this.getPaginatedTasks()}setParams(s){this.oParams=s}getParams(){return this.oParams}getEmployeeIdAndKnownAs(){return this.http.get(this.apiUrl+"employees/idandknownas")}getMedicalObjectives(s,d){return this.http.get(this.apiUrl+"feedback/MedicalObjectives/"+s+"/"+d)}static#e=this.\u0275fac=function(d){return new(d||r)(p.LFG(c.eN),p.LFG(P._W),p.LFG(n.B))};static#t=this.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},639:(k,m,i)=>{i.d(m,{T:()=>c});var t=i(7328),f=i(2096),v=i(7398),e=i(5516),U=i(4034),C=i(1436),g=i(5879),p=i(9862);let c=(()=>{class P{constructor(a){this.http=a,this.apiUrl=e.N.apiUrl,this.currentUserSource=new t.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.fParams=new U.a,this.cache=new Map}getFeedbacks(a){const r=this.cache.get(Object.values(a).join("-"));if(r)return(0,f.of)(r);let l=(0,C.UC)(a);return(0,C.Tr)(this.apiUrl+"Feedback/pagedlist",l,this.http).pipe((0,v.U)(s=>(this.cache.set(Object.values(a).join("-"),s),s)))}getFeedbackWithItems(a){return this.http.get(this.apiUrl+"Feedback/FeedbackFromId/"+a)}updateFeedback(a){return console.log("updatefeedback service:",a),this.http.put(this.apiUrl+"Feedback",a)}deleteFeedback(a){return this.http.delete(this.apiUrl+"Feedback/delete/"+a)}saveNewFeedback(a){return this.http.post(this.apiUrl+"Feedback/saveFeedback",a)}deleteFeedbackInput(a){return this.http.delete(this.apiUrl+"Feedback/deleteinput/"+a)}getFeedbackObject(a,r){return this.http.get(this.apiUrl+"Feedback/newfeedback/"+a+"/"+r)}getFeedbackHistory(a){return this.http.get(this.apiUrl+"Feedback/history/"+a)}sendFeedbackMail(a){return this.http.get(this.apiUrl+"Feedback/sendfeedback/"+a)}setParams(a){this.fParams=a}getParams(){return this.fParams}static#e=this.\u0275fac=function(r){return new(r||P)(g.LFG(p.eN))};static#t=this.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},138:(k,m,i)=>{i.d(m,{I:()=>e});var t=i(5516),f=i(5879),v=i(9862);let e=(()=>{class C{constructor(p){this.http=p,this.apiUrl=t.N.apiUrl}updateWithFiles(p){return this.http.put(this.apiUrl+"candidate/updatecandidate",p,{reportProgress:!0,observe:"events"})}registerNewCandidate(p){return this.http.post(this.apiUrl+"account/RegisterNewCandidate",p,{reportProgress:!0,observe:"events"})}download(p){return this.http.get(this.apiUrl+"FileUpload/downloadattachmentfile/"+p,{reportProgress:!0,responseType:"blob"})}downloadCV(p){return this.http.get(this.apiUrl+"FileUpload/downloadcv/"+p,{reportProgress:!0,responseType:"blob"})}static#e=this.\u0275fac=function(c){return new(c||C)(f.LFG(v.eN))};static#t=this.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},2503:(k,m,i)=>{i.d(m,{k:()=>a});var t=i(7328),f=i(8180),v=i(2096),e=i(7398),U=i(5516),C=i(162);class g{constructor(){this.orderno="",this.personId="",this.personType="",this.categoryRef="",this.dateRegistered=new Date,this.status="",this.username="",this.phoneNo="",this.email="",this.candidateName="",this.sort="categoryRef",this.pageNumber=1,this.pageSize=10,this.search=""}}var p=i(1436),c=i(5879),P=i(9862),n=i(7783);let a=(()=>{class r{constructor(s,d){this.http=s,this.accountService=d,this.apiUrl=U.N.apiUrl,this.currentUserSource=new t.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.oParams=new C.F,this.sParams=new g,this.summaries=[],this.cache=new Map,this.cacheSummary=new Map,this.accountService.currentUser$.pipe((0,f.q)(1)).subscribe({next:_=>{_&&(this.user=_)}})}getProspectiveCandidates(s){const d=this.cache.get(Object.values(s).join("-"));if(d)return(0,v.of)(d);let _=(0,p.NO)(s);return(0,p.Tr)(this.apiUrl+"prospectivecandidates",_,this.http).pipe((0,e.U)(M=>(this.cache.set(Object.values(s).join("-"),M),M)))}getOrAddCallRecord(s,d){return this.http.get(this.apiUrl+"CallRecord/getOrAddHistoryWithItems/"+s+"/"+d)}getProspectivesPaged(s){const d=this.cache.get(Object.values(s).join("-"));if(d)return(0,v.of)(d);let _=(0,p.NO)(s);return console.log("prospective service getprospectivespaged params:",_),(0,p.Tr)(this.apiUrl+"Prospectives/pagedlist",_,this.http).pipe((0,e.U)(M=>(this.cache.set(Object.values(s).join("-"),M),M)))}getProspectivesList(s,d){return this.http.get(this.apiUrl+"Prospectives/list/"+s+"/"+d)}getProspectiveHeadersDto(s){return this.http.get(this.apiUrl+"Prospectives/headers/"+s)}getProspectiveSummary(s){if(!1===s&&(this.cacheSummary=new Map),this.cacheSummary.size>0&&!0===s&&this.cacheSummary.has(Object.values(this.sParams).join("-")))return this.summaries=this.cacheSummary.get(Object.values(this.sParams).join("-")),(0,v.of)(this.summaries);let d=(0,p.UV)(this.sParams);return this.http.get(this.apiUrl+"Prospectives/summary",{params:d}).pipe((0,e.U)(_=>(this.cache.set(Object.values(this.sParams).join("-"),_),this.summaries=_,_)))}composeCallRecordMessage(s){return this.http.post(this.apiUrl+"Prospectives/ComposeMessages",s)}setParams(s){this.oParams=s}getParams(){return this.oParams}setSummaryParams(s){this.sParams=s,console.log("summaryParams set to:",s)}getSummaryParams(){return this.sParams}displayModalUserContact(){}uploadProspectiveXLSFile(s){return this.http.post(this.apiUrl+"excel/uploadProspectiveFile",s)}convertProspectiveXLStoDb(s){return this.http.post(this.apiUrl+"excel/convertToDb/"+s,{})}convertProspectiveToCandidate(s){return this.http.put(this.apiUrl+"Prospectives/convertProspective/"+s,{})}createCandidateFromprospective(s){return this.http.post(this.apiUrl+"Prospectives",s)}updateProspectives(s){return this.http.put(this.apiUrl+"Prospectives/prospectivelistedit",s)}updateCallRecord(s){return this.http.put(this.apiUrl+"CallRecord",s)}deleteProspectiveRecord(s){return this.http.delete(this.apiUrl+"Prospectives/delete/"+s)}static#e=this.\u0275fac=function(d){return new(d||r)(c.LFG(P.eN),c.LFG(n.B))};static#t=this.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},3957:(k,m,i)=>{i.d(m,{z:()=>n});var t=i(7328),f=i(8180),v=i(2096),e=i(7398),U=i(5516),C=i(7728),g=i(1436),p=i(5879),c=i(9862),P=i(7783);let n=(()=>{class a{constructor(l,s){this.http=l,this.accountService=s,this.apiUrl=U.N.apiUrl,this.currentUserSource=new t.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.sParams=new C.F,this.cache=new Map,this.cacheSel=new Map,this.accountService.currentUser$.pipe((0,f.q)(1)).subscribe(d=>{this.user=d})}setParams(l){this.sParams=l}getParams(){return this.sParams}getPendingSelections(l=!1){var s=this.sParams;if(l){const _=this.cache.get(Object.values(s).join("-"));if(_)return(0,v.of)(_)}let d=(0,g.Wc)(s);return(0,g.Tr)(this.apiUrl+"CVRef/cvsreferred",d,this.http).pipe((0,e.U)(_=>(this.cache.set(Object.values(s).join("-"),_),_)))}getSelectionRecords(l=!0){var s=this.sParams;const d=this.cacheSel.get(Object.values(s).join("-"));if(d)return(0,v.of)(d);let _=(0,g.Wc)(s);return(0,g.Tr)(this.apiUrl+"Selection",_,this.http).pipe((0,e.U)(M=>(this.cacheSel.set(Object.values(s).join("-"),M),M)))}editSelectionDecision(l){return this.http.put(this.apiUrl+"selection",l)}deleteSelectionDecisions(l){return this.http.delete(this.apiUrl+"selection/"+l)}getEmployment(l){return this.http.get(this.apiUrl+"selection/employmentbycvrefid/"+l)}getEmploymentFromEmploymentId(l){return this.http.get(this.apiUrl+"selection/employment/"+l)}getEmploymentDtoFromSelectionId(l){return this.http.get(this.apiUrl+"selection/employmentfromSelId/"+l)}getorGenerateEmploymentFromSelDecisionId(l){return this.http.get(this.apiUrl+"employment/employmentfromSelId/"+l)}updateEmploymentWithUploads(l){return this.http.post(this.apiUrl+"employment/savewithupload",l)}getSelectionDtoByOrderNo(l){}registerOfferAccepted(l){return this.http.put(this.apiUrl+"selection/offeraccepted",l)}getSelectionBySelDecisionId(l){return this.http.get(this.apiUrl+"selection/selectionBySelDecisionId/"+l)}remindCandidatesForAcceptance(l){return this.http.post(this.apiUrl+"selection/acceptancereminders",l)}Housekeeping(){return this.http.get(this.apiUrl+"selection/housekeepingcvrefandsel")}static#e=this.\u0275fac=function(s){return new(s||a)(p.LFG(c.eN),p.LFG(P.B))};static#t=this.\u0275prov=p.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},4693:(k,m,i)=>{i.d(m,{e:()=>p});var t=i(5516),f=i(1436),v=i(9862),e=i(3692),U=i(2096),C=i(7398),g=i(5879);let p=(()=>{class c{constructor(n){this.http=n,this.baseUrl=t.N.apiUrl,this.msgParams=new e.j,this.cache=new Map,this.msgTypes=[{MessageType:"DeploymentProgress"},{MessageType:"CustomerFeedback"},{MessageType:"AdviseToHRDeptHead"},{MessageType:"AssignTaskToHRExec"},{MessageType:"CVFwdTask"},{MessageType:"OrderFwdToHR"},{MessageType:"InterviewInvitation"},{MessageType:"CandidateInterest"},{MessageType:"cv forward"},{MessageType:"SelectionAdvisebyemail"},{MessageType:"acceptanceremindertocandidate"}]}getMessageTypes(){return this.msgTypes}getMessages(n=!0){var a=this.msgParams;if(n){const l=this.cache.get(Object.values(a).join("-"));if(l)return(0,U.of)(l)}let r=new v.LE;return r=r.append("pageNumber",a.pageNumber.toString()),r=r.append("pageSize",a.pageSize.toString()),r=r.append("Container",a.container),0!==a.cvRefId&&(r=r.append("cvRefId",a.cvRefId.toString())),""!==a.recipientEmail&&(r=r.append("recipientEmail",a.recipientEmail)),""!==a.senderEmail&&(r=r.append("senderEmail",a.senderEmail)),""!==a.recipientUsername&&(r=r.append("recipientUsername",a.recipientUsername)),""!==a.senderUsername&&(r=r.append("senderUsername",a.senderUsername)),""!==a.messageType&&(r=r.append("messageType",a.messageType)),(0,f.Tr)(this.baseUrl+"Messages",r,this.http).pipe((0,C.U)(l=>(this.cache.set(Object.values(this.msgParams).join("-"),l),l)))}getMessageThread(n){return this.http.get(this.baseUrl+"Messages?username="+n)}sendMessage(n){return this.http.post(this.baseUrl+"messages/sendMessage",n)}deleteMessage(n){return this.http.delete(this.baseUrl+"messages/"+n)}setParams(n){this.msgParams=n}getParams(){return this.msgParams}static#e=this.\u0275fac=function(a){return new(a||c)(g.LFG(v.eN))};static#t=this.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},4104:(k,m,i)=>{i.d(m,{N:()=>p});var t=i(5879),f=i(3574),v=i(8763),e=i(6814);function U(c,P){if(1&c){const n=t.EpF();t.TgZ(0,"div",5)(1,"span",6),t._uU(2,"Interested Types:"),t.qZA(),t.TgZ(3,"span",7),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.Interested_keen(r.id))}),t._uU(4,"Keen to Join"),t.qZA(),t.TgZ(5,"span",8),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.Interested_doubtful(r.id))}),t._uU(6,"Interested, but doubtful"),t.qZA(),t.TgZ(7,"span",9),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.Interested_undecided(r.id))}),t._uU(8,"Undecided"),t.qZA(),t.TgZ(9,"button",10),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.Interested=!1)}),t.qZA()()}if(2&c){const n=t.oxw();t.xp6(3),t.ekj("disabled","Interested, and keen"===n.status),t.xp6(2),t.ekj("disabled","Interested, but doubtful"===n.status),t.xp6(2),t.ekj("disabled","Interested_undecided"===n.status)}}function C(c,P){if(1&c){const n=t.EpF();t.TgZ(0,"div",5)(1,"span",6),t._uU(2,"No-Interest Reasons:"),t.qZA(),t.TgZ(3,"span",11),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.NI_DueToSalary(r.id))}),t._uU(4,"Salary"),t.qZA(),t.TgZ(5,"span",12),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.NI_ForOverseas(r.id))}),t._uU(6,"Not For Overseas"),t.qZA(),t.TgZ(7,"span",13),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.NI_DueToSC(r.id))}),t._uU(8,"S.C."),t.qZA(),t.TgZ(9,"span",14),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.NI_DueToUnknownReasons(r.id))}),t._uU(10,"Unknown Reasons"),t.qZA(),t.TgZ(11,"button",10),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.NotInterested=!1)}),t.qZA()()}if(2&c){const n=t.oxw();t.xp6(3),t.ekj("disabled","Declined-Low remuneration"===n.status),t.xp6(2),t.ekj("disabled","Declined for overseas"===n.status),t.xp6(2),t.ekj("disabled","Declined - SC Not agreed"===n.status),t.xp6(2),t.ekj("disabled","Declined - other reasons"===n.status)}}function g(c,P){if(1&c){const n=t.EpF();t.TgZ(0,"div",5)(1,"span",15),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.CallMissed_WrongNo(r.id))}),t._uU(2,"Wrong Number"),t.qZA(),t.TgZ(3,"span",16),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.CallMissed_NoResponse(r.id))}),t._uU(4,"No response"),t.qZA(),t.TgZ(5,"span",17),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.CallMissed_CallLater(r.id))}),t._uU(6,"Asked to call later"),t.qZA(),t.TgZ(7,"span",10),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.CallMissed=!1)}),t.qZA()()}}let p=(()=>{class c{constructor(n,a){this.callRecService=n,this.toastr=a,this.id=0,this.status="",this.categoryRef="",this.personId="",this.personType="",this.callStatusEvent=new t.vpe,this.eventClickedEvent=new t.vpe,this.eventClicked=!1,this.statusDate=new Date,this.Interested=!1,this.NotInterested=!1,this.CallMissed=!1,this.adviseByMail=!1,this.adviseBySMS=!1}InterestedClicked(n){this.Interested=!0,this.NotInterested=!1,this.CallMissed=!1,this.eventClicked=!this.eventClicked,this.eventClickedEvent.emit(this.eventClicked)}NotInterestedClicked(n){this.Interested=!1,this.NotInterested=!0,this.CallMissed=!1,this.eventClicked=!this.eventClicked,this.eventClickedEvent.emit(this.eventClicked)}CallMissedClicked(n){this.NotInterested=!1,this.CallMissed=!0,this.Interested=!1,this.eventClicked=!this.eventClicked,this.eventClickedEvent.emit(this.eventClicked)}Interested_keen(n){this.editOrAddCallRecordItem("Interested, and keen",n),this.Interested=!1}Interested_doubtful(n){this.editOrAddCallRecordItem("Interested, but doubtful",n),this.Interested=!1}Interested_undecided(n){this.editOrAddCallRecordItem("Interested, undecided",n),this.Interested=!1}NI_DueToSalary(n){this.editOrAddCallRecordItem("Declined-Low remuneration",n),this.NotInterested=!1}NI_ForOverseas(n){this.editOrAddCallRecordItem("Declined for overseas",n),this.NotInterested=!1}NI_DueToSC(n){this.editOrAddCallRecordItem("Declined - SC Not agreed",n),this.NotInterested=!1}NI_DueToUnknownReasons(n){this.editOrAddCallRecordItem("Declined - Other Reasons",n),this.NotInterested=!1}CallMissed_WrongNo(n){this.editOrAddCallRecordItem("wrong number",n),this.CallMissed=!1}CallMissed_NoResponse(n){this.editOrAddCallRecordItem("Not Responding",n),this.CallMissed=!1}CallMissed_CallLater(n){this.editOrAddCallRecordItem("Call Later",n),this.CallMissed=!1}editOrAddCallRecordItem(n,a){if(this.status!==n){var r={id:0,callRecordId:0,incomingOutgoing:"Out",phoneNo:"",email:"",dateOfContact:new Date,username:"",contactResult:n,gistOfDiscussions:"Clicked by user",nextAction:"",nextActionOn:new Date,advisoryBy:""},l={personId:this.personId.toString(),personType:this.personType,categoryRef:this.categoryRef,adviseByMail:this.adviseByMail,adviseBySMS:this.adviseBySMS,callRecordItem:r};console.log("callRecordDto",l),this.callRecService.updateCallRecordItem(l).subscribe({next:s=>{console.log("response:",s),null!==s&&""!==s.errorString&&(this.status=s.contactResult,this.callStatusEvent.emit(this.status),this.statusDate=s.dateOfContact,this.toastr.success("Call record item registered as -"+n+". "+(s.messageComposed?"A message to the candidate has been composed and available to view/edit in Messages Section (under type 'CandidateInterest')":"No message was composed."),"Success"))},error:s=>this.toastr.error(s.error?.details,"Error encountered")})}else this.toastr.warning("Status is ALREADY "+n,"Status need not be changed")}static#e=this.\u0275fac=function(a){return new(a||c)(t.Y36(f.C),t.Y36(v._W))};static#t=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-register-call-records"]],inputs:{id:"id",status:"status",categoryRef:"categoryRef",personId:"personId",personType:"personType"},outputs:{callStatusEvent:"callStatusEvent",eventClickedEvent:"eventClickedEvent"},decls:8,vars:3,consts:[["title","Register as Interested",1,"btn","fa","fa-check",3,"click"],["title","Not Interested - you can choose reasons for the non-interest",1,"btn","w20","b",3,"click"],["title","Failed to reach on phone - wrong number or call not received",1,"btn","w20",3,"click"],[1,"fa-solid","fa-tty"],["class","my-0",4,"ngIf"],[1,"my-0"],[2,"font-size","smaller","font-weight","bold"],["title","Register as Interested and keen",1,"menuStyle","w50",3,"click"],["title","Register as Interested, but doubtful.",1,"menuStyle","w100",3,"click"],["title","Undecided - will discuss and advise.",1,"menuStyle","w100",3,"click"],[1,"fa","fa-window-close","mx-2",3,"click"],["title","Register as Not Interested due to Salary",1,"menuStyle","w50",3,"click"],["title","Register as Not Interested for overseas countries",1,"menuStyle","w100",3,"click"],["title","Register as Not Willing to pay service charges",1,"menuStyle","w50",3,"click"],["title","Register as not interested - reason not disclosed",1,"menuStyle","w75",3,"click"],["title","register the candidate's phone number as wrong number",1,"menuStyle","w50",3,"click"],["title","candidate did not respond to the call",1,"menuStyle","w50",3,"click"],["title","Asked to call later",1,"menuStyle","w50",3,"click"]],template:function(a,r){1&a&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return r.InterestedClicked(r.id)}),t.qZA(),t.TgZ(1,"button",1),t.NdJ("click",function(){return r.NotInterestedClicked(r.id)}),t._uU(2,"X\n"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return r.CallMissedClicked(r.id)}),t._UZ(4,"i",3),t.qZA(),t.YNc(5,U,10,6,"div",4),t.YNc(6,C,12,8,"div",4),t.YNc(7,g,8,0,"div",4)),2&a&&(t.xp6(5),t.Q6J("ngIf",r.Interested),t.xp6(1),t.Q6J("ngIf",r.NotInterested),t.xp6(1),t.Q6J("ngIf",r.CallMissed))},dependencies:[e.O5],styles:[".w20[_ngcontent-%COMP%]{width:20px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.fSmallest[_ngcontent-%COMP%]{font-size:x-small}.btn[_ngcontent-%COMP%]{color:#f0f8ff}.b[_ngcontent-%COMP%]{font-weight:700}.menuStyle[_ngcontent-%COMP%]{font-size:smaller;font-weight:700;border-style:groove;vertical-align:top;cursor:pointer;color:#ff0;margin:0 2px;padding:0 2px}"]})}return c})()},8431:(k,m,i)=>{i.d(m,{t:()=>R});var t=i(2181),f=i(4664),v=i(4034),e=i(5879),U=i(7850),C=i(639),g=i(7411),p=i(8763),c=i(6814),P=i(7012);function n(E,O){if(1&E){const o=e.EpF();e.TgZ(0,"div")(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA(),e.TgZ(7,"div",4),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"div",4),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"div",2),e._uU(14),e.qZA(),e.TgZ(15,"button",5),e.NdJ("click",function(){e.CHM(o);const h=e.oxw();return e.KtG(h.editClicked(h.fdbk.id))}),e.qZA(),e.TgZ(16,"button",6),e.NdJ("click",function(){e.CHM(o);const h=e.oxw();return e.KtG(h.generateEmail(h.fdbk.id))}),e.qZA(),e.TgZ(17,"button",7),e.NdJ("click",function(){e.CHM(o);const h=e.oxw();return e.KtG(h.deleteClicked(h.fdbk.id))}),e.qZA()()}if(2&E){const o=e.oxw();e.xp6(2),e.Oqu(o.fdbk.customerName),e.xp6(2),e.Oqu(o.fdbk.city),e.xp6(2),e.Oqu(o.fdbk.officialName),e.xp6(2),e.Oqu(e.xi3(9,6,o.fdbk.dateIssued,"dd-MMM-yy")),e.xp6(3),e.Oqu(e.xi3(12,9,o.fdbk.dateReceived,"dd-MMM-yy")),e.xp6(3),e.Oqu(o.fdbk.gradeAssessedByClient)}}let a=(()=>{class E{constructor(o){this.service=o,this.editEvent=new e.vpe,this.deleteEvent=new e.vpe,this.emailEvent=new e.vpe}editClicked(o){this.service.getFeedbackWithItems(o).subscribe({next:u=>{this.editEvent.emit(o)}})}deleteClicked(o){this.deleteEvent.emit(o)}generateEmail(o){this.emailEvent.emit(o)}static#e=this.\u0275fac=function(u){return new(u||E)(e.Y36(C.T))};static#t=this.\u0275cmp=e.Xpm({type:E,selectors:[["app-feedback-line"]],inputs:{fdbk:"fdbk"},outputs:{editEvent:"editEvent",deleteEvent:"deleteEvent",emailEvent:"emailEvent"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"stdd","w200"],[1,"stdd","w75"],[1,"stdd","w125"],[1,"stdd","w100"],["title","Edit this Feedback.  It is not editable if the Feedback has already been forwarded to client",1,"btn","fa","fa-pencil",3,"click"],["title","send to the client a link to this feedback",1,"btn","fa","fa-envelope",3,"click"],["title","delete this feedback.  It cannot be deleted if it is already sent to the client",1,"btn","fa","fa-trash","red",3,"click"]],template:function(u,h){1&u&&e.YNc(0,n,18,12,"div",0),2&u&&e.Q6J("ngIf",h.fdbk)},dependencies:[c.O5,c.uU],styles:[".w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w200[_ngcontent-%COMP%]{width:200px}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;margin:0 2px}.btn[_ngcontent-%COMP%]{color:#f0f8ff}.red[_ngcontent-%COMP%]{color:red}"]})}return E})();const r=["search"];function l(E,O){if(1&E){const o=e.EpF();e.TgZ(0,"div",7)(1,"pagination",8),e.NdJ("pageChanged",function(h){e.CHM(o);const T=e.oxw();return e.KtG(T.onPageChanged(h))}),e._uU(2," >"),e.qZA()()}if(2&E){const o=e.oxw();e.xp6(1),e.Q6J("totalItems",o.pagination.totalItems)("itemsPerPage",o.pagination.itemsPerPage)("maxSize",10)}}function s(E,O){if(1&E){const o=e.EpF();e.TgZ(0,"div",7)(1,"input",9,10),e.NdJ("keyup.enter",function(){e.CHM(o);const h=e.oxw();return e.KtG(h.onSearch())}),e.qZA(),e.TgZ(3,"button",11),e.NdJ("click",function(){e.CHM(o);const h=e.oxw();return e.KtG(h.onSearch())}),e.qZA(),e.TgZ(4,"button",12),e.NdJ("click",function(){e.CHM(o);const h=e.oxw();return e.KtG(h.onReset())}),e.qZA(),e._UZ(5,"button",13),e.TgZ(6,"h6",14),e._uU(7,'To add a new feedback, go to the customers listing, " + "click a button to the right against a customer name in Customer Index'),e.qZA()()}}function d(E,O){1&E&&(e.TgZ(0,"div"),e._uU(1," No feedback data available as per your search conditions\n"),e.qZA())}function _(E,O){if(1&E){const o=e.EpF();e.TgZ(0,"div")(1,"app-feedback-line",16),e.NdJ("editEvent",function(h){e.CHM(o);const T=e.oxw(2);return e.KtG(T.editClicked(h))})("deleteEvent",function(h){e.CHM(o);const T=e.oxw(2);return e.KtG(T.deleteClicked(h))})("emailEvent",function(h){e.CHM(o);const T=e.oxw(2);return e.KtG(T.emailClicked(h))}),e.qZA()()}if(2&E){const o=O.$implicit;e.xp6(1),e.Q6J("fdbk",o)}}function M(E,O){if(1&E&&(e.TgZ(0,"div"),e.YNc(1,_,2,1,"div",15),e.qZA()),2&E){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.feedbacks)}}let R=(()=>{class E{constructor(o,u,h,T){this.router=o,this.service=u,this.confirm=h,this.toastr=T,this.feedbacks=[],this.fParams=new v.a,this.totalCount=0,this.returnUrl="";let b=this.router.getCurrentNavigation();b?.extras&&b.extras.state&&(b.extras.state.returnUrl&&(this.returnUrl=b.extras.state.returnUrl),b.extras.state.user&&(this.user=b.extras.state.user))}ngOnInit(){this.loadFeedbacks()}loadFeedbacks(){this.service.setParams(this.fParams??new v.a),this.service.getFeedbacks(this.fParams).subscribe({next:o=>{o.result&&o.pagination&&(this.feedbacks=o.result,this.totalCount=o.count,this.pagination=o.pagination)}})}navigateByUrl(o){this.router.navigate([o],{state:{user:this.user,returnUrl:"/feedback/list"}})}onSearch(){const o=this.service.getParams()??new v.a;o.search=this.searchTerm.nativeElement.value,o.pageNumber=1,this.service.setParams(o),this.loadFeedbacks()}onReset(){this.searchTerm.nativeElement.value="",this.fParams=new v.a,this.service.setParams(this.fParams),this.loadFeedbacks()}onPageChanged(o){const u=this.service.getParams()??new v.a;u.pageNumber!==o.page&&(u.pageNumber=o.page,this.service.setParams(u),this.loadFeedbacks())}editClicked(o){this.navigateByUrl("/feedback/edit/"+o+"/0")}deleteClicked(o){var u=o;const T=this.service.deleteFeedback(u);this.confirm.confirm("confirm Delete","confirm delete this Feedback record?. WARNING: this cannot be undone").pipe((0,t.h)(I=>I),(0,f.w)(I=>T)).subscribe(I=>{if(I){this.toastr.success("Customer deleted","deletion successful");var y=this.feedbacks.findIndex(x=>x.id==u);y>=0&&this.feedbacks.splice(y,1)}else this.toastr.error("Error in deleting the Feedback","failed to delete")})}emailClicked(o){var u=o;isNaN(u)&&this.toastr.warning("event.id is NaN"),this.service.sendFeedbackMail(+u).subscribe({next:h=>{console.log("response:",h),""===h?this.toastr.success("the message was generated - it is available in the messages draft folder for you to edit and send"):this.toastr.warning(h,"Failed to generate the message")},error:h=>{console.log("error:",h),this.toastr.error(h.error.details,"Error")}})}static#e=this.\u0275fac=function(u){return new(u||E)(e.Y36(U.F0),e.Y36(C.T),e.Y36(g.z),e.Y36(p._W))};static#t=this.\u0275cmp=e.Xpm({type:E,selectors:[["app-feedback-list"]],viewQuery:function(u,h){if(1&u&&e.Gf(r,5),2&u){let T;e.iGM(T=e.CRH())&&(h.searchTerm=T.first)}},decls:18,vars:4,consts:[["class","stdd",4,"ngIf"],[1,"my-0"],[1,"stdd","w200"],[1,"stdd","w75"],[1,"stdd","w125"],[1,"stdd","w100"],[4,"ngIf"],[1,"stdd"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",1,"stdd","my-2",3,"totalItems","itemsPerPage","maxSize","pageChanged"],["type","text","title","enter text to search","placeholder","Search",1,"stdd","form-control","w300",2,"margin-left","20px",3,"keyup.enter"],["search",""],["type","button",1,"btn","fa","fa-find","fa-2x",3,"click"],["type","button",1,"btn","fa","fa-refresg","fa-2x","mx-3",3,"click"],["type","button","routerLink","/",1,"btn","fa","fa-window-close","fa-2x","mx-3"],[1,"stdd","w300"],[4,"ngFor","ngForOf"],[3,"fdbk","editEvent","deleteEvent","emailEvent"]],template:function(u,h){1&u&&(e.YNc(0,l,3,3,"div",0),e.YNc(1,s,8,0,"div",0),e._UZ(2,"hr",1),e.TgZ(3,"div",2),e._uU(4,"Customer"),e.qZA(),e.TgZ(5,"div",3),e._uU(6,"City"),e.qZA(),e.TgZ(7,"div",4),e._uU(8,"Official Name"),e.qZA(),e.TgZ(9,"div",5),e._uU(10,"Issued On"),e.qZA(),e.TgZ(11,"div",5),e._uU(12,"Received On"),e.qZA(),e.TgZ(13,"div",3),e._uU(14,"Grade"),e.qZA(),e._UZ(15,"hr",1),e.YNc(16,d,2,0,"div",6),e.YNc(17,M,2,1,"div",6)),2&u&&(e.Q6J("ngIf",void 0!==h.pagination),e.xp6(1),e.Q6J("ngIf",h.feedbacks),e.xp6(15),e.Q6J("ngIf",!h.feedbacks),e.xp6(1),e.Q6J("ngIf",h.feedbacks))},dependencies:[c.sg,c.O5,P.Qt,U.rH,a],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:0 2px;vertical-align:top;word-wrap:normal}.btn[_ngcontent-%COMP%]{color:#f0f8ff}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w200[_ngcontent-%COMP%]{width:200px}.w300[_ngcontent-%COMP%]{width:300px}"]})}return E})()}}]);