"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[675],{778:(ge,O,p)=>{p.d(O,{G:()=>g});var l=p(7705),P=p(779);let j=(()=>{class v{constructor(a){this.bsModalRef=a,this.title="",this.message="",this.btnOkText="",this.btnCancelText="",this.result=!1}confirm(){this.result=!0,this.bsModalRef.hide()}decline(){this.bsModalRef.hide()}static#e=this.\u0275fac=function(c){return new(c||v)(l.rXU(P.Y$))};static#t=this.\u0275cmp=l.VBU({type:v,selectors:[["app-confirm-dialog"]],decls:11,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(c,h){1&c&&(l.j41(0,"div",0)(1,"h4",1),l.EFF(2),l.k0s()(),l.j41(3,"div",2)(4,"p"),l.EFF(5),l.k0s()(),l.j41(6,"div",3)(7,"button",4),l.bIt("click",function(){return h.confirm()}),l.EFF(8),l.k0s(),l.j41(9,"button",5),l.bIt("click",function(){return h.decline()}),l.EFF(10),l.k0s()()),2&c&&(l.R7$(2),l.JRh(h.title),l.R7$(3),l.JRh(h.message),l.R7$(3),l.JRh(h.btnOkText),l.R7$(2),l.JRh(h.btnCancelText))}})}return v})();var U=p(6354),m=p(3587),L=p(1626);let g=(()=>{class v{constructor(a,c){this.modalService=a,this.http=c,this.baseUrl=m.c.apiUrl}confirm(a="Confirmation",c="Are you sure you want to do this?",h="Ok",F="Cancel"){return this.bsModelRef=this.modalService.show(j,{initialState:{title:a,message:c,btnOkText:h,btnCancelText:F}}),this.bsModelRef.onHidden.pipe((0,U.T)(()=>this.bsModelRef.content.result))}getHelp(a){return this.http.get(this.baseUrl+"Help/help/"+a)}static#e=this.\u0275fac=function(c){return new(c||v)(l.KVO(P.I8),l.KVO(L.Qq))};static#t=this.\u0275prov=l.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},4675:(ge,O,p)=>{p.r(O),p.d(O,{FeedbackModule:()=>sa});var l=p(177),P=p(9485),j=p(5743),U=p(3265),m=p(9417);const i=function v(t,r){return t===r||t!=t&&r!=r},c=function a(t,r){for(var n=t.length;n--;)if(i(t[n][0],r))return n;return-1};var F=Array.prototype.splice;function A(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var o=t[r];this.set(o[0],o[1])}}A.prototype.clear=function L(){this.__data__=[],this.size=0},A.prototype.delete=function T(t){var r=this.__data__,n=c(r,t);return!(n<0||(n==r.length-1?r.pop():F.call(r,n,1),--this.size,0))},A.prototype.get=function mt(t){var r=this.__data__,n=c(r,t);return n<0?void 0:r[n][1]},A.prototype.has=function vt(t){return c(this.__data__,t)>-1},A.prototype.set=function Ft(t,r){var n=this.__data__,o=c(n,t);return o<0?(++this.size,n.push([t,r])):n[o][1]=r,this};const Q=A,_e="object"==typeof global&&global&&global.Object===Object&&global;var Nt="object"==typeof self&&self&&self.Object===Object&&self;const C=_e||Nt||Function("return this")(),R=C.Symbol;var me=Object.prototype,Mt=me.hasOwnProperty,Dt=me.toString,V=R?R.toStringTag:void 0;var Ut=Object.prototype.toString;var ye=R?R.toStringTag:void 0;const H=function zt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ye&&ye in Object(t)?function Bt(t){var r=Mt.call(t,V),n=t[V];try{t[V]=void 0;var o=!0}catch{}var s=Dt.call(t);return o&&(r?t[V]=n:delete t[V]),s}(t):function Lt(t){return Ut.call(t)}(t)},Y=function Kt(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)},ve=function Zt(t){if(!Y(t))return!1;var r=H(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r};var t,qt=C["__core-js_shared__"],ke=(t=/[^.]+$/.exec(qt&&qt.keys&&qt.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var rn=Function.prototype.toString;const x=function on(t){if(null!=t){try{return rn.call(t)}catch{}try{return t+""}catch{}}return""};var an=/^\[object .+?Constructor\]$/,pn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const bn=function fn(t){return!(!Y(t)||function en(t){return!!ke&&ke in t}(t))&&(ve(t)?pn:an).test(x(t))},S=function _n(t,r){var n=function hn(t,r){return t?.[r]}(t,r);return bn(n)?n:void 0},z=S(C,"Map"),K=S(Object,"create");var wn=Object.prototype.hasOwnProperty;var En=Object.prototype.hasOwnProperty;function M(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var o=t[r];this.set(o[0],o[1])}}M.prototype.clear=function vn(){this.__data__=K?K(null):{},this.size=0},M.prototype.delete=function Fn(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},M.prototype.get=function xn(t){var r=this.__data__;if(K){var n=r[t];return"__lodash_hash_undefined__"===n?void 0:n}return wn.call(r,t)?r[t]:void 0},M.prototype.has=function On(t){var r=this.__data__;return K?void 0!==r[t]:En.call(r,t)},M.prototype.set=function An(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=K&&void 0===r?"__lodash_hash_undefined__":r,this};const Fe=M,Z=function Gn(t,r){var n=t.__data__;return function Bn(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t}(r)?n["string"==typeof r?"string":"hash"]:n.map};function D(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var o=t[r];this.set(o[0],o[1])}}D.prototype.clear=function Mn(){this.size=0,this.__data__={hash:new Fe,map:new(z||Q),string:new Fe}},D.prototype.delete=function Un(t){var r=Z(this,t).delete(t);return this.size-=r?1:0,r},D.prototype.get=function Vn(t){return Z(this,t).get(t)},D.prototype.has=function Yn(t){return Z(this,t).has(t)},D.prototype.set=function Kn(t,r){var n=Z(this,t),o=n.size;return n.set(t,r),this.size+=n.size==o?0:1,this};const Jn=D;function B(t){var r=this.__data__=new Q(t);this.size=r.size}B.prototype.clear=function jt(){this.__data__=new Q,this.size=0},B.prototype.delete=function wt(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n},B.prototype.get=function St(t){return this.__data__.get(t)},B.prototype.has=function Et(t){return this.__data__.has(t)},B.prototype.set=function Qn(t,r){var n=this.__data__;if(n instanceof Q){var o=n.__data__;if(!z||o.length<199)return o.push([t,r]),this.size=++n.size,this;n=this.__data__=new Jn(o)}return n.set(t,r),this.size=n.size,this};const qn=B;var nr=function(){try{var t=S(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Ce=nr,je=function rr(t,r,n){"__proto__"==r&&Ce?Ce(t,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[r]=n};var ir=Object.prototype.hasOwnProperty;const Te=function sr(t,r,n){var o=t[r];(!ir.call(t,r)||!i(o,n)||void 0===n&&!(r in t))&&je(t,r,n)},q=function ar(t,r,n,o){var s=!n;n||(n={});for(var d=-1,u=r.length;++d<u;){var _=r[d],k=o?o(n[_],t[_],_,n,t):void 0;void 0===k&&(k=t[_]),s?je(n,_,k):Te(n,_,k)}return n},X=function dr(t){return null!=t&&"object"==typeof t},we=function pr(t){return X(t)&&"[object Arguments]"==H(t)};var xe=Object.prototype,fr=xe.hasOwnProperty,br=xe.propertyIsEnumerable,hr=we(function(){return arguments}())?we:function(t){return X(t)&&fr.call(t,"callee")&&!br.call(t,"callee")};const gr=hr,ne=Array.isArray;var Se="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ie=Se&&"object"==typeof module&&module&&!module.nodeType&&module,Ee=Ie&&Ie.exports===Se?C.Buffer:void 0;const Oe=(Ee?Ee.isBuffer:void 0)||function mr(){return!1};var jr=/^(?:0|[1-9]\d*)$/;const wr=function Tr(t,r){var n=typeof t;return!!(r=r??9007199254740991)&&("number"==n||"symbol"!=n&&jr.test(t))&&t>-1&&t%1==0&&t<r},Pe=function Sr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Arguments]"]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b["[object Map]"]=b["[object Number]"]=b["[object Object]"]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object WeakMap]"]=!1;const re=function to(t){return function(r){return t(r)}};var Ne="object"==typeof exports&&exports&&!exports.nodeType&&exports,J=Ne&&"object"==typeof module&&module&&!module.nodeType&&module,oe=J&&J.exports===Ne&&_e.process;const $=function(){try{return J&&J.require&&J.require("util").types||oe&&oe.binding&&oe.binding("util")}catch{}}();var Ae=$&&$.isTypedArray;const io=Ae?re(Ae):function qr(t){return X(t)&&Pe(t.length)&&!!b[H(t)]};var ao=Object.prototype.hasOwnProperty;const Re=function co(t,r){var n=ne(t),o=!n&&gr(t),s=!n&&!o&&Oe(t),d=!n&&!o&&!s&&io(t),u=n||o||s||d,_=u?function cr(t,r){for(var n=-1,o=Array(t);++n<t;)o[n]=r(n);return o}(t.length,String):[],k=_.length;for(var y in t)(r||ao.call(t,y))&&(!u||!("length"==y||s&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||wr(y,k)))&&_.push(y);return _};var lo=Object.prototype;const ie=function uo(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||lo)},Me=function po(t,r){return function(n){return t(r(n))}},bo=Me(Object.keys,Object);var go=Object.prototype.hasOwnProperty;const De=function yo(t){return null!=t&&Pe(t.length)&&!ve(t)},se=function vo(t){return De(t)?Re(t):function _o(t){if(!ie(t))return bo(t);var r=[];for(var n in Object(t))go.call(t,n)&&"constructor"!=n&&r.push(n);return r}(t)};var wo=Object.prototype.hasOwnProperty;const So=function xo(t){if(!Y(t))return function Co(t){var r=[];if(null!=t)for(var n in Object(t))r.push(n);return r}(t);var r=ie(t),n=[];for(var o in t)"constructor"==o&&(r||!wo.call(t,o))||n.push(o);return n},ae=function Io(t){return De(t)?Re(t,!0):So(t)};var Be="object"==typeof exports&&exports&&!exports.nodeType&&exports,$e=Be&&"object"==typeof module&&module&&!module.nodeType&&module,Ge=$e&&$e.exports===Be?C.Buffer:void 0,Ue=Ge?Ge.allocUnsafe:void 0;const Le=function $o(){return[]};var Uo=Object.prototype.propertyIsEnumerable,Ve=Object.getOwnPropertySymbols,Lo=Ve?function(t){return null==t?[]:(t=Object(t),function Do(t,r){for(var n=-1,o=null==t?0:t.length,s=0,d=[];++n<o;){var u=t[n];r(u,n,t)&&(d[s++]=u)}return d}(Ve(t),function(r){return Uo.call(t,r)}))}:Le;const ce=Lo,He=function Yo(t,r){for(var n=-1,o=r.length,s=t.length;++n<o;)t[s+n]=r[n];return t},Ye=Me(Object.getPrototypeOf,Object);var Xo=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)He(r,ce(t)),t=Ye(t);return r}:Le;const ze=Xo,Ke=function Qo(t,r,n){var o=r(t);return ne(t)?o:He(o,n(t))},qo=function Zo(t){return Ke(t,se,ce)},ti=function ei(t){return Ke(t,ae,ze)},le=S(C,"DataView"),de=S(C,"Promise"),ue=S(C,"Set"),pe=S(C,"WeakMap");var Xe="[object Map]",Je="[object Promise]",We="[object Set]",Qe="[object WeakMap]",Ze="[object DataView]",ai=x(le),ci=x(z),li=x(de),di=x(ue),ui=x(pe),I=H;(le&&I(new le(new ArrayBuffer(1)))!=Ze||z&&I(new z)!=Xe||de&&I(de.resolve())!=Je||ue&&I(new ue)!=We||pe&&I(new pe)!=Qe)&&(I=function(t){var r=H(t),n="[object Object]"==r?t.constructor:void 0,o=n?x(n):"";if(o)switch(o){case ai:return Ze;case ci:return Xe;case li:return Je;case di:return We;case ui:return Qe}return r});const fe=I;var fi=Object.prototype.hasOwnProperty;const qe=C.Uint8Array,be=function _i(t){var r=new t.constructor(t.byteLength);return new qe(r).set(new qe(t)),r};var vi=/\w*$/;var et=R?R.prototype:void 0,tt=et?et.valueOf:void 0;const Ki=function zi(t,r,n){var o=t.constructor;switch(r){case"[object ArrayBuffer]":return be(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function mi(t,r){var n=r?be(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Ti(t,r){var n=r?be(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function ki(t){var r=new t.constructor(t.source,vi.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function Ci(t){return tt?Object(tt.call(t)):{}}(t)}};var nt=Object.create,Xi=function(){function t(){}return function(r){if(!Y(r))return{};if(nt)return nt(r);t.prototype=r;var n=new t;return t.prototype=void 0,n}}();const Ji=Xi;var rt=$&&$.isMap;const ns=rt?re(rt):function qi(t){return X(t)&&"[object Map]"==fe(t)};var ot=$&&$.isSet;const as=ot?re(ot):function os(t){return X(t)&&"[object Set]"==fe(t)};var it="[object Arguments]",st="[object Function]",at="[object Object]",f={};f[it]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object DataView]"]=f["[object Boolean]"]=f["[object Date]"]=f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Map]"]=f["[object Number]"]=f[at]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object Symbol]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Error]"]=f[st]=f["[object WeakMap]"]=!1;const As=function ee(t,r,n,o,s,d){var u,_=1&r,k=2&r,y=4&r;if(n&&(u=s?n(t,o,s,d):n(t)),void 0!==u)return u;if(!Y(t))return t;var W=ne(t);if(W){if(u=function bi(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&fi.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!_)return function Ro(t,r){var n=-1,o=t.length;for(r||(r=Array(o));++n<o;)r[n]=t[n];return r}(t,u)}else{var G=fe(t),ht=G==st||"[object GeneratorFunction]"==G;if(Oe(t))return function No(t,r){if(r)return t.slice();var n=t.length,o=Ue?Ue(n):new t.constructor(n);return t.copy(o),o}(t,_);if(G==at||G==it||ht&&!s){if(u=k||ht?{}:function Wi(t){return"function"!=typeof t.constructor||ie(t)?{}:Ji(Ye(t))}(t),!_)return k?function Jo(t,r){return q(t,ze(t),r)}(t,function Eo(t,r){return t&&q(r,ae(r),t)}(u,t)):function Vo(t,r){return q(t,ce(t),r)}(t,function ko(t,r){return t&&q(r,se(r),t)}(u,t))}else{if(!f[G])return s?t:{};u=Ki(t,G,_)}}d||(d=new qn);var gt=d.get(t);if(gt)return gt;d.set(t,u),as(t)?t.forEach(function(w){u.add(ee(w,r,n,w,t,d))}):ns(t)&&t.forEach(function(w,E){u.set(E,ee(w,r,n,E,t,d))});var _t=W?void 0:(y?k?ti:qo:k?ae:se)(t);return function er(t,r){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==r(t[n],n,t););}(_t||t,function(w,E){_t&&(w=t[E=w]),Te(u,E,ee(w,r,n,E,t,d))}),u};var ct=p(6697),$s=p(8660),e=p(7705),Gs=p(778),lt=p(1822),he=p(8228),Us=p(8256),dt=p(9375),Ls=p(2510),Vs=p(6295),ut=p(9726),pt=p(9213);function Hs(t,r){1&t&&(e.j41(0,"div",7),e.EFF(1," No feedback on record\n"),e.k0s())}function Ys(t,r){if(1&t){const n=e.RV6();e.j41(0,"div",0),e.nrm(1,"input",48),e.j41(2,"input",49),e.bIt("change",function(){e.eBV(n);const s=e.XpG().index,d=e.XpG(2);return e.Njj(d.gradeChanged(s))}),e.k0s(),e.nrm(3,"input",50),e.j41(4,"input",51),e.bIt("change",function(){e.eBV(n);const s=e.XpG().index,d=e.XpG(2);return e.Njj(d.gradeChanged(s))}),e.k0s()()}}function zs(t,r){if(1&t){const n=e.RV6();e.j41(0,"div",37),e.nrm(1,"input",38)(2,"app-text-input",39)(3,"input",40),e.j41(4,"input",41),e.bIt("change",function(){const d=e.eBV(n).index,u=e.XpG(2);return e.Njj(u.gradeChanged(d))}),e.k0s(),e.nrm(5,"input",42),e.j41(6,"input",43),e.bIt("change",function(){const d=e.eBV(n).index,u=e.XpG(2);return e.Njj(u.gradeChanged(d))}),e.k0s(),e.DNE(7,Ys,5,0,"div",44),e.j41(8,"div",45),e.nrm(9,"app-text-input",46),e.k0s(),e.j41(10,"button",47),e.bIt("click",function(){const d=e.eBV(n).index,u=e.XpG(2);return e.Njj(u.removeFeedbackItem(d))}),e.k0s()()}if(2&t){const n=r.index;e.Y8G("formGroupName",n),e.R7$(2),e.Y8G("label","Question"),e.R7$(5),e.Y8G("ngIf",n<8),e.R7$(1),e.Y8G("ngClass",n<8?"":"mL215"),e.R7$(1),e.Y8G("label","Remarks")}}const ft=function(){return{dateInputFormat:"YYYY-MM-DD"}};function Ks(t,r){if(1&t){const n=e.RV6();e.j41(0,"div",8)(1,"form",9)(2,"div",10)(3,"label",11),e.EFF(4,"Customer Name"),e.k0s(),e.j41(5,"div",12),e.EFF(6),e.k0s(),e.j41(7,"label",11),e.EFF(8,"Feedback No"),e.k0s(),e.j41(9,"div",13),e.EFF(10),e.k0s(),e.nrm(11,"br"),e.j41(12,"label",11),e.EFF(13,"Official Name"),e.k0s(),e.j41(14,"div",12),e.EFF(15),e.k0s(),e.j41(16,"label",11),e.EFF(17,"Designation"),e.k0s(),e.j41(18,"div",14),e.EFF(19),e.k0s(),e.nrm(20,"br"),e.j41(21,"label",11),e.EFF(22,"Email"),e.k0s(),e.j41(23,"div",14),e.EFF(24),e.k0s(),e.j41(25,"label",15),e.EFF(26,"Phone No"),e.k0s(),e.j41(27,"div",16),e.EFF(28),e.k0s(),e.j41(29,"label",17),e.EFF(30,"Grade"),e.k0s(),e.j41(31,"div",14),e.EFF(32),e.k0s()(),e.j41(33,"div",18)(34,"div",19)(35,"label",20),e.EFF(36,"Feedback History"),e.k0s(),e.j41(37,"ng-select",21),e.bIt("change",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.feedbackIdChanged(s.feedback.id))}),e.k0s(),e.j41(38,"button",22),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.showFeedback())}),e.j41(39,"mat-icon"),e.EFF(40,"search"),e.k0s()(),e.j41(41,"button",23),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.newFeedback())}),e.j41(42,"mat-icon"),e.EFF(43,"add_circle_outline"),e.k0s()(),e.j41(44,"button",24),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.sendEmail())}),e.j41(45,"mat-icon"),e.EFF(46,"mail"),e.k0s()(),e.j41(47,"button",25),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.generatePDF())}),e.j41(48,"mat-icon"),e.EFF(49,"print"),e.k0s()(),e.nrm(50,"hr"),e.j41(51,"label",26),e.EFF(52,"Issued On"),e.k0s(),e.nrm(53,"input",27),e.j41(54,"label",28),e.EFF(55,"Received On"),e.k0s(),e.nrm(56,"input",29),e.k0s()(),e.nrm(57,"hr",30),e.j41(58,"label",31),e.EFF(59,"Sr#"),e.k0s(),e.j41(60,"label",32),e.EFF(61,"Parameter"),e.k0s(),e.j41(62,"label",33),e.EFF(63,"Response"),e.k0s(),e.j41(64,"label",34),e.EFF(65,"Remarks"),e.k0s(),e.nrm(66,"hr",30),e.j41(67,"div",35),e.DNE(68,zs,11,5,"div",36),e.k0s()()()}if(2&t){const n=e.XpG();e.R7$(1),e.Y8G("formGroup",n.form),e.R7$(5),e.Lme(" ",n.feedback.customerName,", ",n.feedback.city,""),e.R7$(4),e.JRh(n.feedback.feedbackNo),e.R7$(5),e.SpI(" ",n.feedback.officialName,""),e.R7$(4),e.SpI(" ",n.feedback.designation,""),e.R7$(5),e.SpI(" ",n.feedback.email,""),e.R7$(4),e.SpI(" ",n.feedback.phoneNo,""),e.R7$(4),e.SpI(" ",n.feedback.gradeAssessedByClient,""),e.R7$(5),e.Y8G("items",n.feedbackHistory),e.R7$(1),e.Y8G("disabled",0===(null==n.feedbackHistory?null:n.feedbackHistory.length)),e.R7$(3),e.Y8G("disabled",0===n.feedback.id),e.R7$(6),e.Y8G("previewOnly",!1)("useExistingCss",!0),e.R7$(6),e.Y8G("bsValue",n.bsValueDate)("bsConfig",e.lJ4(19,ft)),e.R7$(3),e.Y8G("bsValue",n.bsValueDate)("bsConfig",e.lJ4(20,ft)),e.R7$(12),e.Y8G("ngForOf",n.feedbackItems.controls)}}function Xs(t,r){1&t&&(e.j41(0,"mat-icon"),e.EFF(1,"check"),e.k0s())}function Js(t,r){1&t&&(e.j41(0,"mat-icon"),e.EFF(1,"check"),e.k0s())}function Ws(t,r){1&t&&(e.j41(0,"mat-icon"),e.EFF(1,"check"),e.k0s())}function Qs(t,r){1&t&&(e.j41(0,"mat-icon"),e.EFF(1,"check"),e.k0s())}function Zs(t,r){if(1&t&&(e.j41(0,"div")(1,"div",62),e.EFF(2),e.k0s(),e.j41(3,"div",63),e.EFF(4),e.k0s(),e.j41(5,"div",64),e.EFF(6),e.k0s(),e.j41(7,"div",65),e.DNE(8,Xs,2,0,"mat-icon",66),e.k0s(),e.j41(9,"div",64),e.EFF(10),e.k0s(),e.j41(11,"div",65),e.DNE(12,Js,2,0,"mat-icon",66),e.k0s(),e.j41(13,"div",64),e.EFF(14),e.k0s(),e.j41(15,"div",65),e.DNE(16,Ws,2,0,"mat-icon",66),e.k0s(),e.j41(17,"div",64),e.EFF(18),e.k0s(),e.j41(19,"div",65),e.DNE(20,Qs,2,0,"mat-icon",66),e.k0s(),e.j41(21,"div",67),e.EFF(22),e.k0s()()),2&t){const n=r.$implicit;e.R7$(2),e.JRh(n.questionNo),e.R7$(2),e.JRh(n.question),e.R7$(2),e.JRh(n.prompt1),e.R7$(2),e.Y8G("ngIf","20"===n.response),e.R7$(2),e.JRh(n.prompt2),e.R7$(2),e.Y8G("ngIf","15"===n.response),e.R7$(2),e.JRh(n.prompt3),e.R7$(2),e.Y8G("ngIf","10"===n.response),e.R7$(2),e.JRh(n.prompt4),e.R7$(2),e.Y8G("ngIf","5"===n.response),e.R7$(2),e.JRh(n.remarks)}}function qs(t,r){if(1&t&&(e.j41(0,"div",52)(1,"div",53),e.EFF(2),e.k0s(),e.j41(3,"div",54),e.EFF(4),e.k0s(),e.j41(5,"div",54),e.EFF(6),e.k0s(),e.j41(7,"div",55),e.EFF(8,"Feedback Form"),e.k0s(),e.j41(9,"div",56)(10,"label",11),e.EFF(11,"Customer Name"),e.k0s(),e.j41(12,"div",12),e.EFF(13),e.k0s(),e.j41(14,"label",11),e.EFF(15,"Feedback No"),e.k0s(),e.j41(16,"div",13),e.EFF(17),e.k0s(),e.nrm(18,"br"),e.j41(19,"label",11),e.EFF(20,"Official Name"),e.k0s(),e.j41(21,"div",12),e.EFF(22),e.k0s(),e.j41(23,"label",26),e.EFF(24,"Designation"),e.k0s(),e.j41(25,"div",12),e.EFF(26),e.k0s(),e.nrm(27,"br"),e.j41(28,"label",11),e.EFF(29,"Email"),e.k0s(),e.j41(30,"div",12),e.EFF(31),e.k0s(),e.j41(32,"label",11),e.EFF(33,"Phone No"),e.k0s(),e.j41(34,"div",14),e.EFF(35),e.k0s(),e.j41(36,"label",17),e.EFF(37,"Grade"),e.k0s(),e.j41(38,"div",14),e.EFF(39),e.k0s(),e.nrm(40,"br"),e.j41(41,"label",11),e.EFF(42,"Issued On"),e.k0s(),e.j41(43,"div",57),e.EFF(44),e.nI1(45,"date"),e.k0s(),e.j41(46,"label",28),e.EFF(47,"Received On"),e.k0s(),e.j41(48,"div",57),e.EFF(49),e.nI1(50,"date"),e.k0s()(),e.nrm(51,"hr",30),e.j41(52,"label",31),e.EFF(53,"Sr#"),e.k0s(),e.j41(54,"label",58),e.EFF(55,"Parameter"),e.k0s(),e.j41(56,"label",33),e.EFF(57,"Response"),e.k0s(),e.j41(58,"label",59),e.EFF(59,"Remarks"),e.k0s(),e.nrm(60,"hr",30),e.DNE(61,Zs,23,11,"div",60),e.j41(62,"div",61),e.EFF(63),e.k0s()()),2&t){const n=e.XpG();e.R7$(2),e.JRh(null==n.user?null:n.user.employer),e.R7$(2),e.JRh(null==n.user?null:n.user.address),e.R7$(2),e.Lme("",null==n.user?null:n.user.city,", ",null==n.user?null:n.user.country,""),e.R7$(7),e.Lme(" ",n.feedbackForPrint.customerName,", ",n.feedbackForPrint.city,""),e.R7$(4),e.JRh(n.feedbackForPrint.feedbackNo),e.R7$(5),e.SpI(" ",n.feedbackForPrint.officialName,""),e.R7$(4),e.SpI(" ",n.feedbackForPrint.designation,""),e.R7$(5),e.SpI(" ",n.feedbackForPrint.email,""),e.R7$(4),e.SpI(" ",n.feedbackForPrint.phoneNo,""),e.R7$(4),e.SpI(" ",n.feedbackForPrint.gradeAssessedByClient,""),e.R7$(5),e.JRh(e.i5U(45,16,n.feedbackForPrint.dateIssued,"dd-MMM-yyyy")),e.R7$(5),e.JRh(e.i5U(50,19,n.feedbackForPrint.dateReceived,"dd-MMM-yyyy")),e.R7$(12),e.Y8G("ngForOf",n.feedbackForPrint.feedbackItems),e.R7$(2),e.SpI("",n.calculatePercentage()," %")}}let ea=(()=>{class t{constructor(n,o,s,d,u,_,k){this.fb=n,this.confirm=o,this.activatedRoute=s,this.accountService=d,this.service=u,this.toastr=_,this.router=k,this.bsValueDate=new Date,this.bsValue=new Date,this.feedbackHistory=[],this.feedbackIdSelected=-1,this.lastFeedbackIdSelected=-1,this.RAName="",this.isPrintPDF=!1,this.printTitle="",this.form=new m.gE({}),this.returnUrl="";let y=this.router.getCurrentNavigation();y?.extras&&y.extras.state&&(y.extras.state.returnUrl&&(this.returnUrl=y.extras.state.returnUrl),y.extras.state.user&&(this.user=y.extras.state.user)),void 0===this.user&&this.accountService.currentUser$.pipe((0,ct.s)(1)).subscribe({next:W=>{null!==W&&(this.user=W)}})}ngOnInit(){this.activatedRoute.data.subscribe({next:n=>{this.feedback=n.feedback,this.feedbackHistory=n.history,this.feedback&&this.InitializeForm(this.feedback)},error:n=>{console.log("error:",n),this.toastr.error(n.error?.details,"Error encountered")}})}InitializeForm(n){console.log("feedbk:",n),this.form=this.fb.group({id:n.id,customerId:n.customerId,customerName:n.customerName,city:n.city,officialName:n.officialName,designation:n.designation,email:n.email,phoneNo:n.phoneNo,dateIssued:n.dateIssued,dateReceived:n.dateReceived,gradeAssessedByClient:n.gradeAssessedByClient,customerSuggestion:n.customerSuggestion,feedbackNo:n.feedbackNo,feedbackItems:this.fb.array(n.feedbackItems.map(o=>this.fb.group({id:o.id,customerFeedbackId:o.customerFeedbackId,feedbackGroup:o.feedbackGroup,questionNo:o.questionNo,question:[o.question,m.k0.required],response:[o.response],prompt1:[o.prompt1,m.k0.required],prompt2:[o.prompt2,m.k0.required],prompt3:[o.prompt3],prompt4:o.prompt4,remarks:o.remarks})))})}get feedbackItems(){return this.form.get("feedbackItems")}newFeedbackItem(){var n=this.feedbackItems.at(this.feedbackItems.length-1);return this.fb.group({id:0,customerFeedbackId:this.feedback?.id,questionNo:n.get("questionNo")?.value+1,question:"",isMandatory:!1,prompt1:"",prompt2:"",prompt3:"",prompt4:"",remarks:"",response:""})}addNewFeedbackItem(){this.feedbackItems.push(this.newFeedbackItem)}removeFeedbackItem(n){this.confirm.confirm("Are you sure you want to delete this record?","confirm Delete").subscribe({next:o=>{o&&this.feedbackItems.removeAt(n)}})}updateFeedback(){"0"===this.form.get("feedbackNo")?.value?this.editFeedback():this.saveNewFeedback()}editFeedback(){this.service.updateFeedback(this.form.value).subscribe({next:n=>{Number(n)?this.toastr.success("Feedback updated","Success"):this.toastr.warning("Failed to update the feedback","Failed")},error:n=>this.toastr.error(n.error.details,"Error")})}saveNewFeedback(){this.service.saveNewFeedback(this.form.value).subscribe({next:n=>{null!==n?(this.form.get("id")?.setValue(n.id),this.form.get("feedbackNo")?.setValue(n.feedbackNo),this.toastr.success("Feedback inserted into the database","Success")):this.toastr.warning("Failed to update the new feedback","Failed")},error:n=>this.toastr.error(n.error.details,"Error encountered")})}generateLinkForAddresses(){}close(){this.router.navigateByUrl(this.returnUrl)}gradeChanged(n){var s=100*this.feedbackItems.value.map(u=>+u.response).reduce((u,_)=>u+_,0)/(20*this.feedback.feedbackItems.length),d=s>90?"A+":s>80?"A":s>70?"B+":s>60?"B":s>50?"C":"D";this.form.get("gradeAssessedByClient")?.setValue(d+"("+Math.round(s)+"%)")}showFeedback(){this.feedbackIdSelected===this.lastFeedbackIdSelected&&-1===this.feedbackIdSelected||(this.service.getFeedbackObject(this.feedbackIdSelected,0).subscribe({next:n=>{this.feedback=n,this.InitializeForm(this.feedback)}}),this.lastFeedbackIdSelected=this.feedbackIdSelected)}newFeedback(){if(0===this.feedback.customerId)return;const n=function Ds(t){return As(t,5)}(this.feedback);n.feedbackNo=0,this.form.get("feedbackNo")?.setValue(0),this.InitializeForm(n)}sendEmail(){0!==this.feedback.id?this.service.sendFeedbackMail(this.feedback.id).subscribe({next:n=>{""===n||null===n?this.toastr.success("Feedback mail composed, and can be viewed in messages","Message composed"):this.toastr.info(n,"Failed to compose message")},error:n=>{this.toastr.error(n.error.details,"Error in composing email message")}}):this.toastr.warning("This feedback needs to be saved before its link can be forwarded to the customer","feedback not saved")}generatePDF(){this.isPrintPDF=!this.isPrintPDF,this.printTitle=this.feedback?.customerName+", "+this.feedback?.city+", "+this.feedback?.country+" dated "+(0,$s.n)(this.feedback?.dateSent),this.feedbackForPrint=this.form.value}feedbackIdChanged(n){this.service.getFeedbackWithItems(n).subscribe({next:o=>this.feedback=o})}calculatePercentage(){return this.feedbackItems.value.map(o=>+o.response).reduce((o,s)=>o+s,0)/(20*this.feedbackItems.length)}static#e=this.\u0275fac=function(o){return new(o||t)(e.rXU(m.ok),e.rXU(Gs.G),e.rXU(j.nX),e.rXU(lt.D),e.rXU(he.n),e.rXU(Us.tw),e.rXU(j.Ix))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-feedback"]],decls:12,vars:4,consts:[[1,"stdd"],[1,"btn","mL600",2,"color","aliceblue",3,"disabled","click"],[1,"btn","mx-15",2,"color","aliceblue","margin-left","50px",3,"click"],["class","my-5",4,"ngIf"],["style","margin-left: 15px; display: inline-block;",4,"ngIf"],[1,"my-0"],["style","margin-left: 15px; display: inline-block;","id","print-section",4,"ngIf"],[1,"my-5"],[2,"margin-left","15px","display","inline-block"],[3,"formGroup"],[1,"col-6",2,"vertical-align","top","display","inline-block","vertical-align","top","border-style","inset","border-color","blue"],[1,"lbl","w125","fSmall","b"],[1,"stdd","w250","fSmall"],[1,"stdd","w100","fSmall"],[1,"stdd","w150","fSmall"],[1,"lbl","w100","fSmall","b"],[1,"stdd","w125","fSmall"],[1,"lbl","w50","fSmall","b",2,"margin-left","5px"],[1,"col-6",2,"vertical-align","top","border-style","groove","border-color","yellow","display","inline-block"],[2,"vertical-align","top","display","inline-block","margin-left","15px"],[2,"display","inline-block","width","150px","font-weight","bold","margin","0 2px 0 2px"],["bindLabel","feedbackIssueDate","bindValue","feedbackId","labelForId","feedbackId","clearAllText","Clear",2,"width","200px","display","inline-block",3,"items","change"],["title","click to display the selected Feedback",1,"btn",3,"disabled","click"],["title","click to add a new feedback for the customer",1,"btn",3,"disabled","click"],["title","click send the current Feedback link to the customer",1,"btn",3,"click"],["printSectionId","print-section","printTitle","printTitle","ngxPrint","","title","shows the report in pdf format and enables printing","title","print pdf for current category Ref",2,"display","inline-block",3,"previewOnly","useExistingCss","click"],[1,"lbl","w150","fSmall","b"],["type","text","placeholder","Issued On","formControlName","dateIssued","bsDatepicker","",1,"stdd","fSmall","w100",3,"bsValue","bsConfig"],[1,"lbl","w100","fSmall","b",2,"margin-left","50px !important"],["type","text","placeholder","Received On","formControlName","dateReceived","bsDatepicker","",1,"stdd","fSmall","w100",3,"bsValue","bsConfig"],[1,"my-0",2,"border-width","2px","border-color","black"],[1,"lbl","fSmaller","b","w35"],[1,"lbl","fSmaller","b","w500"],[1,"lbl","fSmaller","b","w175"],[1,"lbl","fSmaller","b","w250",2,"margin-left","200px !important"],["formArrayName","feedbackItems",1,"my-1"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["type","text","formControlName","questionNo",1,"stdd","w25","fSmaller",2,"background-color","darkgrey","text-align","right","padding-right","1px"],["formControlName","question",1,"stdd","w500",2,"word-wrap","break-word","vertical-align","top",3,"label"],["type","text","formControlName","prompt1",1,"prompt","w75"],["type","radio","id","i","value","20","checked","response==='20'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["type","text","formControlName","prompt2",1,"prompt","w50"],["type","radio","id","i","value","15","checked","response==='15'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["class","stdd",4,"ngIf"],[1,"stdd","w200",3,"ngClass"],["formControlName","remarks",3,"label"],[1,"btn","fa","fa-trash","red",3,"click"],["type","text","formControlName","prompt3",1,"prompt","w75"],["type","radio","id","i","value","10","checked","response==='10'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["type","text","formControlName","prompt4",1,"prompt","w75"],["type","radio","id","i","value","5","checked","response==='5'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["id","print-section",2,"margin-left","15px","display","inline-block"],[2,"font-size","medium","font-weight","bold"],[2,"font-size","medium"],[2,"font-size","larger","font-weight","bold"],[2,"border-style","inset","border-color","blue"],[1,"stdd","fSmall","w100"],[1,"lbl","fSmaller","b","w250"],[1,"lbl","fSmaller","b","w150",2,"margin-left","100px !important"],[4,"ngFor","ngForOf"],[2,"margin-left","550px"],[1,"stdd","w35","fSmaller"],[1,"stdd","w250","fSmaller"],[1,"prompt"],[1,"matIcon"],[4,"ngIf"],[1,"stdd","w150","fSmaller"]],template:function(o,s){1&o&&(e.j41(0,"h4",0),e.EFF(1,"Customer Feedback"),e.k0s(),e.j41(2,"button",1),e.bIt("click",function(){return s.updateFeedback()}),e.j41(3,"mat-icon"),e.EFF(4,"save"),e.k0s()(),e.j41(5,"button",2),e.bIt("click",function(){return s.close()}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()(),e.DNE(8,Hs,2,0,"div",3),e.DNE(9,Ks,69,21,"div",4),e.nrm(10,"hr",5),e.DNE(11,qs,64,22,"div",6)),2&o&&(e.R7$(2),e.Y8G("disabled",!s.form.dirty),e.R7$(6),e.Y8G("ngIf",!s.feedback),e.R7$(1),e.Y8G("ngIf",s.feedback),e.R7$(2),e.Y8G("ngIf",s.feedbackForPrint&&s.isPrintPDF))},dependencies:[l.YU,l.Sq,l.bT,dt.pc,dt.p0,m.qT,m.me,m.Fm,m.BC,m.cb,m.j4,m.JD,m.$R,m.v8,Ls.vr,Vs.f,ut.GV,pt.An,l.vh],styles:['.lbl[_ngcontent-%COMP%]{display:inline-block;margin:0 1px;padding:0;font-weight:700;vertical-align:top;word-wrap:normal}.stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 1px;vertical-align:top;padding:0;word-wrap:normal}.btn[_ngcontent-%COMP%]{color:#f0f8ff;margin:0;padding:0;font-size:small;display:inline-block}.hist[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;color:#00008b;font-size:small}.fSmall[_ngcontent-%COMP%]{font-size:small}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.mL215[_ngcontent-%COMP%]{margin-left:215px}.mL600[_ngcontent-%COMP%]{margin-left:600px!important}.mL50[_ngcontent-%COMP%]{margin-left:50px!important}.cursorPointer[_ngcontent-%COMP%]{cursor:pointer;color:#00008b}.inputCheck[_ngcontent-%COMP%]{margin-right:5px;width:40px;margin-left:10px;border:2px;border-color:#000}input[type=radio][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:20px;height:20px;border:1px solid #fff;border-radius:50%;margin-right:10px;background-color:#c3b1b1;position:relative}input[type=radio][_ngcontent-%COMP%]:checked:before{content:"";display:block;width:8px;height:8px;background-color:#4a0fec;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);animation:appear .8s}md-content[_ngcontent-%COMP%]{position:absolute;height:100px}.prompt[_ngcontent-%COMP%]{font-size:smaller;font-family:Arial Narrow,Franklin Gothic Medium,Arial,sans-serif;margin:0 10px 0 5px;padding-bottom:4px;width:50px;display:inline-block;vertical-align:top}.matIcon[_ngcontent-%COMP%]{display:inline-block;font-size:x-small;margin:0 15px 0 2px;padding:0;width:15px;vertical-align:top}.w25[_ngcontent-%COMP%]{width:25px}.w35[_ngcontent-%COMP%]{width:35px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w90[_ngcontent-%COMP%]{width:90px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w175[_ngcontent-%COMP%]{width:175px}.w200[_ngcontent-%COMP%]{width:200px}.w250[_ngcontent-%COMP%]{width:250px}.w500[_ngcontent-%COMP%]{width:500px}']})}return t})(),ta=(()=>{class t{constructor(n,o){this.router=n,this.accountService=o,this.returnUrl="",this.accountService.currentUser$.pipe((0,ct.s)(1)).subscribe({next:d=>{d&&(this.user=d)}});let s=this.router.getCurrentNavigation();s?.extras&&s.extras.state&&(s.extras.state.returnUrl&&(this.returnUrl=s.extras.state.returnUrl),s.extras.state.user&&(this.user=s.extras.state.user))}ListClicked(){this.navigateByUrl("/feedback/list")}StddQsClicked(){}GoHomeClicked(){}navigateByUrl(n){this.router.navigate([n],{state:{user:this.user,returnUrl:"/feedback"}})}static#e=this.\u0275fac=function(o){return new(o||t)(e.rXU(j.Ix),e.rXU(lt.D))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-feedback-menu"]],decls:6,vars:0,consts:[[1,"container","d-flex","justify-contents-between","align-items-center","mt-5"],["routerLink","/feedback/list","title","Index of Feedbacks",1,"stdd"],["routerLink","/feedback/stddqs","title","Standard Feedback Questions",1,"stdd"],["routerLink","/administration","title","go back to home",1,"stdd","fa","fa-home","fa-2x"]],template:function(o,s){1&o&&(e.j41(0,"div",0)(1,"button",1),e.EFF(2,"List of Feedbacks"),e.k0s(),e.j41(3,"button",2),e.EFF(4,"Feedback Questions"),e.k0s(),e.nrm(5,"button",3),e.k0s())},dependencies:[j.Wk],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:medium;width:100px;word-wrap:normal;height:4em}"]})}return t})();var bt=p(7673);const oa=[{path:"",component:ta},{path:"list",component:U.J},{path:"edit/:id/:customerId",component:ea,resolve:{feedback:t=>{var r=t.paramMap.get("id")??"0",n=t.paramMap.get("customerId")??"0";return"0"===r&&"0"===n?(0,bt.of)(null):(0,e.WQX)(he.n).getFeedbackObject(+r,+n)},history:t=>{var r=t.paramMap.get("customerId")??"0";return"0"===r?(0,bt.of)(null):(0,e.WQX)(he.n).getFeedbackHistory(+r)}}}];let ia=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.$C({type:t});static#n=this.\u0275inj=e.G2t({imports:[l.MD,j.iI.forChild(oa),j.iI]})}return t})(),sa=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.$C({type:t});static#n=this.\u0275inj=e.G2t({imports:[l.MD,P.G,ia,ut.jN,pt.m_]})}return t})()},9726:(ge,O,p)=>{p.d(O,{GV:()=>m,jN:()=>L});var l=p(7705);let P=(()=>{class g{nonce;_printStyle=[];_styleSheetFile="";constructor(i){this.nonce=i}setPrintStyle(i){this._printStyle=[];for(let a in i)i.hasOwnProperty(a)&&this._printStyle.push((a+JSON.stringify(i[a])).replace(/['"]+/g,""))}returnStyleValues(){return`<style${this.nonce?` nonce="${this.nonce}"`:""}> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}returnStyleSheetLinkTags(){return this._styleSheetFile}setStyleSheetFile(i){const a=function(c){return`<link rel="stylesheet" type="text/css" href="${c}">`};if(-1!==i.indexOf(",")){const c=i.split(",");this._styleSheetFile=c.map(h=>a(h)).join("")}else this._styleSheetFile=a(i)}updateInputDefaults(i){for(let a=0;a<i.length;a++){const c=i[a];c.defaultValue=c.value,c.checked&&(c.defaultChecked=!0)}}updateSelectDefaults(i){for(let a=0;a<i.length;a++){const c=i[a];c.options[c.selectedIndex].defaultSelected=!0}}updateTextAreaDefaults(i){for(let a=0;a<i.length;a++){const c=i[a];c.defaultValue=c.value}}canvasToImageHtml(i){return`<img src="${i.toDataURL()}" style="max-width: 100%;">`}updateCanvasToImage(i){for(let a=0;a<i.length;a++){const c=this.canvasToImageHtml(i[a]);i[a].insertAdjacentHTML("afterend",c),i[a].remove()}}getHtmlContents(i){const a=document.getElementById(i);if(!a)return null;const c=a.getElementsByTagName("input"),h=a.getElementsByTagName("select"),F=a.getElementsByTagName("textarea"),T=a.getElementsByTagName("canvas");return this.updateInputDefaults(c),this.updateSelectDefaults(h),this.updateTextAreaDefaults(F),this.updateCanvasToImage(T),a.innerHTML}getElementTag(i){const a=[],c=document.getElementsByTagName(i);for(let h=0;h<c.length;h++)a.push(c[h].outerHTML);return a.join("\r\n")}print(i){let a="",c="",h="top=0,left=0,height=auto,width=auto";const F=this.getElementTag("base");i.useExistingCss&&(a=this.getElementTag("style"),c=this.getElementTag("link")),i.openNewTab&&(h="");const T=this.getHtmlContents(i.printSectionId);if(!T)return void console.error(`Print section with id ${i.printSectionId} not found.`);const N=window.open("","_blank",h);N?(N.document.open(),N.document.write(`\n          <html>\n            <head>\n              <title>${i.printTitle?i.printTitle:""}</title>\n              ${F}\n              ${this.returnStyleValues()}\n              ${this.returnStyleSheetLinkTags()}\n              ${a}\n              ${c}\n            </head>\n            <body ${i.bodyClass?`class="${i.bodyClass}"`:""}>\n              ${T}\n              <script defer>\n                function triggerPrint(event) {\n                  window.removeEventListener('load', triggerPrint, false);\n                  ${i.previewOnly?"":`setTimeout(function() {\n                    closeWindow(window.print());\n                  }, ${i.printDelay});`}\n                }\n                function closeWindow(){\n                  ${i.closeWindow?"window.close();":""}\n                }\n                window.addEventListener('load', triggerPrint, false);\n              <\/script>\n            </body>\n          </html>`),N.document.close()):console.error("Could not open print window.")}static \u0275fac=function(a){return new(a||g)(l.KVO(l.BIS,8))};static \u0275prov=l.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();class U{printSectionId="";printTitle="";useExistingCss=!1;bodyClass="";openNewTab=!1;previewOnly=!1;closeWindow=!0;printDelay=0;constructor(v){v&&Object.assign(this,v)}}let m=(()=>{class g extends P{printOptions=new U;set previewOnly(i){this.printOptions={...this.printOptions,previewOnly:i}}set printSectionId(i){this.printOptions={...this.printOptions,printSectionId:i}}set printTitle(i){this.printOptions={...this.printOptions,printTitle:i}}set useExistingCss(i){this.printOptions={...this.printOptions,useExistingCss:i}}set printDelay(i){this.printOptions={...this.printOptions,printDelay:i}}set closeWindow(i){this.printOptions={...this.printOptions,closeWindow:i}}set bodyClass(i){this.printOptions={...this.printOptions,bodyClass:i}}set openNewTab(i){this.printOptions={...this.printOptions,openNewTab:i}}set printStyle(i){super.setPrintStyle(i)}set styleSheetFile(i){super.setStyleSheetFile(i)}print(){super.print(this.printOptions)}static \u0275fac=function(){let i;return function(c){return(i||(i=l.xGo(g)))(c||g)}}();static \u0275dir=l.FsC({type:g,selectors:[["button","ngxPrint",""]],hostBindings:function(a,c){1&a&&l.bIt("click",function(){return c.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",closeWindow:"closeWindow",bodyClass:"bodyClass",openNewTab:"openNewTab",printStyle:"printStyle",styleSheetFile:"styleSheetFile"},standalone:!0,features:[l.Vt3]})}return g})(),L=(()=>{class g{static \u0275fac=function(a){return new(a||g)};static \u0275mod=l.$C({type:g});static \u0275inj=l.G2t({})}return g})()}}]);