"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[592],{4911:(A,g,e)=>{e.d(g,{D:()=>t});class t{constructor(){this.customerType="customer",this.customerCityName="",this.customerIndustryId=0,this.includeOfficials=!1,this.includeIndustries=!1,this.sort="name",this.pageNumber=1,this.pageSize=10,this.search=""}}},1730:(A,g,e)=>{e.d(g,{Y:()=>_});var t=e(9468),m=e(7450);const _=()=>(0,t.f3M)(m.v).getAgentIdAndNames()},3655:(A,g,e)=>{e.d(g,{h:()=>d});var t=e(9468),m=e(7328),_=e(2096),f=e(7398),p=e(5516),C=e(3976);class M{constructor(){this.id=0,this.professionName="",this.search="",this.pageNumber=1,this.pageSize=10}}var v=e(9862);let O=(()=>{class u{constructor(a){this.http=a,this.apiUrl=p.N.apiUrl,this.currentUserSource=new m.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.mParams=new M,this.professions=[],this.cache=new Map}getCategoryList(){return this.http.get(this.apiUrl+"Profession/professionlist")}getVendorFacilityList(){return this.http.get(this.apiUrl+"masters/VendorFacilityList")}getCategoriesPaged(a){const i=this.cache.get(Object.values(a).join("-"));if(i)return(0,_.of)(i);let c=(0,C.eO)(a);return(0,C.Tr)(this.apiUrl+"Profession",c,this.http).pipe((0,f.U)(R=>(this.cache.set(Object.values(a).join("-"),R),R)))}getCategory(a){let i;return this.cache.forEach(c=>{i=c.find(R=>R.id===a)}),i?(0,_.of)(i):this.http.get(this.apiUrl+"Profession/profession/"+a)}deleteCategory(a){return this.http.delete(this.apiUrl+"Profession/deletebyid/"+a)}updateCategory(a,i){return this.http.put(this.apiUrl+"Profession/edit",{id:a,name:i})}setParams(a){this.mParams=a}getParams(){return this.mParams}static#t=this.\u0275fac=function(i){return new(i||u)(t.LFG(v.eN))};static#e=this.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const d=()=>(0,t.f3M)(O).getCategoryList()},7450:(A,g,e)=>{e.d(g,{v:()=>O});var t=e(7328),m=e(2096),_=e(7398),f=e(5516),p=e(3976),C=e(4911),M=e(9468),v=e(9862);let O=(()=>{class d{constructor(n){this.http=n,this.apiUrl=f.N.apiUrl,this.currentUserSource=new t.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.custParams=new C.D,this.customerType="",this.customersBrief=[],this.cache=new Map}getCustomerNameFromId(n){if(this.customersBrief.length>0){var a=this.customersBrief.find(i=>i.id===n);if(null!==a)return(0,m.of)(a?.knownAs)}return this.http.get(this.apiUrl+"customers/customernamefromId/"+n)}getCustomers(n){const a=this.cache.get(Object.values(n).join("-"));if(a)return(0,m.of)(a);this.customerType=n.customerType??"customer";let i=(0,p.VY)(n);return(0,p.Tr)(this.apiUrl+"customers",i,this.http).pipe((0,_.U)(c=>(this.cache.set(Object.values(n).join("-"),c),c)))}getClientIdAndNames(){return this.http.get(this.apiUrl+"customers/clientidandnames/customer")}getCustomer(n){return this.http.get(this.apiUrl+"customers/byid/"+n)}register(n){return this.http.post(this.apiUrl+"customers",n)}getCustomerCities(n){return this.http.get(this.apiUrl+"customers/customercities/"+n)}deleteCustomer(n){return this.http.delete(this.apiUrl+"Customers/customer/"+n)}deleteCustomerOfficial(n){return this.http.delete(this.apiUrl+"Customers/official/"+n)}setParams(n){this.custParams=n}getParams(){return this.custParams}updateCustomer(n){return this.http.put(this.apiUrl+"customers/edit",n)}getAgents(){return this.http.get(this.apiUrl+"customers/agentdetails/associate")}getOfficialAndCustomerName(){return this.http.get(this.apiUrl+"customers/officialidandcustomernames/customer")}getOfficialAndAgentName(){return this.http.get(this.apiUrl+"customers/officialidandcustomernames/associate")}getAgentIdAndNames(){return this.http.get(this.apiUrl+"customers/clientidandnames/associate")}getCustomerAndCities(){return this.http.get(this.apiUrl+"customers/customerCities/customer")}remindClientForSelections(n){return this.http.get(this.apiUrl+"CVRef/selDecisionReminder/"+n)}getOrCreateCustomerReview(n){return this.http.get(this.apiUrl+"CustomerReview/getOrCreateObject/"+n)}static#t=this.\u0275fac=function(a){return new(a||d)(M.LFG(v.eN))};static#e=this.\u0275prov=M.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},1986:(A,g,e)=>{e.d(g,{Y:()=>R});var t=e(9468),m=e(2181),_=e(4664),f=e(6306),p=e(2096),C=e(2051),M=e(7411),v=e(3574),O=e(8763),d=e(6814),u=e(3593),n=e(95),a=e(8806);const i=function(){return{dateInputFormat:"YYYY-MM-DD"}};function c(h,U){if(1&h){const o=t.EpF();t.TgZ(0,"div",5)(1,"label",6),t._uU(2,"Person Name"),t.qZA(),t.TgZ(3,"label",6),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"label",6),t._uU(7,"Regd On"),t.qZA(),t.TgZ(8,"label",7),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"label",8),t._uU(12,"Status"),t.qZA(),t.TgZ(13,"ng-select",9),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].contactResult=r)}),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"label",10),t._uU(16,"Phone No"),t.qZA(),t.TgZ(17,"input",11),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].phoneNo=r)}),t.qZA(),t.TgZ(18,"label",8),t._uU(19,"Email"),t.qZA(),t.TgZ(20,"input",12),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].email=r)}),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"label",13),t._uU(23,"Contact On"),t.qZA(),t.TgZ(24,"input",14),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].dateOfContact=r)}),t.qZA(),t.TgZ(25,"label",8),t._uU(26,"Incoming/Outgoing"),t.qZA(),t.TgZ(27,"input",15),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].incomingOutgoing=r)}),t.qZA(),t._uU(28," In "),t.TgZ(29,"input",16),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].incomingOutgoing=r)}),t.qZA(),t._uU(30,"Out "),t.TgZ(31,"input",17),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].incomingOutgoing=r)}),t.qZA(),t._uU(32,"Both "),t._UZ(33,"br"),t.TgZ(34,"label",13),t._uU(35,"Summary of discussion"),t.qZA(),t.TgZ(36,"textarea",18),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].gistOfDiscussions=r)}),t.qZA(),t._UZ(37,"br"),t.TgZ(38,"label",19),t._uU(39,"Send Advisory By"),t.qZA(),t.TgZ(40,"input",20),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].advisoryBy=r)}),t.qZA(),t._uU(41,"Email "),t.TgZ(42,"input",21),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].advisoryBy=r)}),t.qZA(),t._uU(43,"SMS "),t.TgZ(44,"input",22),t.NdJ("ngModelChange",function(r){t.CHM(o);const s=t.oxw();return t.KtG(s.callRecord.callRecordItems[0].advisoryBy=r)}),t.qZA(),t._uU(45,"Both "),t.qZA()}if(2&h){const o=t.oxw();t.xp6(4),t.Oqu(o.callRecord.personName),t.xp6(5),t.Oqu(t.xi3(10,16,o.dateRegistered,"dd-MMM-yy")),t.xp6(4),t.Q6J("items",o.contactResults)("ngModel",o.callRecord.callRecordItems[0].contactResult),t.xp6(4),t.Q6J("ngModel",o.callRecord.callRecordItems[0].phoneNo),t.xp6(3),t.Q6J("ngModel",o.callRecord.callRecordItems[0].email),t.xp6(4),t.Q6J("ngModel",o.callRecord.callRecordItems[0].dateOfContact)("bsValue",o.bsValueDate)("bsConfig",t.DdM(19,i)),t.xp6(3),t.Q6J("ngModel",o.callRecord.callRecordItems[0].incomingOutgoing),t.xp6(2),t.Q6J("ngModel",o.callRecord.callRecordItems[0].incomingOutgoing),t.xp6(2),t.Q6J("ngModel",o.callRecord.callRecordItems[0].incomingOutgoing),t.xp6(5),t.Q6J("ngModel",o.callRecord.callRecordItems[0].gistOfDiscussions),t.xp6(4),t.Q6J("ngModel",o.callRecord.callRecordItems[0].advisoryBy),t.xp6(2),t.Q6J("ngModel",o.callRecord.callRecordItems[0].advisoryBy),t.xp6(2),t.Q6J("ngModel",o.callRecord.callRecordItems[0].advisoryBy)}}let R=(()=>{class h{constructor(o,l,r,s){this.bsModalRef=o,this.confirm=l,this.service=r,this.toastr=s,this.callRecordAddEvent=new t.vpe,this.contactResult="",this.dateRegistered=new Date,this.contactResults=[],this.bsValueDate=new Date,this.bsValue=new Date}ngOnInit(){this.callRecord&&(this.callRecord.callRecordItems[0].dateOfContact=new Date)}updateClicked(){const l=this.service.updateCallRecord(this.callRecord);this.confirm.confirm("confirm Update","confirm update this Call Record. ").pipe((0,m.h)(s=>s),(0,_.w)(s=>l),(0,f.K)(s=>(this.toastr.error(s,"Error in updating the record"),(0,p.of)()))).subscribe(s=>{s?(this.callRecordAddEvent.emit(s),this.bsModalRef.hide()):this.toastr.warning("Failed to update the Call Record")})}static#t=this.\u0275fac=function(l){return new(l||h)(t.Y36(C.UZ),t.Y36(M.z),t.Y36(v.C),t.Y36(O._W))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-call-record-add-modal"]],outputs:{callRecordAddEvent:"callRecordAddEvent"},decls:6,vars:1,consts:[[1,"modal-header"],[2,"display","inline-block"],["title","update the Call Record",1,"lbl","w35","btn","btn-success","fa","fa-check",2,"margin-left","400px !important",3,"click"],["title","Close",1,"lbl","btn","fa","fa-close","pull-right",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[1,"lbl","mL2mR2","w125"],[1,"stdd","mL2mR2","w125"],[1,"lbl","mL10mR2","w150"],["bindLabel","status","bindValue","status","labelForId","status",1,"stdd","w200",2,"height","fit-content","border-color","black",3,"items","ngModel","ngModelChange"],["mL2mR2","",1,"lbl","w125"],["type","text",1,"stdd","mL2mR2","w125",3,"ngModel","ngModelChange"],["type","text",1,"stdd","w200",3,"ngModel","ngModelChange"],[1,"lbl","w125"],["type","text","placeholder","Contacted On","name","dateOfContact","bsDatepicker","",1,"stdd","w125",3,"ngModel","bsValue","bsConfig","ngModelChange"],["type","radio","name","inout","id","inout","value","in",1,"stdd","w35",2,"vertical-align","middle !important",3,"ngModel","ngModelChange"],["type","radio","name","inout","id","inout","value","out",1,"stdd","w35",2,"vertical-align","middle !important",3,"ngModel","ngModelChange"],["type","radio","name","inout","id","inout","value","both",1,"stdd","w35",2,"vertical-align","middle !important",3,"ngModel","ngModelChange"],["name","disc","id","disc","cols","80","rows","2",1,"stdd",3,"ngModel","ngModelChange"],["title","sends an email or sms to the party, confirming this conversation, by mail or sms",1,"lbl","w125"],["type","radio","name","advisoryBy","id","advisoryBy","value","email",1,"stdd","w35",2,"vertical-align","middle !important",3,"ngModel","ngModelChange"],["type","radio","name","advisoryBy","id","advisoryBy","value","sms",1,"stdd","w35",2,"vertical-align","middle !important",3,"ngModel","ngModelChange"],["type","radio","name","advisoryBy","id","advisoryBy","value","both",1,"stdd","w35",2,"vertical-align","middle !important",3,"ngModel","ngModelChange"]],template:function(l,r){1&l&&(t.TgZ(0,"div",0)(1,"h6",1),t._uU(2,"Add a new Transaction for Call Record Item"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return r.updateClicked()}),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return r.bsModalRef.hide()}),t.qZA()(),t.YNc(5,c,46,20,"div",4)),2&l&&(t.xp6(5),t.Q6J("ngIf",void 0!==r.callRecord))},dependencies:[d.O5,u.Np,u.Y5,n.Fj,n._,n.JJ,n.On,a.w9,d.uU],styles:[".lbl[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;font-weight:700;vertical-align:middle;word-wrap:normal;margin-top:5px;margin-bottom:5px}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;vertical-align:top;word-wrap:normal;margin-top:5px;margin-bottom:5px}.mL2mR2[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px}.mL10mR2[_ngcontent-%COMP%]{margin-left:10px;margin-right:2px}.w35[_ngcontent-%COMP%]{width:35px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w175[_ngcontent-%COMP%]{width:175px}.w200[_ngcontent-%COMP%]{width:200px}.b[_ngcontent-%COMP%]{font-weight:700}"]})}return h})()}}]);