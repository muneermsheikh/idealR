"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[72],{8072:(Ze,S,c)=>{c.r(S),c.d(S,{DeploymentModule:()=>Me});var g=c(6814),P=c(3983),e=c(5879);class q{constructor(){this.cvRefId=0,this.orderItemId=0,this.candidateId=0,this.selectedOn=new Date,this.orderNo=0,this.customerId=0,this.currentStatus="",this.search="",this.pageNumber=1,this.pageSize=10}}var l=c(6223),b=c(2051),C=c(8763),x=c(7411),J=c(7328),h=c(2096),A=c(7398),N=c(9862),V=c(5516),I=c(1436);let f=(()=>{class a{constructor(t){this.http=t,this.apiUrl=V.N.apiUrl,this.currentUserSource=new J.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.deployStages=[],this.depSeqAndNames=[],this.deploys=[],this.cache=new Map,this.dParams=new q,this.deployments=[]}setParams(t){this.dParams=t}getParams(){return this.dParams}getDeploymentPagedList(t){const n=this.cache.get(Object.values(t).join("-"));if(n)return(0,h.of)(n);let i=(0,I.E2)(t);return(0,I.Tr)(this.apiUrl+"Deployment/deployments",i,this.http).pipe((0,A.U)(o=>(this.cache.set(Object.values(t).join("-"),o),o)))}getDepStatusAndNames(){return this.depSeqAndNames.length>0?(0,h.of)(this.depSeqAndNames):this.http.get(this.apiUrl+"Deployment/deployStatusSeqAndNames").pipe((0,A.U)(t=>(this.depSeqAndNames=t,t)))}getDeployStatuses(){return this.deployStages.length>0?(0,h.of)(this.deployStages):this.http.get(this.apiUrl+"Deployment/deployStatusData").pipe((0,A.U)(t=>(this.deployStages=t,t)))}getDeploymentWithItems(t){return this.http.get(this.apiUrl+"Deployment/deployment/"+t)}updateDeployment(t){return this.http.put(this.apiUrl+"Deployment/deployment",t)}updateDeploymentItem(t){return this.http.put(this.apiUrl+"Deployment/depItem",t)}uploadAttachmentForItem(t){return this.http.post(this.apiUrl+"FileUpload/uploadDepAttachment",t)}insertDepItemsWithTravelBooked(t){return this.http.post(this.apiUrl+"Deployment/insertItemsWithFlight",t)}getFlightData(){return this.http.get(this.apiUrl+"Deployment/flightdata")}getCandidateFlight(t){return this.http.get(this.apiUrl+"Deployment/candidateflight/"+t)}deleteCandidateFlight(t){return this.http.delete(this.apiUrl+"Deployment/CandidateFlight/"+t)}editCandidateFlight(t){return this.http.put(this.apiUrl+"Deployment/CandidateFlight",t)}InsertDepItems(t){return this.http.post(this.apiUrl+"Deployment/depItems",t)}getCVReferredDto(t){return this.http.get(this.apiUrl+"Deployment/bycvrefid/"+t)}getNextDepItemFromCVRefId(t){return this.http.get(this.apiUrl+"Deployment/nextDepItemFromCVRef/"+t)}getNextSequence(t,n){return 700===t?n?1300:900:this.deployStages.find(i=>i.sequence==t)?.nextSequence}NextSequenceProposedIsOkay(t,n,i){var o=this.getNextSequence(t,i);if(n===o)return!0;var s=this.deployStages.find(d=>d.sequence===n);return!(!s?.isOptional||n-t!=200)}getDepStage(t){return this.deployStages.length>0?this.deployStages.filter(n=>n.sequence==t)[0]:null}getNextStage(t,n){if(this.deployStages.length>0){var i=this.getNextSequence(t,n);return this.deployStages.filter(o=>o.sequence===i)[0]}return null}getNextStageDate(t){var n=this.deployStages.find(i=>i.id==t)?.workingDaysReqdForNextStage;return void 0!==n?new Date((new Date).setDate((new Date).getDate()+n)):new Date}deleteDeployment(t){return this.http.delete(this.apiUrl+"Deployment/dep/"+t)}downloadAttachment(t){let n=new N.LE;return n=n.append("fullpath",t),this.http.get(this.apiUrl+"FileUpload/downloadfile",{params:n,responseType:"blob"})}deleteAttachment(t){let n=new N.LE;return n=n.append("fullpath",t),this.http.get(this.apiUrl+"FileUpload/deleteattachmentbyfullpath",{params:n})}static#e=this.\u0275fac=function(n){return new(n||a)(e.LFG(N.eN))};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var v=c(7133),m=c(3593),y=c(4807);function R(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",3)(1,"h4"),e._uU(2,"Edit Deployment records"),e.qZA(),e.TgZ(3,"button",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateDeployment())}),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e.qZA()()}}const O=function(){return{dateInputFormat:"YYYY-MM-DD"}};function Y(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"div",21),e._UZ(2,"input",22)(3,"ng-select",23)(4,"ng-select",24)(5,"input",25)(6,"input",26),e.TgZ(7,"button",27),e.NdJ("click",function(){const o=e.CHM(t).index,s=e.oxw(2);return e.KtG(s.download(o))}),e.qZA(),e.TgZ(8,"button",28),e.NdJ("click",function(){const o=e.CHM(t).index,s=e.oxw(2);return e.KtG(s.removeDepItem(o))}),e.qZA()()()}if(2&a){const t=p.index,n=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("bsValue",n.bsValueDate)("bsConfig",e.DdM(7,O)),e.xp6(1),e.Q6J("items",n.depStatusAndNames),e.xp6(1),e.Q6J("items",n.depStatusAndNames),e.xp6(1),e.Q6J("bsValue",n.bsValueDate)("bsConfig",e.DdM(8,O))}}function L(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",6)(1,"form",7)(2,"label",8),e._uU(3,"Candidate:"),e.qZA(),e.TgZ(4,"div",9),e._uU(5),e.qZA(),e.TgZ(6,"label",10),e._uU(7,"Customer:"),e.qZA(),e.TgZ(8,"div",9),e._uU(9),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"label",10),e._uU(12,"Category Ref"),e.qZA(),e.TgZ(13,"div",9),e._uU(14),e.qZA(),e.TgZ(15,"label",11),e._uU(16,"ECNR"),e.qZA(),e.TgZ(17,"div",12),e._uU(18),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"label",13),e._uU(21,"Selected On"),e.qZA(),e.TgZ(22,"div",9),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"label",13),e._uU(26,"Current Status:"),e.qZA(),e.TgZ(27,"div",14),e._uU(28),e.qZA(),e._UZ(29,"hr",15),e.TgZ(30,"label",16),e._uU(31,"Date"),e.qZA(),e.TgZ(32,"label",17),e._uU(33,"Process Name"),e.qZA(),e.TgZ(34,"label",17),e._uU(35,"Next Process"),e.qZA(),e.TgZ(36,"label",16),e._uU(37,"Next Process"),e._UZ(38,"br"),e._uU(39,"Estimated Dt"),e.qZA(),e.TgZ(40,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addDepItem())}),e.qZA(),e.TgZ(41,"div",19),e.YNc(42,Y,9,9,"div",20),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(4),e.Oqu(t.candidateName),e.xp6(4),e.Oqu(t.companyName),e.xp6(5),e.Oqu(t.categoryRef),e.xp6(4),e.Oqu(t.dep.ecnr?"Yes":"No"),e.xp6(5),e.Oqu(e.xi3(24,8,t.dep.selectedOn,"dd-MMM-yy")),e.xp6(5),e.Oqu(t.dep.currentStatus),e.xp6(14),e.Q6J("ngForOf",t.depItems.controls)}}let G=(()=>{class a{constructor(t,n,i,o,s,d){this.bsModalRef=t,this.toastr=n,this.confirmService=i,this.fb=o,this.service=s,this.activatedRoute=d,this.updateDep=new e.vpe,this.ecnr=!1,this.form=new l.cw({}),this.candidateName="",this.categoryRef="",this.companyName="",this.depStatusAndNames=[],this.bsValue=new Date,this.bsRangeValue=new Date,this.maxDate=new Date,this.minDate=new Date,this.bsValueDate=new Date}ngOnInit(){this.dep&&this.InitializeForm(this.dep)}InitializeForm(t){this.form=this.fb.group({id:[t.id],cVRefId:[t.cvRefId],orderItemId:[t.orderItemId],customerId:t.customerId,selectedOn:t.selectedOn,currentStatus:t.currentStatus,ecnr:t.ecnr,depItems:this.fb.array(t.depItems.map(n=>this.fb.group({id:n.id,depId:n.depId,transactionDate:[n.transactionDate,l.kI.required],sequence:[n.sequence,l.kI.required],nextSequence:n.nextSequence,nextSequenceDate:n.nextSequenceDate,fullPath:n.fullPath})))})}get depItems(){return this.form.get("depItems")}newDepItem(){return this.fb.group({id:0,depId:this.form.get("id")?.value,transactionDate:[new Date,l.kI.required],sequence:[this.depItems.value[this.depItems.length].map(t=>t.nextSequence),l.kI.required],nextSequence:this.service.getNextSequence(this.depItems.value[this.depItems.length].map(t=>t.nextSequence),this.ecnr),nextSequenceDate:this.service.getNextStageDate(this.depItems.value[this.depItems.length].map(t=>t.nextSequence)),fullPath:""})}addDepItem(){this.depItems.push(this.newDepItem)}removeDepItem(t){var n="This will also delete ";n+=+t+1,this.confirmService.confirm("Confirm Delete",n+=" transactions that are after the date of this transaction.  THE DELETION WILL TAKE EFFECT ONLY AFTER YOU UPDATE THIS FORM").subscribe({next:i=>{if(i)for(let o=+t+1;o--;o<=t)console.log(t,o),this.depItems.removeAt(o)}})}updateDeployment(){this.updateDep.emit(this.form.value),this.bsModalRef.hide()}download(t){var i=this.depItems.at(t).value.fullPath;""!==i?this.service.downloadAttachment(i).subscribe({next:o=>{const s=document.createElement("a"),d=URL.createObjectURL(o);s.href=d;var u=i.lastIndexOf("\\");s.download=-1!==u?i.substring(u+1):"filename.ext",s.click(),URL.revokeObjectURL(d)},error:o=>this.toastr.error(o.error.details,"Error encountered while downloading the file ")}):this.toastr.warning("this transaction has no file uploaded","Invalid selection")}close(){this.bsModalRef.hide()}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(b.UZ),e.Y36(C._W),e.Y36(x.z),e.Y36(l.qu),e.Y36(f),e.Y36(v.gz))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-deploy-edit-modal"]],inputs:{dep:"dep",updateDep:"updateDep"},decls:3,vars:2,consts:[["class","modal-header my-0",4,"ngIf"],["class","modal-body my-0",4,"ngIf"],[1,"modal-footer"],[1,"modal-header","my-0"],["title","edit emp data",1,"btn","fa","fa-save","fa-2x",2,"margin-left","200px",3,"click"],["title","Close",1,"btn","fa","fa-window-close","fa-2x","pull-right","my-0",3,"click"],[1,"modal-body","my-0"],[3,"formGroup"],["for","applicationNo",1,"stdd","w125","b"],[1,"stdd","w150"],["for","customerName",1,"stdd","w125","b"],[1,"stdd","w50","b"],[1,"stdd","w50"],[1,"stdd","w125","b"],[1,"stdd","w250"],[1,"my-0"],[1,"stdd","w90","b","vMiddle"],[1,"stdd","w200","b","vMiddle"],[1,"btn","fa","fa-plus","pull-right",3,"click"],["formArrayName","depItems"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["type","text","placeholder","Selected On","formControlName","transactionDate","bsDatepicker","",1,"stdd","w90",3,"bsValue","bsConfig"],["bindLabel","name","bindValue","id","labelForId","id","formControlName","sequence",1,"stdd","w200",2,"height","fit-content","border-color","black",3,"items"],["bindLabel","name","bindValue","id","labelForId","id","clearAllText","Clear","formControlName","nextSequence",1,"stdd","w200",2,"border","rgb(from color r g b)",3,"items"],["type","text","placeholder","Selected On","formControlName","nextSequenceDate","bsDatepicker","",1,"stdd","w90",3,"bsValue","bsConfig"],["type","text","formControlName","fullPath",1,"stdd","w50",2,"font-size","smaller"],["type","button","title","download the attachment",1,"btn","fa","fa-download",3,"click"],[1,"btn","w25","fa","fa-trash","fa-sm","red",3,"click"]],template:function(n,i){1&n&&(e.YNc(0,R,5,0,"div",0),e.YNc(1,L,43,11,"div",1),e._UZ(2,"div",2)),2&n&&(e.Q6J("ngIf",i.dep),e.xp6(1),e.Q6J("ngIf",i.dep))},dependencies:[g.sg,g.O5,m.Np,m.Y5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,y.w9,g.uU],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:0 2px;padding:0;vertical-align:top}.vMiddle[_ngcontent-%COMP%]{vertical-align:middle}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.w50[_ngcontent-%COMP%]{width:50px}.w90[_ngcontent-%COMP%]{width:90px}.w100[_ngcontent-%COMP%]{width:100px}.w110[_ngcontent-%COMP%]{width:110px}.w150[_ngcontent-%COMP%]{width:150px;word-wrap:normal}.w125[_ngcontent-%COMP%]{width:125px}.w200[_ngcontent-%COMP%]{width:200px}.w250[_ngcontent-%COMP%]{width:250px}"]})}return a})();var H=c(8645),D=c(2181),M=c(4664),F=c(6306),Q=c(9397);class K{constructor(){this.id=0,this.depId=0,this.transactionDate=new Date,this.sequence=0,this.nextSequence=0,this.nextSequenceDate=new Date,this.fullPath=""}}const z=["editForm"],U=function(){return{dateInputFormat:"YYYY-MM-DD"}};let B=(()=>{class a{constructor(t,n,i,o){this.bsModalRef=t,this.toastr=n,this.confirmService=i,this.service=o,this.cvRefId=0,this.depItem=new K,this.updateDepItem=new e.vpe,this.candidateName="",this.categoryRef="",this.companyName="",this.ecnr=!1,this.depStatuses=[],this.bsValue=new Date,this.bsRangeValue=new Date,this.maxDate=new Date,this.minDate=new Date,this.bsValueDate=new Date,this.service.getDeployStatuses().subscribe({next:s=>this.depStatuses=s})}ngOnInit(){0!==this.cvRefId&&this.service.getNextDepItemFromCVRefId(this.cvRefId).subscribe({next:t=>{null!==t&&(this.depItem=t)}})}saveDepItem(){this.confirmService.confirm("cofirm Save","Press Ok to proceed").subscribe({next:t=>{t&&(this.updateDepItem.emit(this.editForm?.value),this.bsModalRef.hide())}})}close(){this.bsModalRef.hide()}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(b.UZ),e.Y36(C._W),e.Y36(x.z),e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-deploy-add-modal"]],viewQuery:function(n,i){if(1&n&&e.Gf(z,5),2&n){let o;e.iGM(o=e.CRH())&&(i.editForm=o.first)}},inputs:{cvRefId:"cvRefId",updateDepItem:"updateDepItem"},decls:37,vars:16,consts:[[1,"modal-header"],["title","edit emp data",1,"w35","btn","btn-success","fa","fa-save",2,"margin-left","200px",3,"click"],["title","Close",1,"btn","fa","fa-close","pull-right",3,"click"],[1,"modal-body"],["for","applicationNo",1,"stdd","w150","b"],[1,"stdd","w200"],["for","customerName",1,"stdd","w150","b"],[1,"stdd","w150"],[1,"stdd","w50"],["id","editForm"],["editForm","ngForm"],[2,"display","inline-block","width","110px"],["type","text","placeholder","Offer accepted On","bsDatepicker","",1,"stdd","w110",3,"ngModel","bsValue","bsConfig","ngModelChange"],[1,"stdd","w125"],["bindLabel","statusName","bindValue","depItem.sequence","labelForId","depItem.statusName","clearAllText","Clear",2,"border","color(from color srgb r g b)","font-size","smaller",3,"items","ngModel","ngModelChange"],["bindLabel","statusName","bindValue","depItem.nextSequence","labelForId","depItem.statusName","clearAllText","Clear",2,"border","color(from color srgb r g b)","font-size","smaller",3,"items","ngModel","ngModelChange"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"h6"),e._uU(2,"Add a deployment transaction"),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.saveDepItem()}),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(5,"div",3)(6,"label",4),e._uU(7,"Application No:"),e.qZA(),e.TgZ(8,"div",5),e._uU(9),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"label",6),e._uU(12,"Customer Name"),e.qZA(),e.TgZ(13,"div",5),e._uU(14),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"label",6),e._uU(17,"Category Ref"),e.qZA(),e.TgZ(18,"div",5),e._uU(19),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"label",7),e._uU(22,"Emig Clearance Required"),e.qZA(),e.TgZ(23,"div",8),e._uU(24),e.qZA(),e.TgZ(25,"h6"),e._uU(26,"Deployment Transaction to add:"),e.qZA(),e.TgZ(27,"form",9,10)(29,"div",11)(30,"input",12),e.NdJ("ngModelChange",function(s){return i.depItem.transactionDate=s}),e.qZA()(),e.TgZ(31,"div",13)(32,"ng-select",14),e.NdJ("ngModelChange",function(s){return i.depItem.sequence=s}),e.qZA()(),e.TgZ(33,"div",13)(34,"ng-select",15),e.NdJ("ngModelChange",function(s){return i.depItem.nextSequence=s}),e.qZA()(),e.TgZ(35,"div",11)(36,"input",12),e.NdJ("ngModelChange",function(s){return i.depItem.nextSequenceDate=s}),e.qZA()()()()),2&n&&(e.xp6(9),e.Oqu(i.candidateName),e.xp6(5),e.Oqu(i.companyName),e.xp6(5),e.Oqu(i.categoryRef),e.xp6(5),e.Oqu(i.ecnr?"YES":"NO"),e.xp6(6),e.Q6J("ngModel",i.depItem.transactionDate)("bsValue",i.bsValueDate)("bsConfig",e.DdM(14,U)),e.xp6(2),e.Q6J("items",i.depStatuses)("ngModel",i.depItem.sequence),e.xp6(2),e.Q6J("items",i.depStatuses)("ngModel",i.depItem.nextSequence),e.xp6(2),e.Q6J("ngModel",i.depItem.nextSequenceDate)("bsValue",i.bsValueDate)("bsConfig",e.DdM(15,U)))},dependencies:[m.Np,m.Y5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,y.w9]})}return a})();function j(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",4)(1,"h6"),e._uU(2,"Choose a flight"),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.registerDate())}),e.qZA(),e.TgZ(4,"button",6),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e.qZA()()}}function $(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"input",20),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.checked=i)})("click",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.selectedClicked(o))}),e.qZA(),e.TgZ(2,"input",21),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.airportOfDestination=i)}),e.qZA(),e.TgZ(3,"input",21),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.airportOfBoarding=i)}),e.qZA(),e.TgZ(4,"input",22),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.flightNo=i)}),e.qZA(),e.TgZ(5,"input",23),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.eTD_Boarding=i)}),e.qZA(),e.TgZ(6,"input",23),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.eTA_Destination=i)}),e.qZA(),e.TgZ(7,"input",24),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.airportVia=i)}),e.qZA(),e.TgZ(8,"input",24),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.flightNoVia=i)}),e.qZA(),e.TgZ(9,"input",25),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.eTA_Via=i)}),e.qZA(),e.TgZ(10,"input",25),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.eTD_Via=i)}),e.qZA()()}if(2&a){const t=p.$implicit;e.xp6(1),e.Q6J("ngModel",t.checked),e.xp6(1),e.Q6J("ngModel",t.airportOfDestination),e.xp6(1),e.Q6J("ngModel",t.airportOfBoarding),e.xp6(1),e.Q6J("ngModel",t.flightNo),e.xp6(1),e.Q6J("ngModel",t.eTD_Boarding),e.xp6(1),e.Q6J("ngModel",t.eTA_Destination),e.xp6(1),e.Q6J("ngModel",t.airportVia),e.xp6(1),e.Q6J("ngModel",t.flightNoVia),e.xp6(1),e.Q6J("ngModel",t.eTA_Via),e.xp6(1),e.Q6J("ngModel",t.eTD_Via)}}const W=function(){return{dateInputFormat:"YYYY-MM-DD"}};function X(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",7)(1,"label",8),e._uU(2,"Date of the flight"),e.qZA(),e.TgZ(3,"input",9),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.flightDate=i)}),e.qZA(),e.TgZ(4,"label",10),e._uU(5,"Destination"),e.qZA(),e.TgZ(6,"input",11),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.destinationAirport=i)}),e.qZA(),e.TgZ(7,"input",12),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.filterDestination=i)}),e.qZA(),e._uU(8,"Yes "),e.TgZ(9,"input",13),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.filterDestination=i)}),e.qZA(),e._uU(10," No "),e.TgZ(11,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.filter())}),e.qZA(),e._UZ(12,"hr"),e.TgZ(13,"label",15),e._uU(14,"Sel"),e.qZA(),e.TgZ(15,"label",10),e._uU(16,"Airport"),e._UZ(17,"br"),e._uU(18,"of Destn"),e.qZA(),e.TgZ(19,"label",10),e._uU(20,"Airport"),e._UZ(21,"br"),e._uU(22,"of Boardg"),e.qZA(),e.TgZ(23,"label",16),e._uU(24,"Flight No"),e.qZA(),e.TgZ(25,"label",17),e._uU(26,"ETD"),e._UZ(27,"br"),e._uU(28,"Boarding"),e.qZA(),e.TgZ(29,"label",17),e._uU(30,"ETA"),e._UZ(31,"br"),e._uU(32,"Destin"),e.qZA(),e.TgZ(33,"label",18),e._uU(34,"Via Airport"),e.qZA(),e.TgZ(35,"label",18),e._uU(36,"Flight"),e._UZ(37,"br"),e._uU(38,"No Via"),e.qZA(),e.TgZ(39,"label",18),e._uU(40,"ETA"),e._UZ(41,"br"),e._uU(42,"at Via"),e.qZA(),e.TgZ(43,"label",18),e._uU(44,"ETD"),e._UZ(45,"br"),e._uU(46,"at Via"),e.qZA(),e.YNc(47,$,11,10,"div",19),e.qZA()}if(2&a){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.flightDate)("bsValue",t.bsValueDate)("bsConfig",e.DdM(7,W)),e.xp6(3),e.Q6J("ngModel",t.destinationAirport),e.xp6(1),e.Q6J("ngModel",t.filterDestination),e.xp6(2),e.Q6J("ngModel",t.filterDestination),e.xp6(38),e.Q6J("ngForOf",t.flightdata)}}let ee=(()=>{class a{constructor(t,n,i){this.bsModalRef=t,this.confirmService=n,this.service=i,this.updateFlight=new e.vpe,this.selectedEvent=new e.vpe,this.destinationAirport="",this.filterDestination="",this.flightdata=[],this.originalFlightdata=[],this.bsValue=new Date,this.bsRangeValue=new Date,this.maxDate=new Date,this.minDate=new Date,this.bsValueDate=new Date,this.flightDate=new Date,i.getFlightData().subscribe({next:o=>{this.originalFlightdata=o,this.filterDestination="Yes",console.log(o)}})}ngOnInit(){}selectedClicked(t){this.flightSelected=t,this.flightdata.filter(n=>n.id!=t.id).forEach(n=>n.checked=!1)}filter(){this.flightdata="Y"===this.filterDestination?this.flightdata.filter(t=>t.airportOfDestination===this.destinationAirport):this.originalFlightdata}close(){this.updateFlight.emit(void 0),this.bsModalRef.hide()}registerDate(){if(!(this.flightDate.getFullYear()<2e3)&&void 0!==this.flightSelected){let n=new Date(this.flightDate.getTime()),[i,o]=this.flightSelected.eTD_Boarding.toString().split(":");n.setHours(n.getHours()+ +i+5),n.setMinutes(n.getMinutes()+ +o+30);let s=new Date(this.flightDate.getTime()),[d,u]=this.flightSelected.eTA_Destination.toString().split(":");s.setHours(s.getHours()+ +d+5),s.setMinutes(s.getMinutes()+ +u+30),console.log("etd",n,"eta",s),this.updateFlight.emit({dateOfFlight:this.flightDate,flightNo:this.flightSelected.flightNo,airportOfBoarding:this.flightSelected.airportOfBoarding,flightNoVia:this.flightSelected.flightNoVia,depId:0,airportOfDestination:this.flightSelected.airportOfDestination,eTD_Boarding:n,eTA_Destination:s,airportVia:this.flightSelected.airportVia}),this.bsModalRef.hide()}}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(b.UZ),e.Y36(x.z),e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-choose-flight-modal"]],inputs:{updateFlight:"updateFlight"},outputs:{selectedEvent:"selectedEvent"},decls:4,vars:2,consts:[["class","modal-header my-0",4,"ngIf"],["class","modal-body my-0",4,"ngIf"],[1,"modal-footer","my-0"],[2,"font-size","x-small"],[1,"modal-header","my-0"],["title","edit emp data",1,"w35","btn","btn-success","fa","fa-check",2,"margin-left","200px",3,"click"],["title","Close",1,"btn","fa","fa-close","pull-right",3,"click"],[1,"modal-body","my-0"],[1,"lbl","w125"],["type","text","placeholder","Flight Date","bsDatepicker","",1,"stdd","w100",3,"ngModel","bsValue","bsConfig","ngModelChange"],[1,"lbl","w100"],["type","text",1,"stdd","w125",3,"ngModel","ngModelChange"],["type","radio","value","Y","title","filter flight details by the destination",1,"stdd","w50",3,"ngModel","ngModelChange"],["type","radio","value","N","title","show all flight details",1,"stdd","w50",3,"ngModel","ngModelChange"],["title","filter the flight details",1,"btn","fa","fa-filter",3,"click"],[1,"lbl","w20",2,"margin-left","10px !important"],[1,"lbl","w60"],[1,"lbl","w90"],[1,"lbl","blue","w60"],[4,"ngFor","ngForOf"],["type","checkbox",1,"form-check-input","w20","hAlignCenter",2,"margin-left","10px","border-color","black",3,"ngModel","ngModelChange","click"],["type","text",1,"stdd","w100",3,"ngModel","ngModelChange"],["type","text",1,"stdd","w60",3,"ngModel","ngModelChange"],["type","time",1,"stdd","w90",3,"ngModel","ngModelChange"],["type","text",1,"stdd","blue","w60",3,"ngModel","ngModelChange"],["type","time",1,"stdd","blue","w60",3,"ngModel","ngModelChange"]],template:function(n,i){1&n&&(e.YNc(0,j,5,0,"div",0),e.YNc(1,X,48,8,"div",1),e._UZ(2,"div",2)(3,"div",3)),2&n&&(e.Q6J("ngIf",i.flightdata),e.xp6(1),e.Q6J("ngIf",i.flightdata))},dependencies:[g.sg,g.O5,m.Np,m.Y5,l.Fj,l.Wl,l._,l.JJ,l.On],styles:[".w20[_ngcontent-%COMP%]{width:20px}.w60[_ngcontent-%COMP%]{width:60px}.w75[_ngcontent-%COMP%]{width:75px}.w90[_ngcontent-%COMP%]{width:90px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.mL120[_ngcontent-%COMP%]{margin-left:120px}.lbl[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:0 2px;font-weight:700;font-size:smaller;vertical-align:middle;word-wrap:normal}.blue[_ngcontent-%COMP%]{color:#00008b}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;margin:0 2px;word-wrap:normal}.line2[_ngcontent-%COMP%]{color:#00008b;display:inline-block;margin:0 2px;font-weight:700;font-size:smaller;vertical-align:middle;word-wrap:normal}"]})}return a})();function te(a,p){1&a&&e._UZ(0,"div",3)}function ne(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",21)(1,"label",18),e._uU(2,"Airport Via"),e.qZA(),e.TgZ(3,"input",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw(3);return e.KtG(o.flight.airportVia=i)}),e.qZA()()}if(2&a){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.flight.airportVia)}}const T=function(){return{dateInputFormat:"YYYY-MMM-DD hh:nn"}};function ie(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",16),e.YNc(1,ne,4,1,"div",17),e.TgZ(2,"label",18),e._uU(3,"ETA"),e.qZA(),e.TgZ(4,"input",19),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw(2);return e.KtG(o.flight.eTA_Via=i)}),e.qZA(),e.TgZ(5,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw(2);return e.KtG(o.flight.eTD_Via=i)}),e.qZA()()}if(2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",""!==t.flight.airportVia||null!==t.flight.airportVia),e.xp6(3),e.Q6J("ngModel",t.flight.eTA_Via)("bsValue",t.bsValueDate)("bsConfig",e.DdM(7,T)),e.xp6(1),e.Q6J("ngModel",t.flight.eTD_Via)("bsValue",t.bsValueDate)("bsConfig",e.DdM(8,T))}}function oe(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",4)(1,"form")(2,"div",5)(3,"div",6)(4,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.bsModalRef.hide())}),e.qZA(),e.TgZ(5,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteCandidateFlight())}),e.qZA(),e.TgZ(6,"button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveCandidateFlight())}),e.qZA()(),e._UZ(7,"br"),e.TgZ(8,"label",10),e._uU(9,"Airport of Boarding"),e.qZA(),e.TgZ(10,"input",11),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.flight.airportOfBoarding=i)}),e.qZA(),e.TgZ(11,"label",10),e._uU(12,"ETD at Boarding Port "),e.qZA(),e.TgZ(13,"input",12),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.flight.eTD_Boarding=i)}),e.qZA(),e.YNc(14,ie,6,9,"div",13),e._UZ(15,"br"),e.TgZ(16,"label",10),e._uU(17,"DestInation Airport"),e.qZA(),e.TgZ(18,"input",14),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.flight.airportOfDestination=i)}),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"label",10),e._uU(21,"ETA at Destination"),e.qZA(),e.TgZ(22,"input",15),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.flight.eTA_Destination=i)}),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(10),e.Q6J("ngModel",t.flight.airportOfBoarding),e.xp6(3),e.Q6J("ngModel",t.flight.eTD_Boarding)("bsValue",t.bsValueDate)("bsConfig",e.DdM(9,T)),e.xp6(1),e.Q6J("ngIf",""!==t.flight.airportVia&&null!==t.flight.airportVia),e.xp6(4),e.Q6J("ngModel",t.flight.airportOfDestination),e.xp6(4),e.Q6J("ngModel",t.flight.eTA_Destination)("bsValue",t.bsValueDate)("bsConfig",e.DdM(10,T))}}let ae=(()=>{class a{constructor(t,n,i,o,s){this.bsModalRef=t,this.toastr=n,this.confirm=i,this.service=o,this.fb=s,this.candidteFlightDeleteEvent=new e.vpe,this.candidateFlightEditEvent=new e.vpe,this.bsValue=new Date,this.bsRangeValue=new Date,this.bsValueDate=new Date,this.form=new l.cw({})}ngOnInit(){console.log("candidateflight in modal:",this.flight)}deleteCandidateFlight(){this.confirm.confirm("confirm DELETE","Are you sure you want to delete this candidate Flight?").subscribe(n=>{n&&(this.candidteFlightDeleteEvent.emit(this.flight?.id),this.bsModalRef.hide())})}saveCandidateFlight(){console.log("flight:",this.flight),this.candidateFlightEditEvent.emit(this.flight)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(b.UZ),e.Y36(C._W),e.Y36(x.z),e.Y36(f),e.Y36(l.qu))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-flight-detail-modal"]],outputs:{candidteFlightDeleteEvent:"candidteFlightDeleteEvent",candidateFlightEditEvent:"candidateFlightEditEvent"},decls:3,vars:2,consts:[["class","modal-header",4,"ngIf"],["modal-body","","style","margin-left: 25px;",4,"ngIf"],[1,"modal-footer"],[1,"modal-header"],["modal-body","",2,"margin-left","25px"],[2,"vertical-align","top"],[1,"form-group","pull-right"],[1,"btn","stdd","fa","fa-window-close","fa-2x",3,"click"],[1,"stdd","btn","fa","fa-trash","fa-2x","red",3,"click"],[1,"stdd","btn","fa","fa-save","fa-2x",3,"click"],[1,"lbl","w150"],["type","text","name","boardingairport",1,"form-control","stdd","w150",3,"ngModel","ngModelChange"],["id","eTDBoarding","name","eTDBoarding","type","text","placeholder","ETD at Boarding Port","bsDatepicker","","name","etdBoarding",1,"form-control","stdd","w100",3,"ngModel","bsValue","bsConfig","ngModelChange"],["class","stdd","style","vertical-align: top;",4,"ngIf"],["type","text","id","destinationairport","name","destinationairport",1,"stdd","w150",3,"ngModel","ngModelChange"],["type","text","placeholder","ETA","bsDatepicker","","id","etaDestination","name","etaDestination",1,"stdd","w150",3,"ngModel","bsValue","bsConfig","ngModelChange"],[1,"stdd",2,"vertical-align","top"],["class","form-group","style","border:color(from color srgb r g b); border-width: 1px;",4,"ngIf"],[1,"lbl","w150","gray"],["type","text","placeholder","ETA","bsDatepicker","","id","etaVia","name","etaVia",1,"stdd","w150",3,"ngModel","bsValue","bsConfig","ngModelChange"],["type","text","placeholder","ETA","bsDatepicker","","id","etdVia","name","etdVia",1,"stdd","w150",3,"ngModel","bsValue","bsConfig","ngModelChange"],[1,"form-group",2,"border","color(from color srgb r g b)","border-width","1px"],["type","text","id","airportVia","name","airportVia",1,"form-control","stdd","w150",3,"ngModel","ngModelChange"]],template:function(n,i){1&n&&(e.YNc(0,te,1,0,"div",0),e.YNc(1,oe,23,11,"div",1),e._UZ(2,"div",2)),2&n&&(e.Q6J("ngIf",i.flight),e.xp6(1),e.Q6J("ngIf",i.flight))},dependencies:[g.O5,m.Np,m.Y5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;margin-left:1px;margin-right:1px;font-size:smaller}.gray[_ngcontent-%COMP%]{color:gray}.red[_ngcontent-%COMP%]{color:red}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w150[_ngcontent-%COMP%]{width:150px}.lbl[_ngcontent-%COMP%]{display:inline-block;margin-left:1px;margin-right:1px;font-size:smaller;font-weight:700}"]})}return a})();function se(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",3)(1,"h4"),e._uU(2,"Edit Deployment records"),e.qZA(),e.TgZ(3,"button",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.uploadAttachment())}),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.bsModalRef.hide())}),e.qZA()()}}const le=function(){return{dateInputFormat:"YYYY-MM-DD"}};function de(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"div",20),e._UZ(2,"input",21)(3,"ng-select",22)(4,"input",23),e.TgZ(5,"button",24),e.NdJ("click",function(){const o=e.CHM(t).index,s=e.oxw(2);return e.KtG(s.download(o))}),e.qZA(),e.TgZ(6,"button",25),e.NdJ("click",function(){const o=e.CHM(t).index,s=e.oxw(2);return e.KtG(s.deleteAttachment(o))}),e.qZA(),e.TgZ(7,"input",26),e.NdJ("change",function(i){const s=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.onFileInputChange(i,s))}),e.qZA()()()}if(2&a){const t=p.index,n=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("bsValue",n.bsValueDate)("bsConfig",e.DdM(4,le)),e.xp6(1),e.Q6J("items",n.depStatusAndNames)}}function re(a,p){if(1&a&&(e.TgZ(0,"div",6)(1,"form",7)(2,"label",8),e._uU(3,"Candidate:"),e.qZA(),e.TgZ(4,"div",9),e._uU(5),e.qZA(),e.TgZ(6,"label",10),e._uU(7,"Customer:"),e.qZA(),e.TgZ(8,"div",9),e._uU(9),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"label",10),e._uU(12,"Category Ref"),e.qZA(),e.TgZ(13,"div",9),e._uU(14),e.qZA(),e.TgZ(15,"label",11),e._uU(16,"ECNR"),e.qZA(),e.TgZ(17,"div",12),e._uU(18),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"label",13),e._uU(21,"Selected On"),e.qZA(),e.TgZ(22,"div",9),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"label",13),e._uU(26,"Current Status:"),e.qZA(),e.TgZ(27,"div",14),e._uU(28),e.qZA(),e._UZ(29,"hr",15),e.TgZ(30,"label",16),e._uU(31,"Date"),e.qZA(),e.TgZ(32,"label",17),e._uU(33,"Process Name"),e.qZA(),e.TgZ(34,"div",18),e.YNc(35,de,8,5,"div",19),e.qZA()()()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(4),e.Oqu(t.candidateName),e.xp6(4),e.Oqu(t.companyName),e.xp6(5),e.Oqu(t.categoryRef),e.xp6(4),e.Oqu(t.dep.ecnr?"Yes":"No"),e.xp6(5),e.Oqu(e.xi3(24,8,t.dep.selectedOn,"dd-MMM-yy")),e.xp6(5),e.Oqu(t.dep.currentStatus),e.xp6(7),e.Q6J("ngForOf",t.depItems.controls)}}let ce=(()=>{class a{constructor(t,n,i,o,s){this.bsModalRef=t,this.toastr=n,this.confirm=i,this.fb=o,this.service=s,this.updateDep=new e.vpe,this.indexId=0,this.ecnr=!1,this.form=new l.cw({}),this.candidateName="",this.categoryRef="",this.companyName="",this.filesToUpload=[],this.lastTimeCalled=0,this.bsValue=new Date,this.bsRangeValue=new Date,this.maxDate=new Date,this.minDate=new Date,this.bsValueDate=new Date,this.depStatusAndNames=[]}ngOnInit(){this.dep&&this.InitializeForm(this.dep)}InitializeForm(t){this.form=this.fb.group({id:[t.id],cVRefId:[t.cvRefId],orderItemId:[t.orderItemId],customerId:t.customerId,selectedOn:t.selectedOn,currentStatus:t.currentStatus,ecnr:t.ecnr,depItems:this.fb.array(t.depItems.map(n=>this.fb.group({id:n.id,depId:n.depId,transactionDate:[n.transactionDate,l.kI.required],sequence:[n.sequence,l.kI.required],fullPath:n.fullPath})))})}get depItems(){return this.form.get("depItems")}onFileInputChange(t,n){const i=t.target;var o=this.depItems.at(n).value;if(!this.sequenceValidForUpload(o.sequence))return void this.toastr.warning("The item has a sequence that does not need any file attachment","Invalid Item for Upload");if(this.filesToUpload=[],null!==o.fullPath&&""!==o.fullPath)return void this.toastr.warning("one file is already listed as uploaded.  If you want to replace earlier upload, then delete the upload in order to add another upload","Only 1 file can be uploaded for a transaction");this.depItemOfAttachment=o,this.indexId=n;const u=i.files[0];o.fullPath=u.name,this.filesToUpload.push(u)}uploadAttachment(){if(Date.now()<this.lastTimeCalled+28e3)return;this.lastTimeCalled=Date.now();let i=new FormData;this.filesToUpload.length>0&&this.filesToUpload.forEach(o=>{i.append("file",o,o.name)}),i.append("data",JSON.stringify(this.depItemOfAttachment)),this.service.uploadAttachmentForItem(i).subscribe({next:o=>{this.depItems.at(this.indexId).get("fullPath")?.setValue(o),this.toastr.success("file uploaded and attachment path updated","Success")},error:o=>this.toastr.error(o.error.details,"error while uploading the attachment")})}sequenceValidForUpload(t){switch(t){case 100:case 150:case 400:case 700:case 1100:case 1300:return!0;default:return!1}}download(t){var n=this.depItems.at(t).get("fullPath")?.value;null!==n&&""!==n?this.service.downloadAttachment(n).subscribe({next:i=>{const o=document.createElement("a"),s=URL.createObjectURL(i);o.href=s;var d=n.lastIndexOf("\\");o.download=-1!==d?n.substring(d+1):"filename.ext",o.click(),URL.revokeObjectURL(s)},error:i=>this.toastr.error(i.error.details,"Error encountered while downloading the file ")}):this.toastr.warning("No file upload data available","Bad Request")}deleteAttachment(t){var n=this.depItems.at(t).get("fullPath")?.value;null!==n&&""!==n||this.toastr.warning("No file upload data available","Bad Request")}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(b.UZ),e.Y36(C._W),e.Y36(x.z),e.Y36(l.qu),e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-dep-attachment-modal"]],inputs:{updateDep:"updateDep"},decls:3,vars:2,consts:[["class","modal-header my-0",4,"ngIf"],["class","modal-body my-0",4,"ngIf"],[1,"modal-footer"],[1,"modal-header","my-0"],["title","edit emp data",1,"btn","fa","fa-save","fa-2x",2,"margin-left","200px",3,"click"],["title","Close",1,"btn","fa","fa-window-close","fa-2x","pull-right","my-0",3,"click"],[1,"modal-body","my-0"],[3,"formGroup"],["for","applicationNo",1,"stdd","w125","b"],[1,"stdd","w150"],["for","customerName",1,"stdd","w125","b"],[1,"stdd","w50","b"],[1,"stdd","w50"],[1,"stdd","w125","b"],[1,"stdd","w250"],[1,"my-0"],[1,"stdd","w110","b","vMiddle"],[1,"stdd","w200","b","vMiddle"],["formArrayName","depItems"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["type","text","placeholder","Selected On","formControlName","transactionDate","bsDatepicker","",1,"stdd","w90",3,"bsValue","bsConfig"],["bindLabel","name","bindValue","id","labelForId","id","formControlName","sequence",1,"stdd","w200",2,"height","fit-content","border-color","black",3,"items"],["type","text","formControlName","fullPath",1,"stdd","w50",2,"font-size","smaller"],[1,"btn","fa","fa-download",3,"click"],[1,"btn","fa","fa-trash","red",3,"click"],["type","file","id","file",1,"stdd",3,"change"]],template:function(n,i){1&n&&(e.YNc(0,se,5,0,"div",0),e.YNc(1,re,36,11,"div",1),e._UZ(2,"div",2)),2&n&&(e.Q6J("ngIf",i.dep),e.xp6(1),e.Q6J("ngIf",i.dep))},dependencies:[g.sg,g.O5,m.Np,m.Y5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,y.w9,g.uU],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:0 2px;padding:0;vertical-align:top}.vMiddle[_ngcontent-%COMP%]{vertical-align:middle}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.w50[_ngcontent-%COMP%]{width:50px}.w90[_ngcontent-%COMP%]{width:90px}.w100[_ngcontent-%COMP%]{width:100px}.w110[_ngcontent-%COMP%]{width:110px}.w150[_ngcontent-%COMP%]{width:150px;word-wrap:normal}.w125[_ngcontent-%COMP%]{width:125px}.w200[_ngcontent-%COMP%]{width:200px}.w250[_ngcontent-%COMP%]{width:250px}"]})}return a})();var pe=c(7012),k=c(617);let ue=(()=>{class a{constructor(){this.statuses=[{sequence:0,status:"None"},{sequence:100,status:"Selected"},{sequence:150,status:"Offer Letter Accepted"},{sequence:200,status:"Document Certificate Initiated"},{sequence:300,status:"Ref For Med Tests"},{sequence:400,status:"Med Fit"},{sequence:500,status:"Med Unfit"},{sequence:550,status:"Visa Documents Prepared"},{sequence:600,status:"Visa Docs submitted"},{sequence:700,status:"Visa Endorsed"},{sequence:800,status:"Visa denied"},{sequence:900,status:"Emig Application Lodged"},{sequence:1e3,status:"Emig Documents Lodged"},{sequence:1100,status:"Emig Granted"},{sequence:1200,status:"Emig Denied"},{sequence:1300,status:"Travel Tkt booked"},{sequence:1400,status:"Docs couriered to candidate"},{sequence:1500,status:"Traveled"},{sequence:1600,status:"Arrival Acknowledged by client"},{sequence:5e3,status:"Concluded"}]}transform(t){return this.statuses.filter(i=>i.sequence===t).map(i=>i.status)[0]??"undefined"}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275pipe=e.Yjl({name:"depStatus",type:a,pure:!0})}return a})();function ge(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",1)(1,"input",2),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.dep.checked=i)})("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedClicked())}),e.qZA(),e.TgZ(2,"div",3),e._uU(3),e.qZA(),e.TgZ(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"div",4),e._uU(7),e.qZA(),e.TgZ(8,"div",5),e._uU(9),e.qZA(),e.TgZ(10,"div",4),e._uU(11),e.qZA(),e.TgZ(12,"div",6),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"div",6),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"div",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showFlight())}),e._uU(19),e.ALo(20,"depStatus"),e.qZA(),e.TgZ(21,"div",8),e._uU(22),e.ALo(23,"depStatus"),e.qZA(),e.TgZ(24,"div",6),e._uU(25),e.ALo(26,"date"),e.qZA(),e.TgZ(27,"button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editDep())}),e.qZA(),e.TgZ(28,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editAttachment())}),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.dep.checked),e.xp6(2),e.Oqu(t.dep.applicationNo),e.xp6(2),e.Oqu(t.dep.candidateName),e.xp6(2),e.Oqu(t.dep.customerName),e.xp6(2),e.Oqu(t.dep.orderNo),e.xp6(2),e.hij("",t.dep.categoryName," "),e.xp6(2),e.Oqu(e.xi3(14,11,t.dep.referredOn,"dd-MMM")),e.xp6(3),e.Oqu(e.xi3(17,14,t.dep.selectedOn,"dd-MMM")),e.xp6(3),e.Oqu(e.lcZ(20,17,t.dep.deploySequence)),e.xp6(3),e.Oqu(e.lcZ(23,19,t.dep.nextSequence)),e.xp6(3),e.Oqu(e.xi3(26,21,t.dep.nextStageDate,"dd-MMM"))}}let he=(()=>{class a{constructor(t,n){this.service=t,this.toastr=n,this.editDepEvent=new e.vpe,this.deleteDepEvent=new e.vpe,this.selectedEvent=new e.vpe,this.showTicket=new e.vpe,this.editAttachmentEvent=new e.vpe}ngOnInit(){}editDep(){this.dep&&this.service.getDeploymentWithItems(this.dep.depId).subscribe({next:t=>{t&&this.editDepEvent.emit(t)}})}showFlight(){this.dep.deploySequence<1300?this.toastr.warning("This can be called only when there is a ticket booked"):this.showTicket.emit(this.dep?.cvRefId)}deleteDep(){this.deleteDepEvent.emit(this.dep.depId)}selectedClicked(){this.selectedEvent.emit(this.dep)}editAttachment(){this.dep&&this.service.getDeploymentWithItems(this.dep.depId).subscribe({next:t=>{t&&this.editAttachmentEvent.emit(t)}})}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(f),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-deploy-line"]],inputs:{dep:"dep"},outputs:{editDepEvent:"editDepEvent",deleteDepEvent:"deleteDepEvent",selectedEvent:"selectedEvent",showTicket:"showTicket",editAttachmentEvent:"editAttachmentEvent"},decls:1,vars:1,consts:[["style","margin-left: 5px;",4,"ngIf"],[2,"margin-left","5px"],["type","checkbox",1,"form-check-input","w20","hAlignCenter",2,"margin-left","50px",3,"ngModel","ngModelChange","click"],[1,"w50",2,"display","inline-block","margin-left","25px"],[1,"stdd","w150"],[1,"stdd","w50"],[1,"stdd","w75"],["title","if ticket booked, press this to display flight details",1,"stdd","w125","cursorPointer",3,"click"],[1,"stdd","w125"],["title","edit Deployment Transactions.  This option also provides for addition of a transaction",1,"btn","fa","fa-pencil","fa-sm",2,"color","aliceblue",3,"click"],["title","upload/download attachments.",1,"btn","fa","fa-upload",2,"color","aliceblue",3,"click"]],template:function(n,i){1&n&&e.YNc(0,ge,29,24,"div",0),2&n&&e.Q6J("ngIf",void 0!==i.dep)},dependencies:[g.O5,l.Wl,l.JJ,l.On,g.uU,ue],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;margin:1px 0;vertical-align:top;font-size:small;word-wrap:break-word}.fSmall[_ngcontent-%COMP%]{font-size:small}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.w20[_ngcontent-%COMP%]{width:20px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px;font-size:smaller!important}.w100[_ngcontent-%COMP%]{width:100px}.w110[_ngcontent-%COMP%]{width:110px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w175[_ngcontent-%COMP%]{width:175px}.w200[_ngcontent-%COMP%]{width:200px}input[type=checkbox][_ngcontent-%COMP%]{outline:1px solid #1e5180}.red[_ngcontent-%COMP%]{color:red}  .ng-select-container{height:5px!important;font-size:.8em!important}.cursorPointer[_ngcontent-%COMP%]{cursor:pointer}"]})}return a})();const me=["search"];function fe(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",8)(1,"h4",9),e._uU(2,"Pending deployments"),e.qZA(),e.TgZ(3,"pagination",10),e.NdJ("pageChanged",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.onPageChanged(i))}),e._uU(4," >"),e.qZA(),e.TgZ(5,"div",11)(6,"input",12,13),e.NdJ("keyup.enter",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSearch())}),e.qZA(),e.TgZ(8,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSearch())}),e.qZA(),e.TgZ(9,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onReset())}),e.qZA(),e.TgZ(10,"div",16)(11,"ng-select",17),e.NdJ("selected",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.selected(i))})("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.sequenceSelected=i)}),e.qZA()(),e.TgZ(12,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.applyTransactions())}),e.qZA()(),e.TgZ(13,"button",19)(14,"mat-icon"),e._uU(15,"receipt"),e.qZA()(),e._UZ(16,"button",20),e.qZA()}if(2&a){const t=e.oxw();e.xp6(3),e.Q6J("totalItems",t.pagination.totalItems)("itemsPerPage",t.pagination.itemsPerPage)("maxSize",10),e.xp6(8),e.Q6J("items",t.statusNameAndSeq)("ngModel",t.sequenceSelected)}}function _e(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1," No pending deployment transactions on record\n"),e.qZA())}function ve(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"app-deploy-line",21),e.NdJ("editDepEvent",function(i){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.editDeploymentModal(i,s))})("deleteDepEvent",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteDeployment(i))})("selectedEvent",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.selectionChanged(i))})("showTicket",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.displayCandidateTicket(i))})("candidateFlightDeleteEvent",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.candidateFlightDelete(i))})("candidteFlightEditEvent",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.candidateFlightEdit(i))})("editAttachmentEvent",function(i){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.editAttachmentModal(i,s))}),e.qZA()()}if(2&a){const t=p.$implicit;e.xp6(1),e.Q6J("dep",t)}}function xe(a,p){if(1&a&&(e.TgZ(0,"div")(1,"div",6),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA(),e.TgZ(5,"div",8),e._uU(6),e.qZA(),e.TgZ(7,"div",9),e._uU(8),e.qZA(),e.TgZ(9,"div",6),e._uU(10),e.qZA(),e.TgZ(11,"div",7),e._uU(12),e.qZA()()),2&a){const t=p.$implicit,n=e.oxw();e.xp6(2),e.Oqu(t.sequence),e.xp6(2),e.Oqu(t.statusName),e.xp6(2),e.Oqu(t.workingDaysReqdForNextStage),e.xp6(2),e.Oqu(t.isOptional?"Yes":"No"),e.xp6(2),e.Oqu(t.nextSequence),e.xp6(2),e.Oqu(n.getSeqNameFromSeq(t.nextSequence))}}const we=[{path:"",component:(()=>{class a{constructor(t,n,i,o,s,d){this.toastr=t,this.confirm=n,this.bsModalService=i,this.activatedRoute=o,this.service=s,this.router=d,this.EditDepEvent=new e.vpe,this.returnUrl="",this.deploys=[],this.deploysSelected=[],this.routeId="",this.totalCount=0,this.depStatuses=[],this.statusNameAndSeq=[],this.sequenceSelected=0,this.currentCVRefId=0,this.dParams=new q,this.newSequence=new H.x,this.searchOptions=[{name:"Application",value:"applicationno"},{name:"Candidate Name",value:"candidateName"},{name:"Order No",value:"orderNo"},{name:"Category Name",value:"categoryName"},{name:"Date Selected",value:"selectedon"},{name:"Employer Name",value:"customerName"},{name:"Status",value:"status"}],this.sortOptions=[{name:"By Application No Asc",value:"appno"},{name:"By Application No Desc",value:"apppnodesc"},{name:"By Profession Asc",value:"prof"},{name:"By Profession Desc",value:"profdesc"},{name:"By Employer",value:"employer"},{name:"By Employer Desc",value:"employerdesc"}];let u=this.router.getCurrentNavigation();u?.extras&&u.extras.state&&(u.extras.state.returnUrl&&(this.returnUrl=u.extras.state.returnUrl),u.extras.state.user&&(this.user=u.extras.state.user))}ngOnInit(){this.getDeployments(),this.activatedRoute.data.subscribe({next:t=>this.statusNameAndSeq=t.statusNameAndSeq}),this.getDeploymentStatuses()}getDeployStatusAndSeq(){this.service.getDepStatusAndNames().subscribe({next:t=>this.statusNameAndSeq=t})}getDeploymentStatuses(){this.service.getDeployStatuses().subscribe({next:t=>this.depStatuses=t,error:t=>console.log(t)})}onPageChanged(t){const n=this.service.getParams();n.pageNumber!==t&&(n.pageNumber=t.page,this.service.setParams(n),this.getDeployments())}getDeployments(){var t=this.service.getParams();this.service.getDeploymentPagedList(t)?.subscribe({next:n=>{null!=n?(this.deploys=n.result,this.totalCount=n?.count,this.pagination=n.pagination):console.log("response is undefined")},error:n=>console.log(n)})}close(){this.currentCVRefId=0}deleteDeployment(t){var n=t;this.confirm.confirm("confirm Delete","Are you sure you want to delete this deployment?  All related transactions will also be deleted").pipe((0,D.h)(o=>o),(0,M.w)(o=>this.service.deleteDeployment(n).pipe((0,F.K)(s=>(this.toastr.error(s,"failed to delete"),(0,h.of)())),(0,Q.b)(s=>{this.toastr.error("Deleted the deployment","success in deletion")}),(0,F.K)(s=>(this.toastr.error(s,"Failed to delete the deployment record"),(0,h.of)()))))).subscribe(()=>this.toastr.success("deployment deleted","success"))}onSearch(){const t=this.service.getParams();t.search=this.searchTerm.nativeElement.value,t.pageNumber=1,this.service.setParams(t),this.getDeployments()}onReset(){this.searchTerm.nativeElement.value="",this.dParams=new q,this.service.setParams(this.dParams),this.getDeployments()}editDeploymentModal(t,n){null!==t?(this.bsModalRef=this.bsModalService.show(G,{class:"modal-dialog-centered modal-lg",initialState:{dep:t,depStatusAndNames:this.statusNameAndSeq,candidateName:n.applicationNo+"-"+n.candidateName,categoryRef:n.categoryName,companyName:n.customerName}}),this.bsModalRef.content.updateDep.pipe((0,D.h)(s=>null!==s),(0,M.w)(s=>this.service.updateDeployment(s))).subscribe(s=>{""===s?this.toastr.success("Deployment updated","Success"):this.toastr.warning(s,"Failure")})):this.toastr.warning("No Deployment object returned from the modal form")}adddNewDeployment(t){this.bsModalRef=this.bsModalService.show(B,{class:"modal-dialog-centered modal-lg",initialState:{cvRefId:t.cvRefId,depStatuses:this.depStatuses,candidateName:t.applicationNo+"-"+t.customerName,categoryRef:t.categoryName,companyName:t.customerName,ecnr:t.ecnr}}),this.bsModalRef.content.updateDep.pipe((0,D.h)(o=>null!==o),(0,M.w)(o=>this.service.updateDeploymentItem(o))).subscribe(o=>{""===o?this.toastr.success("Deployment Item inserted","Success"):this.toastr.warning(o,"Failure")})}editAttachmentModal(t,n){null!==t?(this.bsModalRef=this.bsModalService.show(ce,{class:"modal-dialog-centered modal-lg",initialState:{dep:t,depStatusAndNames:this.statusNameAndSeq,candidateName:n.applicationNo+"-"+n.candidateName,categoryRef:n.categoryName,companyName:n.customerName}}),this.bsModalRef.content.updateDep.subscribe({next:()=>this.toastr.info("attachment process completed","Process Over")})):this.toastr.warning("No Deployment object returned from the modal form")}verifyNextSequence(t,n,i){var o=this.depStatuses.filter(d=>d.sequence==t)[0],s=this.depStatuses.filter(d=>d.sequence==n)[0];return o.nextSequence===s.sequence||(console.log("thisStage:",o,"nextStage:",s),i&&700===o.sequence&&1300===n)?"":"Deployment Stage '"+o.statusName+"' should follow with '"+this.depStatuses.filter(d=>d.sequence==o.nextSequence).map(d=>d.statusName)+"'"}navigateByRoute(t,n,i,o){this.router.navigate([n+"/"+t],{state:{user:this.user,toedit:i,returnUrl:"/processing/list",depStages:o}})}getNextSeqForNextTransaction(t){var n=this.depStatuses.find(i=>i.sequence==t)?.nextSequence??0;return console.log("Next Sequence for next Transaction:",n),n}getSequenceForNextTransaction(t){var n=this.findMaxSeq(t),i=this.depStatuses.find(o=>o.sequence==n)?.nextSequence;return console.log("next sequence:",i),i??0}findMaxSeq(t){return t.deploySequence}getNextStageDateForNextTransaction(t,n){var i=new Date(t.currentSeqDate),o=this.depStatuses.find(s=>s.sequence==n)?.workingDaysReqdForNextStage;return new Date(i.setDate(i.getDate()+o))}selectionChanged(t){if(console.log("selection change:",t),void 0!==t){var n;n=!0!==t.checked;var i=this.deploysSelected.findIndex(o=>o.depId===t.depId);n?this.deploysSelected.push(t):this.deploysSelected.splice(i,1)}}applyTransactions(){if(0===this.sequenceSelected)return void this.toastr.warning("Deployment Stage not selected","Please select the deployment transaction you want to apply");if(0===this.deploysSelected.length)return void this.toastr.warning("Deployment items not selected","Please select the items that you want to apply the transactions");const t=[...new Set(this.deploysSelected.map(d=>d.deploySequence))];if(t.length>1)return this.toastr.warning("You can apply a common next sequence to items having same current sequence","error in selections"),(0,h.of)(null);if([...new Set(this.deploysSelected.map(d=>d.deploySequence))].length>1)return this.toastr.warning("You may not select items having different values of ECNR - if an item has ECNR = true, then there are different yard stick available for next sequence applicability","Error"),(0,h.of)(null);var i=this.verifyNextSequence(t[0],this.sequenceSelected,this.deploysSelected[0].ecnr);if(""!==i)return this.toastr.warning(i,"Invalid next transaction selected"),(0,h.of)(null);let o=[];if(this.deploysSelected.forEach(d=>{o.push({id:0,depId:d.depId,transactionDate:new Date,sequence:this.sequenceSelected,nextSequence:0,fullPath:""})}),1300===this.sequenceSelected){var s=[...new Set(this.deploysSelected.map(r=>r.cityOfWorking))];if(s.length>1)return void this.toastr.warning("The deployment items selected by you have more than one destination airports to travel to. Pl select the group with common destination airport, with common airport of Departure also.  Else, choose one candidate at a time","Incorrect selections for travel booking");this.bsModalRef=this.bsModalService.show(ee,{class:"modal-dialog-centered modal-lg",initialState:{destinationAirport:s[0]}}),this.bsModalRef.content.updateFlight.pipe((0,D.h)(r=>void 0!==r),(0,M.w)(r=>{if(void 0!==r){var w=[],Z=[];return o.forEach(_=>{let ye={id:0,depId:_.depId,sequence:_.sequence,nextSequence:_.nextSequence,transactionDate:_.transactionDate,nextSequenceDate:new Date,fullPath:_.fullPath},E={id:0,depId:_.depId,depItemId:0,cvRefId:0,applicationNo:0,candidateName:"",customerName:"",customerCity:"",dateOfFlight:r.dateOfFlight,flightNo:r.flightNo,airportOfBoarding:r.airportOfBoarding,airportOfDestination:r.airportOfDestination,eTD_Boarding:r.eTD_Boarding,eTA_Destination:r.eTA_Destination,airportVia:r.airportVia,flightNoVia:r.flightNoVia,eTA_Via:r.eTA_Via,eTD_Via:r.eTD_Via};Z.push(E),w.push({depItem:ye,candidateFlight:E})}),this.service.insertDepItemsWithTravelBooked(w)}return(0,h.of)(void 0)})).subscribe(r=>{if(null===r);else{for(const Z of r){var w=this.deploys.findIndex(_=>_.depId==_.depId);this.deploys[w]=Z,this.newSequence.next(Z.deploySequence)}this.toastr.success("Success","Inserted "+r.length+" number of deployment transactions")}})}else this.service.InsertDepItems(o).subscribe({next:d=>{if(null===d||0===d.length)this.toastr.warning("Failed to insert","Failed to insert any dep Transaction"),this.sequenceSelected=-1,o=[],this.deploys.forEach(r=>{});else{for(const r of d){var u=this.deploys.findIndex(w=>w.depId==r.depId);-1!==u&&(this.deploys[u]=r,this.newSequence.next(r.deploySequence),r.checked=!1)}this.toastr.success("Success","Inserted "+d+" number of deployment transactions")}},error:d=>{this.toastr.error(d.error.details,"Error encountered while adding deployment transaction")}});return(0,h.of)(null)}selected(t){this.sequenceSelected=t}displayCandidateTicket(t){this.service.getCandidateFlight(t).pipe((0,D.h)(o=>null!=o),(0,M.w)(o=>(this.bsModalRef=this.bsModalService.show(ae,{class:"modal-dialog-centered modal-md",initialState:{flight:o}}),this.bsModalRef.content.candidateFlightDelete))).subscribe(o=>{console.log("inner response:",o)})}candidateFlightDelete(t){this.service.deleteCandidateFlight(t).subscribe(i=>{i?this.toastr.success("Candidate Flight Detail deleted","Deleted successfully"):this.toastr.warning("Failed to delete the Candidate Flight","Failed to delete")})}candidateFlightEdit(t){null!=t?this.service.editCandidateFlight(t).subscribe({next:i=>{""==i?this.toastr.success("The Candidate Flight was successfully updated","Success"):this.toastr.warning(i,"failed to update the candidate flight object")}}):this.toastr.warning("null object received from CAndidate Flight modal")}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(C._W),e.Y36(x.z),e.Y36(b.tT),e.Y36(v.gz),e.Y36(f),e.Y36(v.F0))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-deploy-listing"]],viewQuery:function(n,i){if(1&n&&e.Gf(me,5),2&n){let o;e.iGM(o=e.CRH())&&(i.searchTerm=o.first)}},inputs:{EditDepEvent:"EditDepEvent"},decls:26,vars:3,consts:[["class","d-flex justify-contents-between align-items-center","style","display: inline-block; margin-left: 15px; vertical-align: top;",4,"ngIf"],[1,"my-2",2,"margin-left","50px"],[1,"stdd","w50"],[1,"stdd","w150"],[1,"stdd","w75"],[1,"stdd","w125"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-contents-between","align-items-center",2,"display","inline-block","margin-left","15px","vertical-align","top"],[1,"b","mx-5"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[1,"form-inline",2,"margin-left","50px !important"],["type","text","placeholder","Search",1,"stdd","form-control","w250",3,"keyup.enter"],["search",""],[1,"btn","w20","fa","fa-search","fa-2x",2,"color","aliceblue",3,"click"],[1,"btn","w20","fa","fa-refresh","fa-2x","mx-1",2,"color","aliceblue",3,"click"],[1,"stdd"],["bindLabel","name","bindValue","id","labelForId","id","clearAllText","Clear","title","select a status for adding new deployment transactions","placeholder","Select a Status",2,"border-style","double","width","250px","font-size","small","margin-left","10px",3,"items","ngModel","selected","ngModelChange"],["title","Press to insert transactions for the items selected",1,"btn","w20","fa","fa-check","fa-2x","mx-1",2,"color","aliceblue",3,"click"],["title","List of deployment status","routerLink","/deployment/deployStatus",1,"btn","w20","mx-1",2,"color","aliceblue"],["title","return to Main Menu","routerLink","/",1,"btn","w20","fa","fa-window-close","fa-2x","mx-1",2,"color","aliceblue"],[3,"dep","editDepEvent","deleteDepEvent","selectedEvent","showTicket","candidateFlightDeleteEvent","candidteFlightEditEvent","editAttachmentEvent"]],template:function(n,i){1&n&&(e.YNc(0,fe,17,5,"div",0),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"Sel"),e.qZA(),e.TgZ(4,"label",2),e._uU(5,"App#"),e.qZA(),e.TgZ(6,"label",3),e._uU(7,"Candidate Name"),e.qZA(),e.TgZ(8,"label",3),e._uU(9,"Customer Name"),e.qZA(),e.TgZ(10,"label",2),e._uU(11,"Order#"),e.qZA(),e.TgZ(12,"label",3),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"label",4),e._uU(15,"Referred On"),e.qZA(),e.TgZ(16,"label",4),e._uU(17,"Selected On"),e.qZA(),e.TgZ(18,"label",5),e._uU(19,"Current Dep Status"),e.qZA(),e.TgZ(20,"label",5),e._uU(21,"Next Dep Status"),e.qZA(),e.TgZ(22,"label",4),e._uU(23,"Estimated Date"),e.qZA()(),e.YNc(24,_e,2,0,"div",6),e.YNc(25,ve,2,1,"div",7)),2&n&&(e.Q6J("ngIf",i.deploys&&i.pagination),e.xp6(24),e.Q6J("ngIf",!i.deploys),e.xp6(1),e.Q6J("ngForOf",i.deploys))},dependencies:[g.sg,g.O5,pe.Qt,l.JJ,l.On,y.w9,v.rH,k.Hw,he],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;margin:1px 0;vertical-align:top;word-wrap:break-word;font-size:small}.fSmall[_ngcontent-%COMP%]{font-size:small}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.w20[_ngcontent-%COMP%]{width:20px}.w30[_ngcontent-%COMP%]{width:30px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px;font-size:smaller!important}.w100[_ngcontent-%COMP%]{width:100px}.w110[_ngcontent-%COMP%]{width:110px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w175[_ngcontent-%COMP%]{width:175px}.w200[_ngcontent-%COMP%]{width:200px}.w250[_ngcontent-%COMP%]{width:250px}.b[_ngcontent-%COMP%]{font-weight:700}.green[_ngcontent-%COMP%]{color:#006400}  .ng-select .ng-select-container,   .ng-select.ng-select-single .ng-select-container{min-height:25px;font-size:.8em;font-weight:400}"]})}return a})(),resolve:{statusNameAndSeq:()=>(0,e.f3M)(f).getDepStatusAndNames()}},{path:"deployStatus",component:(()=>{class a{constructor(t){this.activatedRoute=t,this.status=[]}ngOnInit(){this.activatedRoute.data.subscribe({next:t=>{this.status=t.statuslist}})}getSeqNameFromSeq(t){var n=this.status.findIndex(i=>i.sequence==t);return-1===n?"Invalid Seq":this.status[n].statusName}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(v.gz))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-deploy-status-list"]],decls:19,vars:1,consts:[[1,"lbl"],["routerLink","/deployment",1,"lbl","fa","fa-window-close","fa-2x","cursorpointer",2,"margin-left","100px"],[1,"lbl","w75"],[1,"lbl","w250"],[1,"lbl","w100"],[4,"ngFor","ngForOf"],[1,"w75","tAlignRight"],[1,"stdd","w250"],[1,"stdd","w100"],[1,"stdd","w75"]],template:function(n,i){1&n&&(e.TgZ(0,"h4",0),e._uU(1,"Deployment Status with Sequence Numbers"),e.qZA(),e._UZ(2,"label",1)(3,"br"),e.TgZ(4,"label",2),e._uU(5,"Sequence No"),e.qZA(),e.TgZ(6,"label",3),e._uU(7,"Deployment Status"),e.qZA(),e.TgZ(8,"label",4),e._uU(9,"Estimated days"),e._UZ(10,"br"),e._uU(11,"for this Sequence"),e.qZA(),e.TgZ(12,"label",2),e._uU(13,"Optional"),e.qZA(),e.TgZ(14,"label",2),e._uU(15,"Next Sequence"),e.qZA(),e.TgZ(16,"label",3),e._uU(17,"Next Status Name"),e.qZA(),e.YNc(18,xe,13,6,"div",5)),2&n&&(e.xp6(18),e.Q6J("ngForOf",i.status))},dependencies:[g.sg,v.rH],styles:[".w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w250[_ngcontent-%COMP%]{width:250px}.lbl[_ngcontent-%COMP%]{display:inline-block;font-size:small;font-weight:700;margin:2px;vertical-align:middle}.tAlignRight[_ngcontent-%COMP%]{display:inline-block;text-align:right;margin:2px 6px 2px 2px;padding-right:4px}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:2px;vertical-align:top}.cursorpointer[_ngcontent-%COMP%]{cursor:pointer;color:#00008b;font-weight:700}"]})}return a})(),resolve:{statuslist:()=>(0,e.f3M)(f).getDeployStatuses()}}];let De=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[g.ez,v.Bz.forChild(we),v.Bz]})}return a})(),Me=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[g.ez,P.m,De,k.Ps]})}return a})()}}]);