"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[168],{7114:(ut,J,p)=>{p.d(J,{t:()=>W});var s=p(5879),A=p(6223),v=p(6814);function V(f,N){if(1&f&&(s.TgZ(0,"div",3),s._uU(1),s.qZA()),2&f){const u=s.oxw();s.xp6(1),s.hij(" Please enter a ",u.label," ")}}function g(f,N){if(1&f&&(s.TgZ(0,"div",3),s._uU(1),s.qZA()),2&f){const u=s.oxw();s.xp6(1),s.AsE(" ",u.label," must be at least ",null==u.control.errors?null:u.control.errors.minlength.requiredLength," characters ")}}function Q(f,N){if(1&f&&(s.TgZ(0,"div",3),s._uU(1),s.qZA()),2&f){const u=s.oxw();s.xp6(1),s.AsE(" ",u.label," must be at most ",null==u.control.errors?null:u.control.errors.maxlength.requiredLength," characters ")}}function Y(f,N){if(1&f&&(s.TgZ(0,"div",3),s._uU(1),s.qZA()),2&f){const u=s.oxw();s.xp6(1),s.hij(" ",u.label," do not match ")}}let W=(()=>{class f{constructor(u){this.ngControl=u,this.label="",this.type="text",this.width="",this.ngControl.valueAccessor=this}writeValue(u){}registerOnChange(u){}registerOnTouched(u){}get control(){return this.ngControl.control}static#e=this.\u0275fac=function(I){return new(I||f)(s.Y36(A.a5,2))};static#t=this.\u0275cmp=s.Xpm({type:f,selectors:[["app-text-input"]],inputs:{label:"label",type:"type",width:"width"},decls:6,vars:10,consts:[[1,"mb-3",2,"vertical-align","top"],[1,"form-control",2,"font-size","small","word-wrap","normal","height","auto","margin-top","0px","margin-bottom","0px","padding-top","0px","padding-bottom","0px","background-color","darkgrey",3,"type","width","formControl","placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(I,h){1&I&&(s.TgZ(0,"div",0),s._UZ(1,"input",1),s.YNc(2,V,2,1,"div",2),s.YNc(3,g,2,2,"div",2),s.YNc(4,Q,2,2,"div",2),s.YNc(5,Y,2,1,"div",2),s.qZA()),2&I&&(s.xp6(1),s.ekj("is-invalid",h.control.touched&&h.control.invalid),s.s9C("type",h.type),s.s9C("width",h.width),s.s9C("placeholder",h.label),s.Q6J("formControl",h.control),s.xp6(1),s.Q6J("ngIf",null==h.control.errors?null:h.control.errors.required),s.xp6(1),s.Q6J("ngIf",null==h.control.errors?null:h.control.errors.minlength),s.xp6(1),s.Q6J("ngIf",null==h.control.errors?null:h.control.errors.maxlength),s.xp6(1),s.Q6J("ngIf",null==h.control.errors?null:h.control.errors.isMatching))},dependencies:[v.O5,A.Fj,A.JJ,A.oH]})}return f})()},3168:(ut,J,p)=>{p.r(J),p.d(J,{FeedbackModule:()=>$s});var s=p(6814),A=p(3983),v=p(7133),V=p(8431),g=p(6223);const f=function W(e,r){return e===r||e!=e&&r!=r},u=function N(e,r){for(var t=e.length;t--;)if(f(e[t][0],r))return t;return-1};var h=Array.prototype.splice;function O(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}O.prototype.clear=function Q(){this.__data__=[],this.size=0},O.prototype.delete=function pt(e){var r=this.__data__,t=u(r,e);return!(t<0||(t==r.length-1?r.pop():h.call(r,t,1),--this.size,0))},O.prototype.get=function _t(e){var r=this.__data__,t=u(r,e);return t<0?void 0:r[t][1]},O.prototype.has=function gt(e){return u(this.__data__,e)>-1},O.prototype.set=function mt(e,r){var t=this.__data__,o=u(t,e);return o<0?(++this.size,t.push([e,r])):t[o][1]=r,this};const H=O,fe="object"==typeof global&&global&&global.Object===Object&&global;var jt="object"==typeof self&&self&&self.Object===Object&&self;const y=fe||jt||Function("return this")(),j=y.Symbol;var _e=Object.prototype,Mt=_e.hasOwnProperty,Zt=_e.toString,U=j?j.toStringTag:void 0;var Et=Object.prototype.toString;var be=j?j.toStringTag:void 0;const E=function Gt(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":be&&be in Object(e)?function Pt(e){var r=Mt.call(e,U),t=e[U];try{e[U]=void 0;var o=!0}catch{}var a=Zt.call(e);return o&&(r?e[U]=t:delete e[U]),a}(e):function Bt(e){return Et.call(e)}(e)},B=function Jt(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)},ge=function Vt(e){if(!B(e))return!1;var r=E(e);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r};var e,Qt=y["__core-js_shared__"],he=(e=/[^.]+$/.exec(Qt&&Qt.keys&&Qt.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var Xt=Function.prototype.toString;const T=function en(e){if(null!=e){try{return Xt.call(e)}catch{}try{return e+""}catch{}}return""};var nn=/^\[object .+?Constructor\]$/,cn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const dn=function ln(e){return!(!B(e)||function Yt(e){return!!he&&he in e}(e))&&(ge(e)?cn:nn).test(T(e))},x=function fn(e,r){var t=function un(e,r){return e?.[r]}(e,r);return dn(t)?t:void 0},D=x(y,"Map"),q=x(Object,"create");var Tn=Object.prototype.hasOwnProperty;var An=Object.prototype.hasOwnProperty;function S(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}S.prototype.clear=function gn(){this.__data__=q?q(null):{},this.size=0},S.prototype.delete=function mn(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r},S.prototype.get=function xn(e){var r=this.__data__;if(q){var t=r[e];return"__lodash_hash_undefined__"===t?void 0:t}return Tn.call(r,e)?r[e]:void 0},S.prototype.has=function In(e){var r=this.__data__;return q?void 0!==r[e]:An.call(r,e)},S.prototype.set=function Sn(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=q&&void 0===r?"__lodash_hash_undefined__":r,this};const me=S,K=function Un(e,r){var t=e.__data__;return function Pn(e){var r=typeof e;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e}(r)?t["string"==typeof r?"string":"hash"]:t.map};function F(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}F.prototype.clear=function Mn(){this.size=0,this.__data__={hash:new me,map:new(D||H),string:new me}},F.prototype.delete=function En(e){var r=K(this,e).delete(e);return this.size-=r?1:0,r},F.prototype.get=function Dn(e){return K(this,e).get(e)},F.prototype.has=function Ln(e){return K(this,e).has(e)},F.prototype.set=function Jn(e,r){var t=K(this,e),o=t.size;return t.set(e,r),this.size+=t.size==o?0:1,this};const Kn=F;function M(e){var r=this.__data__=new H(e);this.size=r.size}M.prototype.clear=function vt(){this.__data__=new H,this.size=0},M.prototype.delete=function Tt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t},M.prototype.get=function kt(e){return this.__data__.get(e)},M.prototype.has=function At(e){return this.__data__.has(e)},M.prototype.set=function zn(e,r){var t=this.__data__;if(t instanceof H){var o=t.__data__;if(!D||o.length<199)return o.push([e,r]),this.size=++t.size,this;t=this.__data__=new Kn(o)}return t.set(e,r),this.size=t.size,this};const Qn=M;var $n=function(){try{var e=x(Object,"defineProperty");return e({},"",{}),e}catch{}}();const ye=$n,ve=function Xn(e,r,t){"__proto__"==r&&ye?ye(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t};var tr=Object.prototype.hasOwnProperty;const Ce=function nr(e,r,t){var o=e[r];(!tr.call(e,r)||!f(o,t)||void 0===t&&!(r in e))&&ve(e,r,t)},R=function rr(e,r,t,o){var a=!t;t||(t={});for(var i=-1,c=r.length;++i<c;){var _=r[i],b=o?o(t[_],e[_],_,t,e):void 0;void 0===b&&(b=e[_]),a?ve(t,_,b):Ce(t,_,b)}return t},L=function sr(e){return null!=e&&"object"==typeof e},Te=function cr(e){return L(e)&&"[object Arguments]"==E(e)};var xe=Object.prototype,lr=xe.hasOwnProperty,dr=xe.propertyIsEnumerable,ur=Te(function(){return arguments}())?Te:function(e){return L(e)&&lr.call(e,"callee")&&!dr.call(e,"callee")};const pr=ur,X=Array.isArray;var ke="object"==typeof exports&&exports&&!exports.nodeType&&exports,we=ke&&"object"==typeof module&&module&&!module.nodeType&&module,Ae=we&&we.exports===ke?y.Buffer:void 0;const Ie=(Ae?Ae.isBuffer:void 0)||function _r(){return!1};var vr=/^(?:0|[1-9]\d*)$/;const Tr=function Cr(e,r){var t=typeof e;return!!(r=r??9007199254740991)&&("number"==t||"symbol"!=t&&vr.test(e))&&e>-1&&e%1==0&&e<r},Oe=function kr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Arguments]"]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d["[object Map]"]=d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1;const ee=function Wr(e){return function(r){return e(r)}};var je="object"==typeof exports&&exports&&!exports.nodeType&&exports,G=je&&"object"==typeof module&&module&&!module.nodeType&&module,te=G&&G.exports===je&&fe.process;const Z=function(){try{return G&&G.require&&G.require("util").types||te&&te.binding&&te.binding("util")}catch{}}();var Se=Z&&Z.isTypedArray;const to=Se?ee(Se):function Qr(e){return L(e)&&Oe(e.length)&&!!d[E(e)]};var ro=Object.prototype.hasOwnProperty;const Fe=function oo(e,r){var t=X(e),o=!t&&pr(e),a=!t&&!o&&Ie(e),i=!t&&!o&&!a&&to(e),c=t||o||a||i,_=c?function or(e,r){for(var t=-1,o=Array(e);++t<e;)o[t]=r(t);return o}(e.length,String):[],b=_.length;for(var m in e)(r||ro.call(e,m))&&(!c||!("length"==m||a&&("offset"==m||"parent"==m)||i&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||Tr(m,b)))&&_.push(m);return _};var ao=Object.prototype;const ne=function so(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||ao)},Me=function io(e,r){return function(t){return e(r(t))}},lo=Me(Object.keys,Object);var po=Object.prototype.hasOwnProperty;const Ze=function bo(e){return null!=e&&Oe(e.length)&&!ge(e)},re=function go(e){return Ze(e)?Fe(e):function fo(e){if(!ne(e))return lo(e);var r=[];for(var t in Object(e))po.call(e,t)&&"constructor"!=t&&r.push(t);return r}(e)};var To=Object.prototype.hasOwnProperty;const ko=function xo(e){if(!B(e))return function yo(e){var r=[];if(null!=e)for(var t in Object(e))r.push(t);return r}(e);var r=ne(e),t=[];for(var o in e)"constructor"==o&&(r||!To.call(e,o))||t.push(o);return t},oe=function wo(e){return Ze(e)?Fe(e,!0):ko(e)};var Pe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ne=Pe&&"object"==typeof module&&module&&!module.nodeType&&module,Ue=Ne&&Ne.exports===Pe?y.Buffer:void 0,Ee=Ue?Ue.allocUnsafe:void 0;const Be=function No(){return[]};var Eo=Object.prototype.propertyIsEnumerable,De=Object.getOwnPropertySymbols,Bo=De?function(e){return null==e?[]:(e=Object(e),function Zo(e,r){for(var t=-1,o=null==e?0:e.length,a=0,i=[];++t<o;){var c=e[t];r(c,t,e)&&(i[a++]=c)}return i}(De(e),function(r){return Eo.call(e,r)}))}:Be;const ae=Bo,qe=function Lo(e,r){for(var t=-1,o=r.length,a=e.length;++t<o;)e[a+t]=r[t];return e},Le=Me(Object.getPrototypeOf,Object);var Ho=Object.getOwnPropertySymbols?function(e){for(var r=[];e;)qe(r,ae(e)),e=Le(e);return r}:Be;const Ge=Ho,Je=function zo(e,r,t){var o=r(e);return X(e)?o:qe(o,t(e))},Qo=function Vo(e){return Je(e,re,ae)},Wo=function Yo(e){return Je(e,oe,Ge)},se=x(y,"DataView"),ie=x(y,"Promise"),ce=x(y,"Set"),le=x(y,"WeakMap");var He="[object Map]",Ke="[object Promise]",Re="[object Set]",ze="[object WeakMap]",Ve="[object DataView]",ra=T(se),oa=T(D),aa=T(ie),sa=T(ce),ia=T(le),k=E;(se&&k(new se(new ArrayBuffer(1)))!=Ve||D&&k(new D)!=He||ie&&k(ie.resolve())!=Ke||ce&&k(new ce)!=Re||le&&k(new le)!=ze)&&(k=function(e){var r=E(e),t="[object Object]"==r?e.constructor:void 0,o=t?T(t):"";if(o)switch(o){case ra:return Ve;case oa:return He;case aa:return Ke;case sa:return Re;case ia:return ze}return r});const de=k;var la=Object.prototype.hasOwnProperty;const Qe=y.Uint8Array,ue=function fa(e){var r=new e.constructor(e.byteLength);return new Qe(r).set(new Qe(e)),r};var ga=/\w*$/;var Ye=j?j.prototype:void 0,We=Ye?Ye.valueOf:void 0;const Ja=function Ga(e,r,t){var o=e.constructor;switch(r){case"[object ArrayBuffer]":return ue(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function _a(e,r){var t=r?ue(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Ca(e,r){var t=r?ue(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}(e,t);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function ha(e){var r=new e.constructor(e.source,ga.exec(e));return r.lastIndex=e.lastIndex,r}(e);case"[object Symbol]":return function ya(e){return We?Object(We.call(e)):{}}(e)}};var $e=Object.create,Ha=function(){function e(){}return function(r){if(!B(r))return{};if($e)return $e(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();const Ka=Ha;var Xe=Z&&Z.isMap;const $a=Xe?ee(Xe):function Qa(e){return L(e)&&"[object Map]"==de(e)};var et=Z&&Z.isSet;const rs=et?ee(et):function es(e){return L(e)&&"[object Set]"==de(e)};var tt="[object Arguments]",nt="[object Function]",rt="[object Object]",l={};l[tt]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object DataView]"]=l["[object Boolean]"]=l["[object Date]"]=l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Map]"]=l["[object Number]"]=l[rt]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object Symbol]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Error]"]=l[nt]=l["[object WeakMap]"]=!1;const Ss=function z(e,r,t,o,a,i){var c,_=1&r,b=2&r,m=4&r;if(t&&(c=a?t(e,o,a,i):t(e)),void 0!==c)return c;if(!B(e))return e;var it=X(e);if(it){if(c=function da(e){var r=e.length,t=new e.constructor(r);return r&&"string"==typeof e[0]&&la.call(e,"index")&&(t.index=e.index,t.input=e.input),t}(e),!_)return function Fo(e,r){var t=-1,o=e.length;for(r||(r=Array(o));++t<o;)r[t]=e[t];return r}(e,c)}else{var P=de(e),ct=P==nt||"[object GeneratorFunction]"==P;if(Ie(e))return function jo(e,r){if(r)return e.slice();var t=e.length,o=Ee?Ee(t):new e.constructor(t);return e.copy(o),o}(e,_);if(P==rt||P==tt||ct&&!a){if(c=b||ct?{}:function Ra(e){return"function"!=typeof e.constructor||ne(e)?{}:Ka(Le(e))}(e),!_)return b?function Ko(e,r){return R(e,Ge(e),r)}(e,function Ao(e,r){return e&&R(r,oe(r),e)}(c,e)):function Do(e,r){return R(e,ae(e),r)}(e,function ho(e,r){return e&&R(r,re(r),e)}(c,e))}else{if(!l[P])return a?e:{};c=Ja(e,P,_)}}i||(i=new Qn);var lt=i.get(e);if(lt)return lt;i.set(e,c),rs(e)?e.forEach(function(C){c.add(z(C,r,t,C,e,i))}):$a(e)&&e.forEach(function(C,w){c.set(w,z(C,r,t,w,e,i))});var dt=it?void 0:(m?b?Wo:Qo:b?oe:re)(e);return function Yn(e,r){for(var t=-1,o=null==e?0:e.length;++t<o&&!1!==r(e[t],t,e););}(dt||e,function(C,w){dt&&(C=e[w=C]),Ce(c,w,z(C,r,t,w,e,i))}),c};var n=p(5879),Ns=p(7411),pe=p(639),Us=p(8763),ot=p(3593),Es=p(4807),Bs=p(7114);function Ds(e,r){1&e&&(n.TgZ(0,"div",5),n._uU(1," No feedback on record\n"),n.qZA())}function qs(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"div",0),n._UZ(1,"input",44),n.TgZ(2,"input",45),n.NdJ("change",function(){n.CHM(t);const a=n.oxw().index,i=n.oxw(2);return n.KtG(i.gradeChanged(a))}),n.qZA(),n._UZ(3,"input",46),n.TgZ(4,"input",47),n.NdJ("change",function(){n.CHM(t);const a=n.oxw().index,i=n.oxw(2);return n.KtG(i.gradeChanged(a))}),n.qZA()()}}function Ls(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"div",33),n._UZ(1,"input",34)(2,"app-text-input",35)(3,"input",36),n.TgZ(4,"input",37),n.NdJ("change",function(){const i=n.CHM(t).index,c=n.oxw(2);return n.KtG(c.gradeChanged(i))}),n.qZA(),n._UZ(5,"input",38),n.TgZ(6,"input",39),n.NdJ("change",function(){const i=n.CHM(t).index,c=n.oxw(2);return n.KtG(c.gradeChanged(i))}),n.qZA(),n.YNc(7,qs,5,0,"div",40),n.TgZ(8,"div",41),n._UZ(9,"app-text-input",42),n.qZA(),n.TgZ(10,"button",43),n.NdJ("click",function(){const i=n.CHM(t).index,c=n.oxw(2);return n.KtG(c.removeFeedbackItem(i))}),n.qZA()()}if(2&e){const t=r.index;n.Q6J("formGroupName",t),n.xp6(2),n.Q6J("label","Question"),n.xp6(5),n.Q6J("ngIf",t<8),n.xp6(1),n.Q6J("ngClass",t<8?"":"mL215"),n.xp6(1),n.Q6J("label","Remarks")}}const at=function(){return{dateInputFormat:"YYYY-MM-DD"}};function Gs(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"label",8),n._uU(3,"Customer Name"),n.qZA(),n.TgZ(4,"div",9),n._uU(5),n.qZA(),n.TgZ(6,"label",8),n._uU(7,"Feedback No"),n.qZA(),n.TgZ(8,"div",10),n._uU(9),n.qZA(),n._UZ(10,"br"),n.TgZ(11,"label",8),n._uU(12,"Official Name"),n.qZA(),n.TgZ(13,"div",9),n._uU(14),n.qZA(),n.TgZ(15,"label",11),n._uU(16,"Designation"),n.qZA(),n.TgZ(17,"div",12),n._uU(18),n.qZA(),n._UZ(19,"br"),n.TgZ(20,"label",8),n._uU(21,"Email"),n.qZA(),n.TgZ(22,"div",9),n._uU(23),n.qZA(),n.TgZ(24,"label",11),n._uU(25,"Phone No"),n.qZA(),n.TgZ(26,"div",13),n._uU(27),n.qZA(),n.TgZ(28,"label",14),n._uU(29,"Grade"),n.qZA(),n.TgZ(30,"div",15),n._uU(31),n.qZA()(),n.TgZ(32,"div",16)(33,"ng-select",17),n.NdJ("ngModelChange",function(a){n.CHM(t);const i=n.oxw();return n.KtG(i.feedbackIdSelected=a)}),n.qZA(),n.TgZ(34,"button",18),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.showFeedback())}),n.qZA(),n.TgZ(35,"button",19),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.newFeedback())}),n.qZA(),n.TgZ(36,"button",20),n.NdJ("click",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.sendEmail())}),n.qZA()(),n.TgZ(37,"form",21),n._UZ(38,"hr",22),n.TgZ(39,"label",8),n._uU(40,"Issued On"),n.qZA(),n._UZ(41,"input",23),n.TgZ(42,"label",24),n._uU(43,"Received On"),n.qZA(),n._UZ(44,"input",25)(45,"br"),n.TgZ(46,"label",26),n._uU(47,"Sr#"),n.qZA(),n.TgZ(48,"label",27),n._uU(49,"Parameter"),n.qZA(),n.TgZ(50,"label",28),n._uU(51,"Response"),n.qZA(),n.TgZ(52,"label",29),n._uU(53,"Remarks"),n.qZA(),n._UZ(54,"hr",30),n.TgZ(55,"div",31),n.YNc(56,Ls,11,5,"div",32),n.qZA()()()}if(2&e){const t=n.oxw();n.xp6(5),n.AsE(" ",t.feedback.customerName,", ",t.feedback.city,""),n.xp6(4),n.Oqu(t.feedback.feedbackNo),n.xp6(5),n.hij(" ",t.feedback.officialName,""),n.xp6(4),n.hij(" ",t.feedback.designation,""),n.xp6(5),n.hij(" ",t.feedback.email,""),n.xp6(4),n.hij(" ",t.feedback.phoneNo,""),n.xp6(4),n.hij(" ",t.feedback.gradeAssessedByClient,""),n.xp6(2),n.Q6J("items",t.feedbackHistory)("ngModel",t.feedbackIdSelected),n.xp6(1),n.Q6J("disabled",0===(null==t.feedbackHistory?null:t.feedbackHistory.length)),n.xp6(1),n.Q6J("disabled",0===t.feedback.id),n.xp6(2),n.Q6J("formGroup",t.form),n.xp6(4),n.Q6J("bsValue",t.bsValueDate)("bsConfig",n.DdM(18,at)),n.xp6(3),n.Q6J("bsValue",t.bsValueDate)("bsConfig",n.DdM(19,at)),n.xp6(12),n.Q6J("ngForOf",t.feedbackItems.controls)}}let Js=(()=>{class e{constructor(t,o,a,i,c,_){this.fb=t,this.confirm=o,this.activatedRoute=a,this.service=i,this.toastr=c,this.router=_,this.bsValueDate=new Date,this.bsValue=new Date,this.feedbackHistory=[],this.feedbackIdSelected=-1,this.lastFeedbackIdSelected=-1,this.form=new g.cw({}),this.returnUrl="";let b=this.router.getCurrentNavigation();b?.extras&&b.extras.state&&(b.extras.state.returnUrl&&(this.returnUrl=b.extras.state.returnUrl),b.extras.state.user&&(this.user=b.extras.state.user))}ngOnInit(){this.activatedRoute.data.subscribe({next:t=>{this.feedback=t.feedback,this.feedbackHistory=t.history,this.feedback&&this.InitializeForm(this.feedback),console.log("history:",this.feedbackHistory)},error:t=>{console.log("error:",t),this.toastr.error(t.error.error.details,"Error encountered")}})}InitializeForm(t){console.log("feedbk:",t),this.form=this.fb.group({id:t.id,customerId:t.customerId,customerName:t.customerName,city:t.city,officialName:t.officialName,designation:t.designation,email:t.email,phoneNo:t.phoneNo,dateIssued:t.dateIssued,dateReceived:t.dateReceived,gradeAssessedByClient:t.gradeAssessedByClient,customerSuggestion:t.customerSuggestion,feedbackNo:t.feedbackNo,feedbackItems:this.fb.array(t.feedbackItems.map(o=>this.fb.group({id:o.id,customerFeedbackId:o.customerFeedbackId,feedbackGroup:o.feedbackGroup,questionNo:o.questionNo,question:[o.question,g.kI.required],response:[o.response],prompt1:[o.prompt1,g.kI.required],prompt2:[o.prompt2,g.kI.required],prompt3:[o.prompt3],prompt4:o.prompt4,remarks:o.remarks})))})}get feedbackItems(){return this.form.get("feedbackItems")}newFeedbackItem(){var t=this.feedbackItems.at(this.feedbackItems.length-1);return this.fb.group({id:0,customerFeedbackId:this.feedback?.id,questionNo:t.get("questionNo")?.value+1,question:"",isMandatory:!1,prompt1:"",prompt2:"",prompt3:"",prompt4:"",remarks:"",response:""})}addNewFeedbackItem(){this.feedbackItems.push(this.newFeedbackItem)}removeFeedbackItem(t){this.confirm.confirm("Are you sure you want to delete this record?","confirm Delete").subscribe({next:o=>{o&&this.feedbackItems.removeAt(t)}})}updateFeedback(){"0"===this.form.get("feedbackNo")?.value?this.editFeedback():this.saveNewFeedback()}editFeedback(){this.service.updateFeedback(this.form.value).subscribe({next:t=>{Number(t)?this.toastr.success("Feedback updated","Success"):this.toastr.warning("Failed to update the feedback","Failed")},error:t=>this.toastr.error(t.error.details,"Error")})}saveNewFeedback(){this.service.saveNewFeedback(this.form.value).subscribe({next:t=>{null!==t?(this.form.get("id")?.setValue(t.id),this.form.get("feedbackNo")?.setValue(t.feedbackNo),this.toastr.success("Feedback inserted into the database","Success")):this.toastr.warning("Failed to update the new feedback","Failed")},error:t=>this.toastr.error(t.error.details,"Error encountered")})}generateLinkForAddresses(){}close(){this.router.navigateByUrl(this.returnUrl)}gradeChanged(t){var a=100*this.feedbackItems.value.map(c=>+c.response).reduce((c,_)=>c+_,0)/(20*this.feedback.feedbackItems.length),i=a>90?"A+":a>80?"A":a>70?"B+":a>60?"B":a>50?"C":"D";this.form.get("gradeAssessedByClient")?.setValue(i+"("+Math.round(a)+"%)")}showFeedback(){this.feedbackIdSelected===this.lastFeedbackIdSelected&&-1===this.feedbackIdSelected||(this.service.getFeedbackObject(this.feedbackIdSelected,0).subscribe({next:t=>{this.feedback=t,this.InitializeForm(this.feedback)}}),this.lastFeedbackIdSelected=this.feedbackIdSelected)}newFeedback(){if(0===this.feedback.customerId)return;const t=function Zs(e){return Ss(e,5)}(this.feedback);t.feedbackNo=0,this.form.get("feedbackNo")?.setValue(0),this.InitializeForm(t)}sendEmail(){0!==this.feedback.id?this.service.sendFeedbackMail(this.feedback.id).subscribe({next:t=>{""===t||null===t?this.toastr.success("Feedback mail composed, and can be viewed in messages","Message composed"):this.toastr.info(t,"Failed to compose message")},error:t=>{this.toastr.error(t.error.details,"Error in composing email message")}}):this.toastr.warning("This feedback needs to be saved before its link can be forwarded to the customer","feedback not saved")}static#e=this.\u0275fac=function(o){return new(o||e)(n.Y36(g.qu),n.Y36(Ns.z),n.Y36(v.gz),n.Y36(pe.T),n.Y36(Us._W),n.Y36(v.F0))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-feedback"]],decls:6,vars:3,consts:[[1,"stdd"],[1,"stdd","btn","fa","fa-save","fa-2x","mL600",2,"color","aliceblue",3,"disabled","click"],[1,"stdd","btn","fa","fa-window-close","fa-2x","mx-15",2,"color","aliceblue","margin-left","50px",3,"click"],["class","my-5",4,"ngIf"],["class","container",4,"ngIf"],[1,"my-5"],[1,"container"],[2,"vertical-align","top","display","inline-block"],[1,"lbl","w150","fSmall","b"],[1,"stdd","w250","fSmall"],[1,"stdd","w75","fSmall"],[1,"lbl","w120","fSmall","b"],[1,"stdd","w200","fSmall"],[1,"stdd","w150","fSmall"],[1,"lbl","w50","fSmall","b",2,"margin-left","5px"],[1,"stdd","w100","fSmall"],[2,"vertical-align","top","display","inline-block","margin-left","15px"],["bindLabel","feedbackIssueDate","bindValue","feedbackId","labelForId","feedbackId","clearAllText","Clear",2,"width","200px","display","inline-block",3,"items","ngModel","ngModelChange"],["title","click to display the selected Feedback",1,"btn","fa","fa-search","fa-2x",2,"display","inline-block","color","aliceblue",3,"disabled","click"],["title","click to add a new feedback for the customer",1,"btn","fa","fa-plus","fa-2x","mx-1",2,"display","inline-block","color","aliceblue",3,"disabled","click"],["title","click to add a new feedback for the customer",1,"btn","fa","fa-envelope","fa-2x",2,"display","inline-block","color","aliceblue",3,"click"],[3,"formGroup"],[1,"my-2",2,"border-width","2px","border-color","black"],["type","text","placeholder","Issued On","formControlName","dateIssued","bsDatepicker","",1,"stdd","fSmall","w100",3,"bsValue","bsConfig"],[1,"lbl","w150","fSmall","b",2,"margin-left","150px !important"],["type","text","placeholder","Received On","formControlName","dateReceived","bsDatepicker","",1,"stdd","fSmall","w100",3,"bsValue","bsConfig"],[1,"lbl","fSmaller","b","w35"],[1,"lbl","fSmaller","b","w450"],[1,"lbl","fSmaller","b","w150"],[1,"lbl","fSmaller","b","w250",2,"margin-left","200px !important"],[1,"my-0",2,"border-width","2px","border-color","black"],["formArrayName","feedbackItems",1,"my-2"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["type","text","formControlName","questionNo",1,"stdd","w25","fSmaller",2,"background-color","darkgrey"],["formControlName","question",1,"stdd","w450",2,"word-wrap","break-word","vertical-align","top",3,"label"],["type","text","formControlName","prompt1",1,"prompt","w75"],["type","radio","id","i","value","20","checked","response==='20'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["type","text","formControlName","prompt2",1,"prompt","w50"],["type","radio","id","i","value","15","checked","response==='15'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["class","stdd",4,"ngIf"],[1,"stdd","w200",3,"ngClass"],["formControlName","remarks",3,"label"],[1,"btn","fa","fa-trash","red",3,"click"],["type","text","formControlName","prompt3",1,"prompt","w75"],["type","radio","id","i","value","10","checked","response==='10'","formControlName","response",1,"inputcheck","form-check-input",3,"change"],["type","text","formControlName","prompt4",1,"prompt","w75"],["type","radio","id","i","value","5","checked","response==='5'","formControlName","response",1,"inputcheck","form-check-input",3,"change"]],template:function(o,a){1&o&&(n.TgZ(0,"h4",0),n._uU(1,"Customer Feedback"),n.qZA(),n.TgZ(2,"button",1),n.NdJ("click",function(){return a.updateFeedback()}),n.qZA(),n.TgZ(3,"button",2),n.NdJ("click",function(){return a.close()}),n.qZA(),n.YNc(4,Ds,2,0,"div",3),n.YNc(5,Gs,57,20,"div",4)),2&o&&(n.xp6(2),n.Q6J("disabled",!a.form.dirty),n.xp6(2),n.Q6J("ngIf",!a.feedback),n.xp6(1),n.Q6J("ngIf",a.feedback))},dependencies:[s.mk,s.sg,s.O5,ot.Np,ot.Y5,g._Y,g.Fj,g._,g.JJ,g.JL,g.On,g.sg,g.u,g.x0,g.CE,Es.w9,Bs.t],styles:['.lbl[_ngcontent-%COMP%]{display:inline-block;margin:0 1px;padding:0;font-weight:700;vertical-align:top;word-wrap:normal}.stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 1px;vertical-align:top;padding:0;word-wrap:normal}.btn[_ngcontent-%COMP%]{color:#f0f8ff}.hist[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;color:#00008b;font-size:small}.fSmall[_ngcontent-%COMP%]{font-size:small}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.mL215[_ngcontent-%COMP%]{margin-left:215px}.mL600[_ngcontent-%COMP%]{margin-left:600px!important}.mL50[_ngcontent-%COMP%]{margin-left:50px!important}.cursorPointer[_ngcontent-%COMP%]{cursor:pointer;color:#00008b}.inputCheck[_ngcontent-%COMP%]{margin-right:5px;width:40px;margin-left:10px;border:2px;border-color:#000}input[type=radio][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:20px;height:20px;border:1px solid #fff;border-radius:50%;margin-right:10px;background-color:#c3b1b1;position:relative}input[type=radio][_ngcontent-%COMP%]:checked:before{content:"";display:block;width:8px;height:8px;background-color:#4a0fec;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);animation:appear .8s}md-content[_ngcontent-%COMP%]{position:absolute;height:100px}.prompt[_ngcontent-%COMP%]{font-size:x-small;margin-left:1px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;background-color:#a9a9a9}.w25[_ngcontent-%COMP%]{width:25px}.w35[_ngcontent-%COMP%]{width:35px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w80[_ngcontent-%COMP%]{width:80px}.w100[_ngcontent-%COMP%]{width:100px}.w120[_ngcontent-%COMP%]{width:120px}.w150[_ngcontent-%COMP%]{width:150px}.w200[_ngcontent-%COMP%]{width:200px}.w250[_ngcontent-%COMP%]{width:250px}.w450[_ngcontent-%COMP%]{width:450px}']})}return e})();var Hs=p(8180),Ks=p(7783);let Rs=(()=>{class e{constructor(t,o){this.router=t,this.accountService=o,this.returnUrl="",this.accountService.currentUser$.pipe((0,Hs.q)(1)).subscribe({next:i=>{i&&(this.user=i)}});let a=this.router.getCurrentNavigation();a?.extras&&a.extras.state&&(a.extras.state.returnUrl&&(this.returnUrl=a.extras.state.returnUrl),a.extras.state.user&&(this.user=a.extras.state.user))}ListClicked(){this.navigateByUrl("/feedback/list")}StddQsClicked(){}GoHomeClicked(){}navigateByUrl(t){this.router.navigate([t],{state:{user:this.user,returnUrl:"/feedback"}})}static#e=this.\u0275fac=function(o){return new(o||e)(n.Y36(v.F0),n.Y36(Ks.B))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-feedback-menu"]],decls:6,vars:0,consts:[[1,"container","d-flex","justify-contents-between","align-items-center","mt-5"],["routerLink","/feedback/list","title","Index of Feedbacks",1,"stdd"],["routerLink","/feedback/stddqs","title","Standard Feedback Questions",1,"stdd"],["routerLink","/administration","title","go back to home",1,"stdd","fa","fa-home","fa-2x"]],template:function(o,a){1&o&&(n.TgZ(0,"div",0)(1,"button",1),n._uU(2,"List of Feedbacks"),n.qZA(),n.TgZ(3,"button",2),n._uU(4,"Feedback Questions"),n.qZA(),n._UZ(5,"button",3),n.qZA())},dependencies:[v.rH],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:medium;width:100px;word-wrap:normal;height:4em}"]})}return e})(),zs=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-feedback-stdd-qs"]],decls:2,vars:0,template:function(o,a){1&o&&(n.TgZ(0,"p"),n._uU(1,"feedback-stdd-qs works!"),n.qZA())}})}return e})();var st=p(2096);const Ys=[{path:"",component:Rs},{path:"list",component:V.t},{path:"edit/:id/:customerId",component:Js,resolve:{feedback:e=>{var r=e.paramMap.get("id")??"0",t=e.paramMap.get("customerId")??"0";return"0"===r&&"0"===t?(0,st.of)(null):(0,n.f3M)(pe.T).getFeedbackObject(+r,+t)},history:e=>{var r=e.paramMap.get("customerId")??"0";return"0"===r?(0,st.of)(null):(0,n.f3M)(pe.T).getFeedbackHistory(+r)}}},{path:"stddQs",component:zs}];let Ws=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=n.oAB({type:e});static#n=this.\u0275inj=n.cJS({imports:[s.ez,v.Bz.forChild(Ys),v.Bz]})}return e})(),$s=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=n.oAB({type:e});static#n=this.\u0275inj=n.cJS({imports:[s.ez,A.m,Ws]})}return e})()}}]);