"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[575],{7114:(T,v,s)=>{s.d(v,{t:()=>P});var e=s(5879),a=s(6223),f=s(6814);function x(u,_){if(1&u&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&u){const h=e.oxw();e.xp6(1),e.hij(" Please enter a ",h.label," ")}}function t(u,_){if(1&u&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&u){const h=e.oxw();e.xp6(1),e.AsE(" ",h.label," must be at least ",null==h.control.errors?null:h.control.errors.minlength.requiredLength," characters ")}}function C(u,_){if(1&u&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&u){const h=e.oxw();e.xp6(1),e.AsE(" ",h.label," must be at most ",null==h.control.errors?null:h.control.errors.maxlength.requiredLength," characters ")}}function p(u,_){if(1&u&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&u){const h=e.oxw();e.xp6(1),e.hij(" ",h.label," do not match ")}}let P=(()=>{class u{constructor(h){this.ngControl=h,this.label="",this.type="text",this.width="",this.ngControl.valueAccessor=this}writeValue(h){}registerOnChange(h){}registerOnTouched(h){}get control(){return this.ngControl.control}static#t=this.\u0275fac=function(i){return new(i||u)(e.Y36(a.a5,2))};static#e=this.\u0275cmp=e.Xpm({type:u,selectors:[["app-text-input"]],inputs:{label:"label",type:"type",width:"width"},decls:6,vars:10,consts:[[1,"mb-3",2,"vertical-align","middle"],[1,"form-control",2,"font-size","small","word-wrap","normal","height","auto","margin-top","0px","margin-bottom","0px","padding-top","0px","padding-bottom","0px",3,"type","width","formControl","placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(i,l){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.YNc(2,x,2,1,"div",2),e.YNc(3,t,2,2,"div",2),e.YNc(4,C,2,2,"div",2),e.YNc(5,p,2,1,"div",2),e.qZA()),2&i&&(e.xp6(1),e.ekj("is-invalid",l.control.touched&&l.control.invalid),e.s9C("type",l.type),e.s9C("width",l.width),e.s9C("placeholder",l.label),e.Q6J("formControl",l.control),e.xp6(1),e.Q6J("ngIf",null==l.control.errors?null:l.control.errors.required),e.xp6(1),e.Q6J("ngIf",null==l.control.errors?null:l.control.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==l.control.errors?null:l.control.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==l.control.errors?null:l.control.errors.isMatching))},dependencies:[f.O5,a.Fj,a.JJ,a.oH]})}return u})()},4911:(T,v,s)=>{s.d(v,{D:()=>e});class e{constructor(){this.customerType="customer",this.customerCityName="",this.customerIndustryId=0,this.includeOfficials=!1,this.includeIndustries=!1,this.sort="name",this.pageNumber=1,this.pageSize=10,this.search=""}}},3056:(T,v,s)=>{s.d(v,{p:()=>e});class e{constructor(){this.candidateId=0,this.candidateName="",this.applicationNo=0,this.agentId=0,this.customerId=0,this.orderId=0,this.orderNo=0,this.selectionStatus="",this.sort="name",this.pageNumber=1,this.pageSize=15,this.search=""}}},101:(T,v,s)=>{s.d(v,{_:()=>e});class e{constructor(){this.id=0,this.professionName="",this.search="",this.pageNumber=1,this.pageSize=10}}},7208:(T,v,s)=>{s.d(v,{h:()=>f});var e=s(5879),a=s(70);const f=()=>(0,e.f3M)(a.H).getCategoryList()},7450:(T,v,s)=>{s.d(v,{v:()=>u});var e=s(7328),a=s(2096),f=s(7398),x=s(5516),t=s(1436),C=s(4911),p=s(5879),P=s(9862);let u=(()=>{class _{constructor(i){this.http=i,this.apiUrl=x.N.apiUrl,this.currentUserSource=new e.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.custParams=new C.D,this.customerType="",this.customersBrief=[],this.cache=new Map}getCustomerNameFromId(i){if(this.customersBrief.length>0){var l=this.customersBrief.find(r=>r.id===i);if(null!==l)return(0,a.of)(l?.knownAs)}return this.http.get(this.apiUrl+"customers/customernamefromId/"+i)}getCustomers(i){const l=this.cache.get(Object.values(i).join("-"));if(l)return(0,a.of)(l);this.customerType=i.customerType??"customer";let r=(0,t.VY)(i);return(0,t.Tr)(this.apiUrl+"customers",r,this.http).pipe((0,f.U)(o=>(this.cache.set(Object.values(i).join("-"),o),o)))}getClientIdAndNames(){return this.http.get(this.apiUrl+"customers/clientidandnames/customer")}getCustomer(i){return this.http.get(this.apiUrl+"customers/byid/"+i)}register(i){return this.http.post(this.apiUrl+"customers",i)}getCustomerCities(i){return this.http.get(this.apiUrl+"customers/customercities/"+i)}deleteCustomer(i){return this.http.delete(this.apiUrl+"Customers/customer/"+i)}deleteCustomerOfficial(i){return this.http.delete(this.apiUrl+"Customers/official/"+i)}setParams(i){this.custParams=i}getParams(){return this.custParams}updateCustomer(i){return this.http.put(this.apiUrl+"customers/edit",i)}getAgents(){return this.http.get(this.apiUrl+"customers/agentdetails/associate")}getOfficialAndCustomerName(){return this.http.get(this.apiUrl+"customers/officialidandcustomernames/customer")}getAgentIdAndNames(){return this.http.get(this.apiUrl+"customers/clientidandnames/associate")}getCustomerAndCities(){return this.http.get(this.apiUrl+"customers/customerCities/customer")}remindClientForSelections(i){return this.http.get(this.apiUrl+"CVRef/selDecisionReminder/"+i)}getFeedbackHistory(i){return this.http.get(this.apiUrl+"Feedback/history/"+i)}getOrCreateCustomerReview(i){return this.http.get(this.apiUrl+"CustomerReview/getOrCreateObject/"+i)}static#t=this.\u0275fac=function(l){return new(l||_)(p.LFG(P.eN))};static#e=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},9537:(T,v,s)=>{s.d(v,{h:()=>C});var e=s(7328);class a{constructor(){this.id=0,this.name="",this.sort="name",this.pageNumber=1,this.pageSize=10,this.search=""}}var f=s(5516),x=s(5879),t=s(9862);let C=(()=>{class p{constructor(u){this.http=u,this.apiUrl=f.N.apiUrl,this.currentUserSource=new e.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.mParams=new a}getQualificationList(){return this.http.get(this.apiUrl+"Qualification/qualificationlist")}getQualification(u){return this.http.get(this.apiUrl+"Qualification/qById/"+u)}updateQualification(u,_){return this.http.put(this.apiUrl+"Qualification/edit",{id:u,qualificationName:_})}deleteQualification(u){return this.http.delete(this.apiUrl+"Qualification/delete/"+u)}static#t=this.\u0275fac=function(_){return new(_||p)(x.LFG(t.eN))};static#e=this.\u0275prov=x.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},70:(T,v,s)=>{s.d(v,{H:()=>u});var e=s(7328),a=s(2096),f=s(7398),x=s(5516),t=s(1436),C=s(101),p=s(5879),P=s(9862);let u=(()=>{class _{constructor(i){this.http=i,this.apiUrl=x.N.apiUrl,this.currentUserSource=new e.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.mParams=new C._,this.professions=[],this.cache=new Map}getCategoryList(){return this.http.get(this.apiUrl+"Profession/professionlist")}getVendorFacilityList(){return this.http.get(this.apiUrl+"masters/VendorFacilityList")}getCategoriesPaged(i,l=!0){if(l){const o=this.cache.get(Object.values(i).join("-"));if(o)return(0,a.of)(o)}else this.cache=new Map;let r=(0,t.eO)(i);return(0,t.Tr)(this.apiUrl+"Profession",r,this.http).pipe((0,f.U)(o=>(this.cache.set(Object.values(i).join("-"),o),o)))}getCategory(i){let l;return this.cache.forEach(r=>{l=r.find(o=>o.id===i)}),l?(0,a.of)(l):this.http.get(this.apiUrl+"Profession/profession/"+i)}deleteCategory(i){return this.http.delete(this.apiUrl+"Profession/deletebyid/"+i)}updateCategory(i,l){return 0===i?this.http.post(this.apiUrl+"Profession/add/"+l,{}):this.http.put(this.apiUrl+"Profession/edit",{id:i,professionName:l})}setParams(i){this.mParams=i}getParams(){return this.mParams}static#t=this.\u0275fac=function(l){return new(l||_)(p.LFG(P.eN))};static#e=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},3391:(T,v,s)=>{s.d(v,{Z:()=>i});var e=s(7328),a=s(8180),f=s(2096),x=s(7398),t=s(5516),C=s(3056),p=s(1436),P=s(5879),u=s(7133),_=s(7783),h=s(9862);let i=(()=>{class l{constructor(o,M,U){this.activatedRoute=o,this.accountService=M,this.http=U,this.apiUrl=t.N.apiUrl,this.currentUserSource=new e.t(1),this.currentUser$=this.currentUserSource.asObservable(),this.cache=new Map,this.cacheReferred=new Map,this.cvRefParams=new C.p,this.accountService.currentUser$.pipe((0,a.q)(1)).subscribe(Z=>this.user=Z)}referCVs(o){return this.http.post(this.apiUrl+"CVRef",o)}referredCVsPaginated(o=!1){if(!o){const U=this.cacheReferred.get(Object.values(this.cvRefParams).join("-"));if(U)return(0,f.of)(U)}let M=(0,p.R1)(this.cvRefParams);return(0,p.Tr)(this.apiUrl+"cvref/cvsreferred",M,this.http).pipe((0,x.U)(U=>(this.cache.set(Object.values(this.cvRefParams).join("-"),U),U)))}getCVRefWithDeploys(o){return this.http.get(this.apiUrl+"CVRef/cvrefwithdeploys/"+o)}getCVRefWithCVRefId(o){return this.http.get(this.apiUrl+"CVRef/cvref/"+o)}registerSelectionDecisions(o){return this.http.post(this.apiUrl+"Selection",o)}setParams(o){this.cvRefParams=o}getParams(){return this.cvRefParams}static#t=this.\u0275fac=function(M){return new(M||l)(P.LFG(u.gz),P.LFG(_.B),P.LFG(h.eN))};static#e=this.\u0275prov=P.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},4503:(T,v,s)=>{s.d(v,{D:()=>x});var e=s(5516),a=s(5879),f=s(9862);let x=(()=>{class t{constructor(p){this.http=p,this.apiUrl=e.N.apiUrl}downloadFile(p){return this.http.get(this.apiUrl+"candidate/downloadfile/"+p,{responseType:"blob"})}downloadProspectiveFile(p){return this.http.get(this.apiUrl+"FileUpload/downloadprospectivefile/"+p)}static#t=this.\u0275fac=function(P){return new(P||t)(a.LFG(f.eN))};static#e=this.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},8344:(T,v,s)=>{s.d(v,{K:()=>h});var e=s(5879),a=s(6223),f=s(2051),x=s(3298),t=s(7133),C=s(6814),p=s(7114);function P(i,l){1&i&&(e.TgZ(0,"div"),e._uU(1," No assessment record available for the candidate against the given Order item "),e.qZA())}function u(i,l){if(1&i&&(e.TgZ(0,"div")(1,"div",26),e._UZ(2,"input",27),e.TgZ(3,"div",28),e._UZ(4,"app-text-input",29),e.qZA(),e.TgZ(5,"div",30),e._UZ(6,"app-text-input",31),e.qZA(),e.TgZ(7,"div",32),e._UZ(8,"app-text-input",33),e.qZA(),e.TgZ(9,"div",32),e._UZ(10,"app-text-input",34),e.qZA()()()),2&i){const r=l.index;e.xp6(1),e.Q6J("formGroupName",r),e.xp6(3),e.Q6J("label","Q No"),e.xp6(2),e.Q6J("label","Question"),e.xp6(2),e.Q6J("label","Max Points"),e.xp6(2),e.Q6J("label","Points")}}function _(i,l){if(1&i){const r=e.EpF();e.TgZ(0,"form",8),e.NdJ("ngSubmit",function(){e.CHM(r);const M=e.oxw();return e.KtG(M.form.valid)}),e.TgZ(1,"div",9)(2,"label",10),e._uU(3,"Application No"),e.qZA(),e.TgZ(4,"div",11),e._uU(5),e.qZA(),e.TgZ(6,"label",12),e._uU(7,"Candidate Name"),e.qZA(),e.TgZ(8,"div",13),e._uU(9),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"label",10),e._uU(12,"Customer"),e.qZA(),e.TgZ(13,"div",13),e._UZ(14,"app-text-input",14),e.qZA(),e.TgZ(15,"label",15),e._uU(16,"Category Name"),e.qZA(),e.TgZ(17,"div",13),e._UZ(18,"app-text-input",16),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"label",15),e._uU(21,"Assessed On"),e.qZA(),e.TgZ(22,"div",17),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"label",18),e._uU(26,"Result"),e.qZA(),e.TgZ(27,"div",11),e._UZ(28,"app-text-input",19),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"label",20),e._uU(31,"Ass'd"),e.qZA(),e.TgZ(32,"label",18),e._uU(33,"Q No."),e.qZA(),e.TgZ(34,"label",21),e._uU(35,"Question"),e.qZA(),e.TgZ(36,"label",18),e._uU(37,"Max"),e._UZ(38,"br"),e._uU(39,"Points"),e.qZA(),e.TgZ(40,"label",18),e._uU(41,"Points"),e.qZA(),e.TgZ(42,"div",22),e.YNc(43,u,11,5,"div",23),e.TgZ(44,"label",24),e._uU(45,"Total"),e.qZA(),e.TgZ(46,"div",25),e._uU(47),e.qZA(),e.TgZ(48,"div",25),e._uU(49),e.qZA()()()()}if(2&i){const r=e.oxw();e.Q6J("formGroup",r.form),e.xp6(5),e.Oqu(r.assess.applicationNo),e.xp6(4),e.Oqu(r.assess.candidateName),e.xp6(5),e.Q6J("label","Customer"),e.xp6(4),e.Q6J("label","Category"),e.xp6(5),e.Oqu(e.xi3(24,10,r.assess.assessedOn,"dd-MMM-yy")),e.xp6(5),e.Q6J("label","Assess Result"),e.xp6(15),e.Q6J("ngForOf",r.items.controls),e.xp6(4),e.Oqu(r.totalMaxPoints),e.xp6(2),e.Oqu(r.totalPoints)}}let h=(()=>{class i{constructor(r,o,M,U,Z){this.bsModalRef=r,this.assessService=o,this.activatedRoute=M,this.fb=U,this.router=Z,this.candAssessEvent=new e.vpe,this.totalPoints=0,this.totalMaxPoints=0,this.form=new a.cw({})}ngOnInit(){void 0!==this.assess&&(this.InitializeFormArray(this.assess),this.calculateTotalPoints())}InitializeFormArray(r){this.form=this.fb.group({applicationNo:[r.applicationNo,a.kI.required],candidateId:[r.candidateId,a.kI.required],candidateName:[r.candidateName,a.kI.required],customerName:[r.customerName,a.kI.required],orderItemId:[r.orderItemId,a.kI.required],categoryRef:[r.categoryRef,a.kI.required],orderId:[r.orderId,a.kI.required],requireInternalReview:r.requireInternalReview,assessedByUsername:r.assessedByUsername,professionName:[r.professionName,a.kI.required],assessResult:[r.assessResult,a.kI.required],assessedOn:r.assessedOn,checklistHRId:r.checklistHRId,checklistedByName:r.checklistedByName,items:this.fb.array(r.assessmentItemsDto.map(o=>this.fb.group({id:o.id,candidateAssessmentId:o.candidateAssessmentId,questionNo:[o.questionNo,a.kI.required],question:[o.question,a.kI.required],assessed:[o.assessed],maxPoints:[o.maxPoints,a.kI.required],points:[o.points],remarks:o.remarks})))})}get items(){return this.form.get("items")}close(){this.candAssessEvent.emit(this.assess),this.bsModalRef.hide()}calculateTotalPoints(){this.totalMaxPoints=this.items.value.map(r=>r.maxPoints).reduce((r,o)=>r+o,0),this.totalPoints=this.items.value.map(r=>r.points).reduce((r,o)=>r+o,0)}static#t=this.\u0275fac=function(o){return new(o||i)(e.Y36(f.UZ),e.Y36(x.k),e.Y36(t.gz),e.Y36(a.qu),e.Y36(t.F0))};static#e=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-cv-assess-modal"]],outputs:{candAssessEvent:"candAssessEvent"},decls:10,vars:2,consts:[[1,"modal-header"],[1,"stdd",2,"font-weight","bold"],["type","button",1,"stdd","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"stdd","mt-2"],[1,"lbl","w100"],[1,"stdd","w50"],[1,"lbl","w125","mx-5"],[1,"stdd","w250"],["formControlName","customerName",3,"label"],[1,"lbl","w100","mx-2"],["formControlName","professionName",2,"font-size","small",3,"label"],[1,"stdd","w125"],[1,"lbl","w50","mx-2"],["formControlName","assessResult",2,"font-size","small","font-weight","bold",3,"label"],[1,"lbl","w25","mx-2"],[1,"lbl","w400","mx-2"],["formArrayName","items",1,"formArray"],[4,"ngFor","ngForOf"],[1,"lbl","w50","b",2,"margin-left","458px"],[1,"stdd","w50","alignR","mx-2","b"],[3,"formGroupName"],["type","checkbox","formControlName","assessed",1,"stdd","w25","mx-2",2,"font-size","small"],[1,"stdd","w50","mx-2"],["formControlName","questionNo",2,"font-size","small",3,"label"],[1,"stdd","w400","mx-2"],["formControlName","question",2,"font-size","small",3,"label"],[1,"stdd","w50","mx-2","alignR"],["formControlName","maxPoints",2,"font-size","small","text-align","right",3,"label"],["formControlName","points",2,"font-size","small","text-align","right",3,"label"]],template:function(o,M){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Candidate Assessment"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return M.bsModalRef.hide()}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",4),e.YNc(7,P,2,0,"div",5),e.YNc(8,_,50,13,"form",6),e.qZA(),e._UZ(9,"div",7)),2&o&&(e.xp6(7),e.Q6J("ngIf",!M.assess),e.xp6(1),e.Q6J("ngIf",M.assess))},dependencies:[C.sg,C.O5,a._Y,a.Wl,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE,p.t,C.uU],styles:[".lbl[_ngcontent-%COMP%]{display:inline-block;font-size:small;font-weight:700;vertical-align:middle;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.alignR[_ngcontent-%COMP%]{text-align:right}.w25[_ngcontent-%COMP%]{width:25px}.w50[_ngcontent-%COMP%]{width:50px}.w250[_ngcontent-%COMP%]{width:250px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w400[_ngcontent-%COMP%]{width:400px}.b[_ngcontent-%COMP%]{font-weight:700}"]})}return i})()},6355:(T,v,s)=>{s.d(v,{z:()=>L});var e=s(2181),a=s(4664),f=s(3056),x=s(8344),t=s(5879),C=s(7133),p=s(3391),P=s(8763),u=s(2051),_=s(3298),h=s(4503),i=s(6814),l=s(7012),r=s(6223);function o(m,O){if(1&m){const n=t.EpF();t.TgZ(0,"div",1)(1,"input",2),t.NdJ("change",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.CVChecked())}),t.qZA(),t.TgZ(2,"div",3),t._uU(3),t.qZA(),t.TgZ(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5),t._uU(7),t.qZA(),t.TgZ(8,"div",6),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"div",7),t._uU(12),t.qZA(),t.TgZ(13,"div",6),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"button",8),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.download(d.cv.candidateId))}),t.qZA()()}if(2&m){const n=t.oxw();t.xp6(1),t.Q6J("checked",n.cv.checked),t.xp6(2),t.Oqu(n.cv.applicationNo),t.xp6(1),t.MGl("routerLink","/candidate/historyfromcvid/",n.cv.candidateId,""),t.xp6(1),t.Oqu(n.cv.candidateName),t.xp6(2),t.Oqu(n.cv.categoryRefAndName),t.xp6(2),t.Oqu(t.xi3(10,8,n.cv.referredOn,"dd-MMM-yy")),t.xp6(3),t.Oqu(n.cv.selectionStatus),t.xp6(2),t.Oqu(t.xi3(15,11,n.cv.selectionStatusDate,"dd-MMM-yy"))}}let M=(()=>{class m{constructor(){this.msgEvent=new t.vpe,this.downloadEvent=new t.vpe,this.cvAssessEvent=new t.vpe,this.cvCheckedEvent=new t.vpe,this.currentId=0,this.isHidden=!0,this.xPosTabMenu=0,this.yPosTabMenu=0}ngOnInit(){}rightClick(n){return n.stopPropagation(),this.xPosTabMenu=n.clientX,this.yPosTabMenu=n.clientY,this.isHidden=!1,!1}closeRightClickMenu(){this.isHidden=!0}download(n){this.downloadEvent.emit(n)}onClickLoadDocument(n){this.msgEvent.emit(n)}displayAssessment(){this.cvAssessEvent.emit(this.cv)}setCurrentId(n){this.currentId=n}showhistory(n){this.msgEvent.emit(n)}CVChecked(){this.cvCheckedEvent.emit(this.cv)}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-cvreferred-line"]],inputs:{cv:"cv"},outputs:{msgEvent:"msgEvent",downloadEvent:"downloadEvent",cvAssessEvent:"cvAssessEvent",cvCheckedEvent:"cvCheckedEvent"},decls:1,vars:1,consts:[["class","stdd row","style","margin-left: 75px; margin-top: 0px; margin-bottom: 0px;",4,"ngIf"],[1,"stdd","row",2,"margin-left","75px","margin-top","0px","margin-bottom","0px"],["type","checkbox","value","cv.id",1,"stdd","form-check-input",2,"border-color","black",3,"checked","change"],["title","click to edit","mouseover","style.cursor = 'pointer'",1,"stdd","fSmall","w50","mx-1",2,"margin-left","10px"],["title","contact history of the candidate",1,"stdd","fSmall","w130","mx-1",3,"routerLink"],[1,"stdd","fSmaller","mx-1","w300"],[1,"stdd","fSmall","mx-1","w100"],[1,"stdd","fSmall","mx-1","w150"],["type","button","type","button","title","download the CV",1,"btn","btn-outline-secondary","fa","fa-regular","fa-download","w30",3,"click"]],template:function(c,d){1&c&&t.YNc(0,o,17,14,"div",0),2&c&&t.Q6J("ngIf",null!=d.cv)},dependencies:[i.O5,C.rH,i.uU],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.fSmall[_ngcontent-%COMP%]{font-size:small}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.cursorpointer[_ngcontent-%COMP%]{cursor:pointer;color:#00008b}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.w30[_ngcontent-%COMP%]{width:30px}.w50[_ngcontent-%COMP%]{width:50px}.w100[_ngcontent-%COMP%]{width:100px}.w130[_ngcontent-%COMP%]{width:130px}.w150[_ngcontent-%COMP%]{width:150px}.w300[_ngcontent-%COMP%]{width:300px}.blue[_ngcontent-%COMP%]{color:#00008b}"]})}return m})();const U=["search"];function Z(m,O){if(1&m){const n=t.EpF();t.TgZ(0,"pagination",13),t.NdJ("pageChanged",function(d){t.CHM(n);const g=t.oxw();return t.KtG(g.onPageChanged(d))}),t._uU(1,"\n>"),t.qZA()}if(2&m){const n=t.oxw();t.Q6J("totalItems",n.pagination.totalItems)("itemsPerPage",n.pagination.itemsPerPage)("maxSize",10)}}function b(m,O){if(1&m){const n=t.EpF();t.TgZ(0,"div",14)(1,"label",15),t._uU(2,"Order#"),t.qZA(),t.TgZ(3,"input",16,17),t.NdJ("ngModelChange",function(d){t.CHM(n);const g=t.oxw();return t.KtG(g.cvParams.orderNo=d)}),t.qZA(),t.TgZ(5,"button",18),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.onSearch())}),t.qZA(),t.TgZ(6,"input",19),t.NdJ("ngModelChange",function(d){t.CHM(n);const g=t.oxw();return t.KtG(g.cvParams.selectionStatus=d)}),t.qZA(),t._uU(7,"all Status "),t.TgZ(8,"input",20),t.NdJ("ngModelChange",function(d){t.CHM(n);const g=t.oxw();return t.KtG(g.cvParams.selectionStatus=d)}),t.qZA(),t._uU(9,"Selected "),t.TgZ(10,"input",21),t.NdJ("ngModelChange",function(d){t.CHM(n);const g=t.oxw();return t.KtG(g.cvParams.selectionStatus=d)}),t.qZA(),t._uU(11,"Rejected "),t.TgZ(12,"button",22),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.onReset())}),t.qZA(),t.TgZ(13,"button",23),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.close())}),t.qZA()()}if(2&m){const n=t.oxw();t.xp6(3),t.Q6J("ngModel",n.cvParams.orderNo),t.xp6(3),t.Q6J("ngModel",n.cvParams.selectionStatus),t.xp6(2),t.Q6J("ngModel",n.cvParams.selectionStatus),t.xp6(2),t.Q6J("ngModel",n.cvParams.selectionStatus)}}function y(m,O){1&m&&(t.TgZ(0,"div",24),t._uU(1,' "CVs referred based on following criteria: " + paramNames;\n'),t.qZA())}function N(m,O){1&m&&(t.TgZ(0,"div",25),t._uU(1," No candidates available to refer\n"),t.qZA())}function R(m,O){if(1&m){const n=t.EpF();t.TgZ(0,"div",27)(1,"app-cvreferred-line",28),t.NdJ("downloadEvent",function(d){t.CHM(n);const g=t.oxw(2);return t.KtG(g.downloadFileEvent(d))})("cvCheckedEvent",function(d){t.CHM(n);const g=t.oxw(2);return t.KtG(g.cvCheckedEvent(d))})("cvAssessEvent",function(d){t.CHM(n);const g=t.oxw(2);return t.KtG(g.displayAssessmentModalBySwitchMap(d))}),t.qZA()()}if(2&m){const n=O.$implicit;t.xp6(1),t.Q6J("cv",n)}}function D(m,O){if(1&m&&(t.TgZ(0,"div"),t.YNc(1,R,2,1,"div",26),t.qZA()),2&m){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.cvs)}}let L=(()=>{class m{constructor(n,c,d,g,E,w,I){this.router=n,this.service=c,this.toastr=d,this.modalService=g,this.candAssessService=E,this.downloadService=w,this.route=I,this.returnUrl="",this.cvParams=new f.p,this.cvs=[],this.selectedCVs=[],this.totalCount=0,this.paramNames="",this.id=0;var S=this.route.snapshot.paramMap.get("id")??"0";this.id=+S;let A=this.router.getCurrentNavigation();A?.extras&&A.extras.state&&(A.extras.state.returnUrl&&(this.returnUrl=A.extras.state.returnUrl),A.extras.state.user&&(this.user=A.extras.state.user))}ngOnInit(){0!==this.id&&(this.cvParams.orderId=this.id),this.loadCVsReferred()}loadCVsReferred(){this.service.setParams(this.cvParams),this.service.referredCVsPaginated(!0).subscribe({next:n=>{n.result&&n.pagination&&(this.cvs=n.result,this.pagination=n.pagination)}})}onSearch(){const n=this.service.getParams()??new f.p;""!==this.searchTerm?.nativeElement.value&&(n.orderNo=this.searchTerm.nativeElement.value),n.pageNumber=1,this.service.setParams(n),this.loadCVsReferred()}onReset(){this.cvParams.pageNumber=1,this.service.setParams(this.cvParams),this.loadCVsReferred()}onPageChanged(n){this.cvParams&&this.cvParams.pageNumber!==n.page&&(this.cvParams.pageNumber=n.page,this.service.setParams(this.cvParams),this.loadCVsReferred())}downloadFileEvent(n){return this.downloadService.downloadFile(n).subscribe(()=>{this.toastr.success("document downloaded")},c=>{this.toastr.error("failed to download document",c)})}displayAssessmentModalBySwitchMap(n){this.candAssessService.getCandidateAssessmentDto(n.candidateId,n.orderItemId).pipe((0,e.h)(E=>void 0!==E),(0,a.w)(E=>(this.bsModalRef=this.modalService.show(x.K,{class:"modal-dialog-centered modal-lg",initialState:{assess:E,username:this.user?.userName}}),this.bsModalRef.content.candAssessEvent))).subscribe(E=>{console.log("inner response:",E)})}navigateByUrl(n,c,d){this.router.navigate([n],{state:{cvbrief:c,userobject:this.service.user,toedit:d,returnUrl:"/candidates"}})}cvCheckedEvent(n){var c=this.selectedCVs.find(g=>g.candidateId==n.id),d=this.selectedCVs.findIndex(g=>g.candidateId===n.id);void 0!==c?c.checked?this.selectedCVs.push(n):this.selectedCVs.splice(d,1):this.selectedCVs.push(n)}close(){this.router.navigateByUrl(this.returnUrl||"/candidates")}static#t=this.\u0275fac=function(c){return new(c||m)(t.Y36(C.F0),t.Y36(p.Z),t.Y36(P._W),t.Y36(u.tT),t.Y36(_.k),t.Y36(h.D),t.Y36(C.gz))};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-cvsreferred"]],viewQuery:function(c,d){if(1&c&&t.Gf(U,5),2&c){let g;t.iGM(g=t.CRH())&&(d.searchTerm=g.first)}},decls:22,vars:5,consts:[[1,"my-0","mx-4",2,"display","inline-block","font-weight","bold"],["class","stdd","previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"totalItems","itemsPerPage","maxSize","pageChanged",4,"ngIf"],["class","stdd",4,"ngIf"],["class","my-1",4,"ngIf"],[2,"margin-left","70px"],[1,"lbl","w30","mx-1"],[1,"lbl","w50","mx-1"],[1,"lbl","w130","mx-1"],[1,"lbl","w300","mx-1"],[1,"lbl","w100","mx-1"],[1,"lbl","w150","mx-1"],["style","margin-left: 100px; margin-top: 5px; font-weight: bold; ",4,"ngIf"],[4,"ngIf"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",1,"stdd",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[1,"stdd"],[1,"stdd","w75","fSmall","b",2,"text-align","right","vertical-align","middle !important"],["type","text","title","enter Order No to search","placeholder","Order No",1,"stdd","form-control","fSmall","w75",2,"margin-left","20px",3,"ngModel","ngModelChange"],["search",""],["type","button",1,"stdd","btn","fa","fa-search","mx-1",3,"click"],["type","radio","value","",1,"radio","form-check-input",3,"ngModel","ngModelChange"],["type","radio","value","Selected",1,"radio","form-check-input",3,"ngModel","ngModelChange"],["type","radio","value","Rejected",1,"radio","form-check-input",3,"ngModel","ngModelChange"],["type","button",1,"stdd","mx-1","fa","fa-refresh","fa-2x",3,"click"],["title","close this page",1,"stdd","w40","mx-1","fa","fa-window-close","fa-2x",3,"click"],[1,"my-1"],[2,"margin-left","100px","margin-top","5px","font-weight","bold"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[3,"cv","downloadEvent","cvCheckedEvent","cvAssessEvent"]],template:function(c,d){1&c&&(t.TgZ(0,"h4",0),t._uU(1,"CVs refferred to clients"),t.qZA(),t.YNc(2,Z,2,3,"pagination",1),t.YNc(3,b,14,4,"div",2),t.YNc(4,y,2,0,"div",3),t.TgZ(5,"div",4)(6,"div",5),t._uU(7,"Select"),t.qZA(),t.TgZ(8,"div",6),t._uU(9,"App No"),t.qZA(),t.TgZ(10,"div",7),t._uU(11,"Candidate Name"),t.qZA(),t.TgZ(12,"div",8),t._uU(13,"Category Ref"),t.qZA(),t.TgZ(14,"div",9),t._uU(15,"Referred On"),t.qZA(),t.TgZ(16,"div",10),t._uU(17,"Selection Decision"),t.qZA(),t.TgZ(18,"div",9),t._uU(19,"Sel Decision Dt"),t.qZA()(),t.YNc(20,N,2,0,"div",11),t.YNc(21,D,2,1,"div",12)),2&c&&(t.xp6(2),t.Q6J("ngIf",void 0!==d.pagination),t.xp6(1),t.Q6J("ngIf",d.cvs),t.xp6(1),t.Q6J("ngIf",d.paramNames.length),t.xp6(16),t.Q6J("ngIf",0===d.cvs.length),t.xp6(1),t.Q6J("ngIf",d.cvs.length))},dependencies:[i.sg,i.O5,l.Qt,r.Fj,r._,r.JJ,r.On,M],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;color:hsl(from color h s l)}.lbl[_ngcontent-%COMP%]{display:inline-block;font-weight:700;font-size:small;vertical-align:middle}.radio[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin:0 2px;border-color:#000;width:20px;height:1em}.fMedium[_ngcontent-%COMP%]{font-size:medium}.fSmall[_ngcontent-%COMP%]{font-size:small}.b[_ngcontent-%COMP%]{font-weight:700}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w130[_ngcontent-%COMP%]{width:130px}.w150[_ngcontent-%COMP%]{width:180px}.w300[_ngcontent-%COMP%]{width:300px}"]})}return m})()}}]);