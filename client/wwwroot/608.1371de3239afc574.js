"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[608],{3608:(Ee,k,l)=>{l.r(k),l.d(k,{AdministrationModule:()=>Fe});var p=l(177),N=l(9485),C=l(6697),e=l(7705),f=l(8256),F=l(1822),u=l(5743);let S=(()=>{class o{constructor(t,i){this.toastr=t,this.accountService=i,this.uploadExcel=!1,this.uploadCustomerExcel=!1,this.accountService.currentUser$.pipe((0,C.s)(1)).subscribe({next:n=>{n&&(this.user=n)}})}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(f.tw),e.rXU(F.D))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-menu"]],decls:107,vars:0,consts:[[1,"container","d-flex","justify-contents-between","align-items-center","mt-5"],["title","selections awaiting from customers",1,"nav-item","menuStdd"],["routerLink","/administration/pendingSelections","routerLinkActive","active",1,"nav-item","menuStdd"],["title","listing of Orders - provides for: editing, contract review, order assessment, Forward To Agents, Forward to HR Dept Acnowledge to customer",1,"nav-item","menuStdd"],["routerLink","/administration/orders","routerLinkActive","active",1,"nav-link"],[1,"nav-item","menuStdd"],["routerLink","/administration/ordersforwarded","title","orders already forwarded to Associates","routerLinkActive","active"],["title","displays CVs that are assessed and available to submit to customers; CVs can be selected to send to customers",1,"nav-item","menuStdd"],["routerLink","/candidates/availableToRef","routerLinkActive","active"],["routerLink","/administration/selections","routerLinkActive","active"],["title","messages concerning the logged-in User","routerLink","/administration/messages","routerLinkActive","active",1,"nav-item","menuStdd"],["title","Feedback from customers, vendors and candidates","routerLink","/administration/feedbacklist","routerLinkActive","active",1,"nav-item","menuStdd"],["title","Authorities and Roles",1,"nav-item","menuStdd"],["routerLink","/userroles","routerLinkActive","active"],["title","import data from Excel Sheets - for Prospectives, Candidates, customers, Employees Or orders",1,"nav-item","menuStdd"],["routerLinkActive","active","routerLink","/administration/excelConversion",1,"nav-link"],["title","Customers, Vendors and Associates",1,"nav-link","menuStdd"],["routerLink","/administration/customers","routerLinkActive","active"],["title","Categories",1,"nav-item","nav-link","menuStdd"],["routerLink","/administration/categories","routerLinkActive","active"],["title","Qualifications",1,"nav-item","nav-link","menuStdd"],["routerLink","/administration/qualifications","routerLinkActive","active"],["title","industry Types",1,"nav-item","nav-link","menuStdd"],["routerLink","/administration/industries","routerLinkActive","active"],["title","Employees",1,"nav-item","nav-link","menuStdd"],[1,"lblB","my-5"],[1,"lblB","w150"],[1,"lblB","w450"],["title","CVs awaiting selections from client",1,"lblB","w150"],[1,"lbl","w450"],["title","selections already made",1,"lblB","w150"],["title","Orders Listing",1,"lblB","w150"],["title","Requirements Forwarded to Associates",1,"lblB","w150"],["title","forward requirements to Associates",1,"lblB","w150"],["title","employment details of selected candidates",1,"lblB","w150"],["title","Feedbacks from customers, vendors and candidates",1,"lblB","w150"],["title","import customer, candidate, employees data from excel sheet",1,"lblB","w150"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.EFF(3,"Pending Selections"),e.k0s()(),e.j41(4,"div",3)(5,"a",4),e.EFF(6,"Orders Listing"),e.k0s()(),e.j41(7,"div",5)(8,"a",6),e.EFF(9,"Orders ForwardED"),e.k0s()(),e.j41(10,"div",7)(11,"a",8),e.EFF(12,"Refer CVs to clients"),e.k0s()(),e.j41(13,"div",7)(14,"a",9),e.EFF(15,"Selections made"),e.k0s()(),e.j41(16,"div",10),e.EFF(17," Messages "),e.k0s(),e.j41(18,"div",11),e.EFF(19," Feedback "),e.k0s(),e.j41(20,"div",12)(21,"a",13),e.EFF(22,"authorities & roles"),e.k0s()(),e.j41(23,"div",14)(24,"a",15),e.EFF(25," Convert From Excel to DB "),e.k0s()(),e.j41(26,"div",16)(27,"a",17),e.EFF(28,"Customers"),e.nrm(29,"br"),e.EFF(30,"Associates"),e.nrm(31,"br"),e.EFF(32,"Vendors"),e.k0s()(),e.j41(33,"div",18)(34,"a",19),e.EFF(35,"Categories"),e.k0s()(),e.j41(36,"div",20)(37,"a",21),e.EFF(38,"Qualifications"),e.k0s()(),e.j41(39,"div",22)(40,"a",23),e.EFF(41,"Industry Types"),e.k0s()(),e.j41(42,"div",24)(43,"a",23),e.EFF(44,"Employees"),e.k0s()()(),e.j41(45,"div",25),e.EFF(46," Functions and Roles requirement for this menu functions "),e.j41(47,"ul")(48,"label",26),e.EFF(49,"Function"),e.k0s(),e.j41(50,"label",27),e.EFF(51,"Roles Required"),e.k0s(),e.j41(52,"li")(53,"label",28),e.EFF(54,"Pending Selections"),e.k0s(),e.j41(55,"label",29),e.EFF(56,"HR Manager, HR Supervisor, Admin, Admin Manager, Document Controller-Admin"),e.k0s()(),e.j41(57,"li")(58,"label",30),e.EFF(59,"Selection"),e.k0s(),e.j41(60,"label",29),e.EFF(61,"Admin, Admin Manager, Document Controller-Admin, HR Manager, HR Supervisor"),e.k0s()(),e.j41(62,"li")(63,"label",31),e.EFF(64,"Orders Listing"),e.k0s(),e.j41(65,"label",29),e.EFF(66,"Admin"),e.k0s()(),e.j41(67,"li")(68,"label",32),e.EFF(69,"Requirements forwarded"),e.k0s(),e.j41(70,"label",29),e.EFF(71,"Requirements forwarded"),e.k0s()(),e.j41(72,"li")(73,"label",28),e.EFF(74,"Pending Selections"),e.k0s(),e.j41(75,"label",29),e.EFF(76,"HR Manager, HR Supervisor, Admin, Admin Manager, Document Controller-Admin"),e.k0s()(),e.j41(77,"li")(78,"label",28),e.EFF(79,"Selections"),e.k0s(),e.j41(80,"label",29),e.EFF(81,"HR Manager, HR Supervisor, Document Controller-Admin"),e.k0s()(),e.j41(82,"li")(83,"label",33),e.EFF(84,"Refer CVs to customers"),e.k0s(),e.j41(85,"label",29),e.EFF(86,"Order Forward"),e.k0s()(),e.j41(87,"li")(88,"label",34),e.EFF(89,"Employments"),e.k0s(),e.j41(90,"label",29),e.EFF(91,"HR Manager, HR Supervisor, Admin, Admin Manager, Document Controller-Admin"),e.k0s()(),e.j41(92,"li")(93,"label",34),e.EFF(94,"Messages"),e.k0s(),e.j41(95,"label",29),e.EFF(96,"All roles - only log-in required"),e.k0s()(),e.j41(97,"li")(98,"label",35),e.EFF(99,"Feedbacks"),e.k0s(),e.j41(100,"label",29),e.EFF(101,"Document Controller-Admin, Document Controller-Processing, Candidate, Client"),e.k0s()(),e.j41(102,"li")(103,"label",36),e.EFF(104,"Import from Excel"),e.k0s(),e.j41(105,"label",29),e.EFF(106,"Document Controller-Admin, Document Controller-Processing, Candidate, Client"),e.k0s()()()())},dependencies:[u.Wk,u.wQ],styles:[".stdd[_ngcontent-%COMP%]{margin:0 2px;font-size:medium;height:6em;display:inline-block;width:150px}.lbl[_ngcontent-%COMP%]{font-size:small;margin-left:2px;margin-right:2px;word-wrap:break-word;vertical-align:top}.menuStdd[_ngcontent-%COMP%]{display:inline-block;width:80px;margin:3px;word-wrap:break-word;text-align:center;vertical-align:middle;border:2px;font-size:small;font-weight:700;cursor:pointer;border-style:ridge;height:5em}.lblB[_ngcontent-%COMP%]{font-size:small;font-weight:700;margin-left:2px;margin-right:2px;word-wrap:normal;vertical-align:top}.w150[_ngcontent-%COMP%]{width:150px}.w450[_ngcontent-%COMP%]{width:450px}.green[_ngcontent-%COMP%]{color:#006400}.cursorPointer[_ngcontent-%COMP%]{cursor:pointer;color:#006400}.divDisabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}"]})}return o})();var O=l(5770),E=l(5964),x=l(5558),_=l(7923),b=l(8892),g=l(778),w=l(779),D=l(3400),r=l(9417),v=l(9213),j=l(9726);function G(o,a){if(1&o){const t=e.RV6();e.j41(0,"input",7),e.bIt("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.dto.checked=n)})("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.selectedClicked())}),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("ngModel",t.dto.checked)}}function L(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.editClicked())}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()(),e.j41(4,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.displayEvaluationClicked())}),e.j41(5,"mat-icon"),e.EFF(6,"sentiment_very_dissatisfied"),e.k0s()(),e.j41(7,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.feedbackFormClicked())}),e.j41(8,"mat-icon"),e.EFF(9,"feedback"),e.k0s()(),e.j41(10,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.deleteClicked())}),e.j41(11,"mat-icon"),e.EFF(12,"delete"),e.k0s()()()}}function X(o,a){if(1&o){const t=e.RV6();e.j41(0,"div"),e.DNE(1,G,1,1,"input",1),e.j41(2,"div",2),e.EFF(3),e.k0s(),e.j41(4,"div",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.displayHistory())}),e.EFF(5),e.k0s(),e.j41(6,"div",4),e.EFF(7),e.k0s(),e.j41(8,"div",5),e.EFF(9),e.k0s(),e.j41(10,"div",5),e.EFF(11),e.k0s(),e.DNE(12,L,13,0,"div",6),e.k0s()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.isPrintPDF),e.R7$(2),e.JRh(t.dto.customerType),e.R7$(2),e.JRh(t.dto.customerName),e.R7$(2),e.JRh(t.dto.knownAs),e.R7$(2),e.JRh(t.dto.city),e.R7$(2),e.JRh(t.dto.country),e.R7$(1),e.Y8G("ngIf",!t.isPrintPDF)}}let A=(()=>{class o{constructor(t,i,n){this.service=t,this.toastr=i,this.confirm=n,this.isPrintPDF=!1,this.editEvent=new e.bkB,this.deleteEvent=new e.bkB,this.selectedEvent=new e.bkB,this.EvaluationEvent=new e.bkB,this.feedbackEvent=new e.bkB,this.displayHistoryEvent=new e.bkB}editClicked(){this.editEvent.emit(this.dto.id)}deleteClicked(){this.deleteEvent.emit(this.dto.id)}selectedClicked(){this.selectedEvent.emit(this.dto.id)}displayEvaluationClicked(){this.EvaluationEvent.emit(this.dto.id)}feedbackFormClicked(){this.feedbackEvent.emit(this.dto.id)}displayHistory(){this.displayHistoryEvent.emit(this.dto.id)}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(b.h),e.rXU(f.tw),e.rXU(g.G))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-customer-line"]],inputs:{dto:"dto",isPrintPDF:"isPrintPDF"},outputs:{editEvent:"editEvent",deleteEvent:"deleteEvent",selectedEvent:"selectedEvent",EvaluationEvent:"EvaluationEvent",feedbackEvent:"feedbackEvent",displayHistoryEvent:"displayHistoryEvent"},decls:1,vars:1,consts:[[4,"ngIf"],["type","checkbox","style","margin-left: 25px;border-color: black;","class","form-check-input w20 hAlignCenter",3,"ngModel","ngModelChange","click",4,"ngIf"],[1,"stdd","w75",2,"margin-left","10px !important"],[1,"stdd","w200","cursorPointer",3,"click"],[1,"stdd","w125"],[1,"stdd","w100"],["class","stdd",4,"ngIf"],["type","checkbox",1,"form-check-input","w20","hAlignCenter",2,"margin-left","25px","border-color","black",3,"ngModel","ngModelChange","click"],[1,"stdd"],["title","edit this customer",1,"btn",3,"click"],["title","display Evaluation of this customer",1,"btn",3,"click"],["title","Feedback Form for this customer",1,"btn",2,"color","aliceblue",3,"click"],["title","delete this customer",1,"btn","red",3,"click"]],template:function(i,n){1&i&&e.DNE(0,X,13,7,"div",0),2&i&&e.Y8G("ngIf",n.dto)},dependencies:[p.bT,r.Zm,r.BC,r.vS,v.An],styles:[".w25[_ngcontent-%COMP%]{width:25px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w200[_ngcontent-%COMP%]{width:200px}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin-left:2px;margin-right:2px;vertical-align:top;word-wrap:normal}.red[_ngcontent-%COMP%]{color:red}.btn[_ngcontent-%COMP%]{color:#f0f8ff;margin:0;padding:0}"]})}return o})();const B=["search"];function V(o,a){if(1&o){const t=e.RV6();e.j41(0,"pagination",21),e.bIt("pageChanged",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onPageChanged(n))}),e.EFF(1," >"),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("totalItems",t.pagination.totalItems)("itemsPerPage",t.pagination.itemsPerPage)("maxSize",10)}}function $(o,a){1&o&&(e.j41(0,"div"),e.EFF(1," No matching customers on record "),e.k0s())}function U(o,a){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"app-customer-line",25),e.bIt("editEvent",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.editClicked(n))})("deleteClicked",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.deleteClicked(n))})("feedbackEvent",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.feedbackClicked(n))})("EvaluationEvent",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.evaluationClicked(n))})("displayHistoryEvent",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.displayHistory(n))}),e.k0s()()}if(2&o){const t=a.$implicit;e.R7$(1),e.Y8G("isPrintPDF",!1)("dto",t)}}function Y(o,a){if(1&o&&(e.j41(0,"div"),e.DNE(1,U,2,2,"div",24),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.customerDtos)}}function z(o,a){if(1&o&&(e.j41(0,"div"),e.nrm(1,"app-customer-line",28),e.k0s()),2&o){const t=a.$implicit;e.R7$(1),e.Y8G("isPrintPDF",!0)("dto",t)}}function H(o,a){if(1&o&&(e.j41(0,"div",26)(1,"label",27),e.EFF(2),e.k0s(),e.nrm(3,"br"),e.j41(4,"label",15),e.EFF(5,"Type"),e.k0s(),e.j41(6,"label",16),e.EFF(7,"Customer Name"),e.k0s(),e.j41(8,"label",17),e.EFF(9,"Known As"),e.k0s(),e.j41(10,"label",18),e.EFF(11,"City"),e.k0s(),e.j41(12,"label",17),e.EFF(13,"Country"),e.k0s(),e.nrm(14,"hr"),e.DNE(15,z,2,2,"div",24),e.k0s()),2&o){const t=e.XpG(2);e.R7$(2),e.JRh(t.printtitle),e.R7$(13),e.Y8G("ngForOf",t.customersForPrint)}}function W(o,a){if(1&o&&(e.j41(0,"div",22),e.DNE(1,Y,2,1,"div",19),e.DNE(2,H,16,2,"div",23),e.k0s()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.isPrintPDF),e.R7$(1),e.Y8G("ngIf",t.isPrintPDF)}}let J=(()=>{class o{constructor(t,i,n,s,c){this.service=t,this.router=i,this.confirm=n,this.toastr=s,this.modalService=c,this.returnUrl="",this.customerDtos=[],this.customersForPrint=[],this.customerTypeSelected="",this.totalCount=0,this.cParams=new _.x,this.display=!1,this.customerIdSelected=0,this.history=[],this.isPrintPDF=!1,this.printtitle="",t.setParams(this.cParams);let d=this.router.getCurrentNavigation();d?.extras&&d.extras.state&&(d.extras.state.returnUrl&&(this.returnUrl=d.extras.state.returnUrl),d.extras.state.user&&(this.user=d.extras.state.user))}ngOnInit(){this.loadCustomers()}loadCustomers(){var t=this.service.getParams();this.service.getCustomers(t)?.subscribe({next:i=>{null!=i&&(this.customerDtos=i.result,this.totalCount=i?.count,this.pagination=i.pagination)},error:i=>console.log(i)})}onPageChanged(t){const i=this.service.getParams();i.pageNumber!==t.page&&(i.pageNumber=t.page,this.service.setParams(i),this.loadCustomers())}setParameters(){var t=new _.x;this.service.setParams(t),this.loadCustomers()}applyCustomerType(){this.cParams.customerType!==this.customerTypeSelected&&(this.loadCustomers(),this.customerTypeSelected=this.cParams.customerType)}selectedClicked(t){!0===t.checked?this.customerDtos.filter(i=>i.id!=t.id).forEach(i=>i.checked=!1):this.customerDtos.forEach(i=>i.checked=!1),this.customerSelected=t.checked?void 0:t}deleteClicked(t){var i=t;const s=this.service.deleteCustomer(i);this.confirm.confirm("confirm Delete","confirm delete this Customer?. WARNING: this cannot be undone").pipe((0,E.p)(d=>d),(0,x.n)(d=>s)).subscribe(d=>{if(d){this.toastr.success("Customer deleted","deletion successful");var m=this.customerDtos.findIndex(h=>h.id==i);m>=0&&this.customerDtos.splice(m,1)}else this.toastr.error("Error in deleting the checklist","failed to delete")})}addClicked(){this.navigateByRoute(0,"/administration/customerEdit")}editClicked(t){this.navigateByRoute(t,"/administration/customerEdit")}feedbackClicked(t){void 0!==t&&this.router.navigate(["/feedback/edit/0/"+t],{state:{user:this.user,returnUrl:"/administration/customers"}})}evaluationClicked(t){this.navigateByRoute(t,"/administration/reviewEdit")}onSearch(){const t=this.service.getParams();t.search=this.searchTerm?.nativeElement.value,t.pageNumber=1,this.service.setParams(t),this.loadCustomers()}onReset(){this.searchTerm.nativeElement.value="",this.cParams=new _.x,this.service.setParams(this.cParams),this.loadCustomers()}navigateByRoute(t,i){this.router.navigate([i+"/"+t],{state:{user:this.user,returnUrl:"/administration/customers"}})}close(){this.router.navigateByUrl(this.returnUrl)}getHistories(t){}displayFeedback(t){}displayHistory(t){if(this.display=!this.display,this.display){if(this.customerIdSelected==t)return;this.service.getFeedbackHistory(t).subscribe({next:i=>{console.log("response",i),null===i?this.toastr.warning("Failed to retrieve the history of the customer","No record count"):this.history=i},error:i=>{console.log("error:",i),i.error.message&&this.toastr.error(i.error.message,"Error encountered")}}),this.customerIdSelected=t}}loadCustomerList(){this.service.getCustomerList(this.cParams.customerType)?.subscribe({next:t=>{null!=t&&(this.customersForPrint=t),this.isPrintPDF=!1},error:t=>{this.toastr.error(t,"Error enccountered"),this.isPrintPDF=!1}})}generatePDF(){this.isPrintPDF=!0,this.customersForPrint.length>0&&this.customersForPrint[0].customerType===this.cParams.customerType||this.loadCustomerList(),this.printtitle="Customer List for customer Type "+this.cParams.customerType}closePrintSection(){this.isPrintPDF=!1}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(b.h),e.rXU(u.Ix),e.rXU(g.G),e.rXU(f.tw),e.rXU(w.I8))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-customer-list"]],viewQuery:function(i,n){if(1&i&&e.GBs(B,5),2&i){let s;e.mGM(s=e.lsd())&&(n.searchTerm=s.first)}},decls:50,vars:8,consts:[["style","display: inline-block;","previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"totalItems","itemsPerPage","maxSize","pageChanged",4,"ngIf"],["type","text","placeholder","Search",1,"stdd","fa-solid","fa-magnifying-glass","w200",3,"keyup.enter"],["search",""],["title","search the text entered",1,"btn",3,"click"],[1,"lbl","w100",2,"text-align","right","margin-right","5px"],["type","radio","id","customerType","name","customerType","value","customer",1,"btn","inputcheck","form-check-input",3,"ngModel","ngModelChange"],["type","radio","id","customerType","name","customerType","value","associate",1,"btn","inputcheck","form-check-input",3,"ngModel","ngModelChange"],["type","radio","id","customerType","name","customerType","value","vendor",1,"btn","inputcheck","form-check-input",3,"ngModel","ngModelChange"],["title","retrieves records from database based upon customerType selected",1,"btn",3,"click"],["title","resets search parameters",1,"btn",3,"click"],["title","Add new ",1,"btn",3,"click"],["printSectionId","print-section","printTitle","printTitle","ngxPrint","","title","shows the report in pdf format and enables printing",1,"btn",2,"display","inline-block","margin-left","50px",3,"previewOnly","useExistingCss","click"],["title","close this page",1,"btn",3,"click"],[1,"my-0"],[1,"lbl","w35",2,"margin-left","25px !important"],[1,"lbl","w50",2,"margin-left","10px"],[1,"lbl","w200"],[1,"lbl","w125"],[1,"lbl","w100"],[4,"ngIf"],["class","col-9",4,"ngIf"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",2,"display","inline-block",3,"totalItems","itemsPerPage","maxSize","pageChanged"],[1,"col-9"],["id","print-section",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"isPrintPDF","dto","editEvent","deleteClicked","feedbackEvent","EvaluationEvent","displayHistoryEvent"],["id","print-section"],[2,"font-weight","bold","font-size","large"],[3,"isPrintPDF","dto"]],template:function(i,n){1&i&&(e.j41(0,"h4"),e.EFF(1,"Listing of Customers/Vendors/Associates"),e.k0s(),e.DNE(2,V,2,3,"pagination",0),e.j41(3,"input",1,2),e.bIt("keyup.enter",function(){return n.onSearch()}),e.k0s(),e.j41(5,"button",3),e.bIt("click",function(){return n.onSearch()}),e.j41(6,"mat-icon"),e.EFF(7,"find"),e.k0s()(),e.j41(8,"label",4),e.EFF(9,"Type"),e.k0s(),e.j41(10,"span"),e.EFF(11,"Customer"),e.k0s(),e.j41(12,"input",5),e.bIt("ngModelChange",function(c){return n.cParams.customerType=c}),e.k0s(),e.j41(13,"span"),e.EFF(14,"Associate"),e.k0s(),e.j41(15,"input",6),e.bIt("ngModelChange",function(c){return n.cParams.customerType=c}),e.k0s(),e.j41(16,"span"),e.EFF(17,"Vendor"),e.k0s(),e.j41(18,"input",7),e.bIt("ngModelChange",function(c){return n.cParams.customerType=c}),e.k0s(),e.j41(19,"button",8),e.bIt("click",function(){return n.applyCustomerType()}),e.j41(20,"mat-icon"),e.EFF(21,"check"),e.k0s()(),e.j41(22,"button",9),e.bIt("click",function(){return n.onReset()}),e.j41(23,"mat-icon"),e.EFF(24,"refresh"),e.k0s()(),e.j41(25,"button",10),e.bIt("click",function(){return n.addClicked()}),e.j41(26,"mat-icon"),e.EFF(27,"add_box"),e.k0s()(),e.j41(28,"button",11),e.bIt("click",function(){return n.generatePDF()}),e.j41(29,"mat-icon"),e.EFF(30,"print"),e.k0s()(),e.j41(31,"button",12),e.bIt("click",function(){return n.close()}),e.j41(32,"mat-icon"),e.EFF(33,"cancel"),e.k0s()(),e.nrm(34,"hr",13),e.j41(35,"label",14),e.EFF(36,"Sel"),e.k0s(),e.j41(37,"label",15),e.EFF(38,"Type"),e.k0s(),e.j41(39,"label",16),e.EFF(40,"Customer Name"),e.k0s(),e.j41(41,"label",17),e.EFF(42,"Known As"),e.k0s(),e.j41(43,"label",18),e.EFF(44,"City"),e.k0s(),e.j41(45,"label",17),e.EFF(46,"Country"),e.k0s(),e.nrm(47,"hr"),e.DNE(48,$,2,0,"div",19),e.DNE(49,W,3,2,"div",20)),2&i&&(e.R7$(2),e.Y8G("ngIf",void 0!==n.pagination),e.R7$(10),e.Y8G("ngModel",n.cParams.customerType),e.R7$(3),e.Y8G("ngModel",n.cParams.customerType),e.R7$(3),e.Y8G("ngModel",n.cParams.customerType),e.R7$(10),e.Y8G("previewOnly",!1)("useExistingCss",!0),e.R7$(20),e.Y8G("ngIf",!n.customerDtos),e.R7$(1),e.Y8G("ngIf",n.customerDtos))},dependencies:[p.Sq,p.bT,D.eK,r.me,r.Fm,r.BC,r.vS,v.An,j.GV,A],styles:['.w35[_ngcontent-%COMP%]{width:35px}.w50[_ngcontent-%COMP%]{width:50px}.w75[_ngcontent-%COMP%]{width:75px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w200[_ngcontent-%COMP%]{width:200px}.btn[_ngcontent-%COMP%]{color:#f0f8ff}.stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin-left:2px;margin-right:2px;word-wrap:normal;vertical-align:top}.lbl[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin-left:2px;margin-right:2px;vertical-align:top;word-wrap:normal;vertical-align:middle;font-weight:700}.inputCheck[_ngcontent-%COMP%]{display:inline-block;margin-right:5px;width:40px;margin-left:10px;border:2px;border-color:#000}input[type=radio][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:20px;height:20px;border:1px solid #fff;border-radius:50%;margin-right:10px;background-color:#c3b1b1;position:relative}input[type=radio][_ngcontent-%COMP%]:checked:before{content:"";display:block;width:12px;height:12px;background-color:#4a0fec;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);animation:appear .8s}.btn[_ngcontent-%COMP%]{color:#f0f8ff;vertical-align:middle;font-size:small}']})}return o})();var y=l(7673);class q{constructor(){this.id=0,this.customerType="",this.customerName="",this.knownAs="",this.add="",this.add2="",this.city="",this.pin="",this.district="",this.state="",this.country="",this.email="",this.website="",this.phone="",this.phone2="",this.logoUrl="",this.customerStatus="Active",this.createdOn=new Date("1900-01-01"),this.introduction="",this.customerIndustries=[],this.customerOfficials=[],this.agencySpecialties=[],this.vendorSpecialties=[],this.lastActive=new Date("1900-01-01")}}var T=l(6295);function Q(o,a){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",43),e.nrm(2,"app-text-input",44)(3,"app-text-input",45)(4,"app-text-input",46)(5,"app-text-input",47)(6,"app-text-input",48)(7,"app-text-input",49)(8,"app-text-input",50)(9,"app-text-input",51)(10,"app-text-input",52)(11,"app-text-input",53),e.j41(12,"button",54),e.bIt("click",function(){const s=e.eBV(t).index,c=e.XpG(2);return e.Njj(c.removeCustomerOfficial(s))}),e.k0s()()()}if(2&o){const t=a.index;e.R7$(1),e.Y8G("formGroupName",t),e.R7$(1),e.Y8G("label","Title"),e.R7$(1),e.Y8G("label","Title"),e.R7$(1),e.Y8G("label","Official Name"),e.R7$(1),e.Y8G("label","User Name"),e.R7$(1),e.Y8G("label","Known As"),e.R7$(1),e.Y8G("label","Designation"),e.R7$(1),e.Y8G("label","Divn"),e.R7$(1),e.Y8G("label","Phone"),e.R7$(1),e.Y8G("label","Phone"),e.R7$(1),e.Y8G("label","Email")}}function Z(o,a){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"form",4)(2,"label",5),e.EFF(3,"Name:"),e.k0s(),e.nrm(4,"app-text-input",6),e.j41(5,"label",7),e.EFF(6,"Known As:"),e.k0s(),e.nrm(7,"app-text-input",8),e.j41(8,"label",9),e.EFF(9,"Type:"),e.k0s(),e.nrm(10,"input",10),e.EFF(11,"Customer "),e.nrm(12,"input",11),e.EFF(13,"associate "),e.nrm(14,"input",12),e.EFF(15,"Vendor "),e.nrm(16,"br"),e.j41(17,"label",5),e.EFF(18,"Address:"),e.k0s(),e.nrm(19,"app-text-input",13)(20,"app-text-input",14)(21,"br"),e.j41(22,"label",5),e.EFF(23,"City:"),e.k0s(),e.nrm(24,"app-text-input",15),e.j41(25,"label",16),e.EFF(26,"PIN:"),e.k0s(),e.nrm(27,"app-text-input",17),e.j41(28,"label",18),e.EFF(29,"District:"),e.k0s(),e.nrm(30,"app-text-input",19),e.j41(31,"label",20),e.EFF(32,"Country:"),e.k0s(),e.j41(33,"div",21),e.nrm(34,"app-text-input",22),e.k0s(),e.nrm(35,"br"),e.j41(36,"label",23),e.EFF(37,"email:"),e.k0s(),e.nrm(38,"app-text-input",24),e.j41(39,"label",25),e.EFF(40,"Website:"),e.k0s(),e.nrm(41,"app-text-input",26)(42,"br"),e.j41(43,"label",5),e.EFF(44,"Phone:"),e.k0s(),e.nrm(45,"app-text-input",27),e.j41(46,"label",28),e.EFF(47,"Phone2:"),e.k0s(),e.nrm(48,"app-text-input",29)(49,"br"),e.j41(50,"label",30),e.EFF(51,"Introduction:"),e.k0s(),e.nrm(52,"textarea",31)(53,"br"),e.j41(54,"div",32),e.EFF(55,"Officials"),e.k0s(),e.nrm(56,"hr",33),e.j41(57,"label",34),e.EFF(58,"Title"),e.k0s(),e.j41(59,"label",34),e.EFF(60,"Gender"),e.k0s(),e.j41(61,"label",35),e.EFF(62,"Official Name"),e.k0s(),e.j41(63,"label",36),e.EFF(64,"Username"),e.k0s(),e.j41(65,"label",37),e.EFF(66,"Known As"),e.k0s(),e.j41(67,"label",38),e.EFF(68,"Designation"),e.k0s(),e.j41(69,"label",36),e.EFF(70,"Divn"),e.k0s(),e.j41(71,"label",37),e.EFF(72,"Phone"),e.k0s(),e.j41(73,"label",37),e.EFF(74,"Mobile"),e.k0s(),e.j41(75,"label",38),e.EFF(76,"Email"),e.k0s(),e.j41(77,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addCustomerOfficial())}),e.k0s(),e.nrm(78,"hr",40),e.j41(79,"div",41),e.DNE(80,Q,13,11,"div",42),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("formGroup",t.form),e.R7$(3),e.Y8G("label","Customer Name"),e.R7$(3),e.Y8G("label","Known As"),e.R7$(12),e.Y8G("label","Address"),e.R7$(1),e.Y8G("label","Address2"),e.R7$(4),e.Y8G("label","City"),e.R7$(3),e.Y8G("label","Pin"),e.R7$(3),e.Y8G("label","District"),e.R7$(4),e.Y8G("label","Country"),e.R7$(4),e.Y8G("label","Email"),e.R7$(3),e.Y8G("label","Website"),e.R7$(4),e.Y8G("label","Phone"),e.R7$(3),e.Y8G("label","Phone"),e.R7$(32),e.Y8G("ngForOf",t.customerOfficials.controls)}}let ee=(()=>{class o{constructor(t,i,n,s,c,d){this.toastr=t,this.service=i,this.activatedRoute=n,this.fb=s,this.confirm=c,this.router=d,this.bsValueDate=new Date,this.bsValue=new Date,this.returnUrl="",this.form=new r.gE({});let m=this.router.getCurrentNavigation();m?.extras&&m.extras.state&&(m.extras.state.returnUrl&&(this.returnUrl=m.extras.state.returnUrl),m.extras.state.user&&(this.user=m.extras.state.user))}ngOnInit(){this.activatedRoute.data.subscribe(t=>{this.customer=t.customer,void 0!==this.customer&&this.InitializeForm(this.customer)})}InitializeForm(t){this.form=this.fb.group({id:t.id,customerName:[t.customerName,r.k0.required],knownAs:[t.knownAs,[r.k0.required,r.k0.minLength(5)]],customerType:[t.customerType,r.k0.required],add:t.add,add2:t.add2,city:[t.city,r.k0.required],pin:t.pin,district:t.district,state:t.state,country:t.country,email:[t.email,r.k0.required],website:t.website,phone:t.phone,phone2:t.phone2,customerStatus:t.customerStatus,createdOn:t.createdOn,introduction:t.introduction,customerOfficials:this.fb.array(t.customerOfficials.map(i=>this.fb.group({id:i.id,appUserId:i.appUserId,customerId:i.customerId,gender:[i.gender,[r.k0.required,r.k0.maxLength(1)]],title:[i.title,r.k0.required],officialName:[i.officialName,[r.k0.required,r.k0.minLength(4),r.k0.maxLength(50)]],designation:i.designation,divn:[i.divn,r.k0.required],phoneNo:i.phoneNo,knownAs:[i.knownAs,[r.k0.required,r.k0.minLength(4),r.k0.maxLength(25)]],mobile:i.mobile,email:[i.email,r.k0.required],status:i.status,priorityHR:i.priorityHR,priorityAdmin:i.priorityAdmin,priorityAccount:i.priorityAccount,userName:i.userName}))),agencySpecialties:this.fb.array(t.agencySpecialties.map(i=>this.fb.group({id:i.id,customerId:i.customerId,professionId:i.professionId,name:i.name})))})}get customerOfficials(){return this.form.get("customerOfficials")}newCustomerOfficial(){return this.fb.group({id:0,appUserId:0,customerId:this.customer?.id,gender:["M",[r.k0.required,r.k0.maxLength(1)]],title:"Mr.",officialName:["",[r.k0.required,r.k0.minLength(4),r.k0.maxLength(50)]],designation:"",knownAs:["",[r.k0.required,r.k0.minLength(4),r.k0.maxLength(25)]],divn:"",phoneNo:"",mobile:"",email:"",status:"Active",priorityHR:1,priorityAdmin:1,priorityAccount:1,userName:""})}addCustomerOfficial(){this.customerOfficials.push(this.newCustomerOfficial())}removeCustomerOfficial(t){this.confirm.confirm("Confirm Delete","This will delete customer official.  To delete from the database as well, remember to SAVE this form before you close it").subscribe({next:i=>{i&&this.customerOfficials.removeAt(t)}})}get vendorSpecialties(){return this.form.get("vendorSpecialties")}newVendorSpecialty(){return this.fb.group({id:0,customerId:this.customer?.id,vendorFacilityId:0,name:""})}addVendorSpecialty(){this.vendorSpecialties.push(this.newVendorSpecialty())}removeVendorSpecialty(t){this.confirm.confirm("Confirm Delete","This will delete Vendor specialty.  To delete from the database as well, remember to SAVE this form before you close it").subscribe({next:i=>{i&&this.vendorSpecialties.removeAt(t)}})}updateCustomer(){var t=this.form.value;t.id>0?this.service.updateCustomer(t).subscribe({next:i=>{""!==i.successString?(this.toastr.success("The Customer is successfully updated","success"),this.close()):""!==i.errorString&&this.toastr.warning(i.errorString,"Failed to update the customer")},error:i=>this.toastr.error(i.error?.details,"Error")}):this.service.register(t).subscribe({next:i=>{""!==i.errorString?this.toastr.warning(i.errorString,"Failure"):this.toastr.success("The entity was successfully inserted","Success")},error:i=>this.toastr.error(i,"Error in inserting the entity")})}close(){this.router.navigateByUrl(this.returnUrl)}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(f.tw),e.rXU(b.h),e.rXU(u.nX),e.rXU(r.ok),e.rXU(g.G),e.rXU(u.Ix))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-customer-edit"]],decls:9,vars:1,consts:[[1,"stdd"],[1,"btn","w25",2,"margin-left","200px",3,"click"],[1,"btn",3,"click"],[4,"ngIf"],[3,"formGroup"],[1,"lbl","w100"],["formControlName","customerName",1,"stdd","w300",3,"label"],[1,"lbl","w80"],["formControlName","knownAs",1,"stdd","w150",3,"label"],[1,"lbl","w80",2,"text-align","right"],["type","radio","id","customerType","name","customerType","formControlName","customerType","value","customer",1,"inputcheck","form-check-input"],["type","radio","id","customerType","name","customerType","formControlName","customerType","value","associate",1,"inputcheck","form-check-input"],["type","radio","id","customerType","name","customerType","formControlName","customerType","value","vendor",1,"inputcheck","form-check-input"],["formControlName","add",1,"stdd","w400",3,"label"],["formControlName","add2",1,"stdd","w400","ml-5",3,"label"],["formControlName","city",1,"stdd","w100","fSmall",3,"label"],[1,"lbl","w50",2,"margin-left","15px"],["formControlName","pin",1,"stdd","w75",3,"label"],[1,"lbl","w75","fSmall",2,"margin-left","5px"],["formControlName","district",1,"stdd","w100","fSmall",3,"label"],[1,"lbl","w75",2,"margin-left","5px"],[1,"stdd","w100","fSmall"],["formControlName","country",3,"label"],[1,"lbl","w100","fSmall"],["formControlName","email",1,"stdd","w250",3,"label"],[1,"lbl","w75",2,"margin-left","10px"],["formControlName","website",1,"stdd","w200",3,"label"],["formControlName","phone",1,"stdd","w125",3,"label"],[1,"lbl","w50","fSmall"],["formControlName","phone2",1,"stdd","w125",3,"label"],[2,"display","inline-block","vertical-align","top","width","100px"],["name","intro","id","intro","rows","2","cols","80","formControlName","introduction",2,"display","inline-block","margin-left","10px"],[1,"b","my-2"],[1,"my-1"],[1,"fSmaller","w50"],[1,"fSmaller","w175"],[1,"fSmaller","w100"],[1,"fSmaller","w125"],[1,"fSmaller","w150"],["title","add a new Customer Official",1,"btn","w25","fa","fa-plus",3,"click"],[1,"my-0",2,"border-style","double"],["formArrayName","customerOfficials"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["formControlName","title",1,"stdd1px","w50",3,"label"],["formControlName","gender",1,"stdd1px","w50",3,"label"],["formControlName","officialName",1,"stdd1px","w175",3,"label"],["formControlName","userName",1,"stdd1px","w100",3,"label"],["formControlName","knownAs",1,"stdd1px","w125",3,"label"],["formControlName","designation",1,"stdd1px","w150",3,"label"],["formControlName","divn",1,"stdd1px","w100",3,"label"],["formControlName","phoneNo",1,"stdd1px","w125",2,"text-align","right",3,"label"],["formControlName","mobile",1,"stdd1px","w125",3,"label"],["formControlName","email",1,"stdd1px","w175","fSmaller",3,"label"],[1,"btn","fa","fa-trash","red",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"h6",0),e.EFF(1,"Edit Customer"),e.k0s(),e.j41(2,"button",1),e.bIt("click",function(){return n.updateCustomer()}),e.j41(3,"mat-icon"),e.EFF(4,"save"),e.k0s()(),e.j41(5,"button",2),e.bIt("click",function(){return n.close()}),e.j41(6,"mat-icon"),e.EFF(7,"cancel"),e.k0s()(),e.DNE(8,Z,81,14,"div",3)),2&i&&(e.R7$(8),e.Y8G("ngIf",void 0!==n.customer))},dependencies:[p.Sq,p.bT,r.qT,r.me,r.Fm,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8,T.f,v.An],styles:['.lbl[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:small;font-weight:700;vertical-align:middle}.stdd[_ngcontent-%COMP%]{display:inline-block;margin:0 2px;font-size:small}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.stdd1px[_ngcontent-%COMP%]{display:inline-block;margin:0 1px;font-size:smaller}.w25[_ngcontent-%COMP%]{width:25px}.w35[_ngcontent-%COMP%]{width:35px}.w50[_ngcontent-%COMP%]{width:50px}.w60[_ngcontent-%COMP%]{width:60px}.w70[_ngcontent-%COMP%]{width:70px}.w75[_ngcontent-%COMP%]{width:75px}.w80[_ngcontent-%COMP%]{width:80px}.w100[_ngcontent-%COMP%]{width:100px}.w125[_ngcontent-%COMP%]{width:125px}.w150[_ngcontent-%COMP%]{width:150px}.w175[_ngcontent-%COMP%]{width:175px}.w250[_ngcontent-%COMP%]{width:250px}.w300[_ngcontent-%COMP%]{width:300px}.w400[_ngcontent-%COMP%]{width:400px}.fSmall[_ngcontent-%COMP%]{font-size:small}.fSmaller[_ngcontent-%COMP%]{font-size:smaller}.btn[_ngcontent-%COMP%]{color:#f0f8ff}.inputCheck[_ngcontent-%COMP%]{margin-right:5px;width:40px;margin-left:10px;border:2px;border-color:#000}input[type=radio][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:15px;height:15px;border:1px solid #fff;border-radius:50%;margin-right:5px;background-color:#c3b1b1;position:relative;vertical-align:middle}input[type=radio][_ngcontent-%COMP%]:checked:before{content:"";display:block;width:9px;height:9px;background-color:#4a0fec;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);animation:appear .8s}']})}return o})();var te=l(3587),ie=l(1626);let P=(()=>{class o{constructor(t){this.http=t,this.baseUrl=te.c.apiUrl}getCustomerReview(t){return this.http.get(this.baseUrl+"CustomerReview/customerreview/"+t)}getOrCreateCustomerReview(t){return this.http.get(this.baseUrl+"CustomerReview/getOrCreateObject/"+t)}updateCustomerReview(t){return this.http.put(this.baseUrl+"CustomerReview/customerreview",t)}postNewCustomerReview(t){return this.http.post(this.baseUrl+"CustomerReview/insertnew",t)}approveCustomerReviewItem(t){return this.http.put(this.baseUrl+"CustomerReview/approveReviewItem/"+t,{})}getCustomerReviewStatusData(){return this.http.get(this.baseUrl+"customerreview/customerReviewStatusData")}static#e=this.\u0275fac=function(i){return new(i||o)(e.KVO(ie.Qq))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var R=l(9375),ne=l(2510);function oe(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"The customer review does not exist. Press Create New Review to create a new Review"),e.k0s())}const I=function(){return{dateInputFormat:"YYYY-MM-DD"}};function se(o,a){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",14),e.nrm(2,"input",15),e.j41(3,"div",10),e.nrm(4,"ng-select",16),e.k0s(),e.j41(5,"div",7),e.nrm(6,"app-text-input",17),e.k0s(),e.j41(7,"div",8),e.nrm(8,"app-text-input",18),e.k0s(),e.nrm(9,"input",19),e.j41(10,"button",20),e.bIt("click",function(){const s=e.eBV(t).index,c=e.XpG(2);return e.Njj(c.removeItem(s))}),e.j41(11,"mat-icon"),e.EFF(12,"delete"),e.k0s()(),e.j41(13,"button",21),e.bIt("click",function(){const s=e.eBV(t).index,c=e.XpG(2);return e.Njj(c.approveItem(s))}),e.j41(14,"mat-icon"),e.EFF(15,"check"),e.k0s()()()()}if(2&o){const t=a.index,i=e.XpG(2);e.R7$(1),e.Y8G("formGroupName",t),e.R7$(1),e.Y8G("bsValue",i.bsValueDate)("bsConfig",e.lJ4(8,I)),e.R7$(2),e.Y8G("items",i.reviewStatus),e.R7$(2),e.Y8G("label","Remarks"),e.R7$(2),e.Y8G("label","Approved By"),e.R7$(1),e.Y8G("bsValue",i.bsValueDate)("bsConfig",e.lJ4(9,I))}}function re(o,a){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"form",5)(2,"div",6),e.EFF(3,"Customer"),e.k0s(),e.j41(4,"div",7),e.EFF(5),e.k0s(),e.nrm(6,"br"),e.j41(7,"div",6),e.EFF(8,"Current Status"),e.k0s(),e.j41(9,"div",8),e.EFF(10),e.k0s(),e.nrm(11,"hr"),e.j41(12,"label",9),e.EFF(13,"Date"),e.k0s(),e.j41(14,"label",10),e.EFF(15,"Status"),e.k0s(),e.j41(16,"label",7),e.EFF(17,"Description"),e.k0s(),e.j41(18,"label",8),e.EFF(19,"ApprovedBy"),e.k0s(),e.j41(20,"label",8),e.EFF(21,"On"),e.k0s(),e.j41(22,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addReviewItem())}),e.k0s(),e.j41(23,"div",12),e.DNE(24,se,16,10,"div",13),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("formGroup",t.form),e.R7$(4),e.Lme("",t.review.customerName,", ",t.review.city," "),e.R7$(5),e.JRh(t.review.currentStatus),e.R7$(14),e.Y8G("ngForOf",t.customerReviewItems.controls)}}let ae=(()=>{class o{constructor(t,i,n,s,c,d,m){this.toastr=t,this.service=i,this.activatedRoute=n,this.fb=s,this.bsModalRef=c,this.confirm=d,this.router=m,this.editEvent=new e.bkB,this.bsValueDate=new Date,this.bsValue=new Date,this.returnUrl="",this.form=new r.gE({}),this.reviewStatus=[{status:"Nice Infratructure"},{status:"Good HR Team"},{status:"Professional attitude"},{status:"Delivery as committed"},{status:"Nice presentation"},{status:"Insufficient infratructure"},{status:"Unprofessional attitude"},{status:"delayed delivery"},{status:"Irrelevant profiles"},{status:"Bad communication"}];let h=this.router.getCurrentNavigation();h?.extras&&h.extras.state&&(h.extras.state.returnUrl&&(this.returnUrl=h.extras.state.returnUrl),h.extras.state.user&&(this.user=h.extras.state.user))}ngOnInit(){this.activatedRoute.data.subscribe(t=>{this.review=t.review,void 0!==this.review&&this.InitializeForm(this.review)})}InitializeForm(t){this.form=this.fb.group({id:t.id,customerId:t.customerId,customerName:t.customerName,city:t.city,currentStatus:t.currentStatus,customerReviewItems:this.fb.array(t.customerReviewItems.map(i=>this.fb.group({id:i.id,transactionDate:i.transactionDate,customerReviewId:i.customerReviewId,customerReviewStatus:i.customerReviewStatus,remarks:i.remarks,approvedOn:i.approvedOn,approvedByUsername:i.approvedByUsername})))})}get customerReviewItems(){return this.form.get("customerReviewItems")}newReviewItem(){return this.fb.group({id:0,transactionDate:new Date,customerReviewId:this.review?.id,customerReviewStatus:"",remarks:"",approvedOn:new Date,approvedByUsername:this.user?.userName})}addReviewItem(){this.customerReviewItems.push(this.newReviewItem())}removeItem(t){this.confirm.confirm("Confirm Delete","This will delete review item.  To delete from the database as well, remember to SAVE this form before you close it").subscribe({next:i=>{i&&this.customerReviewItems.removeAt(t)}})}updateReview(){var t=this.form.value;0===t.id?this.service.postNewCustomerReview(t).subscribe({next:i=>{i&&(this.toastr.success("The customer review is inserted in database","success"),this.editEvent.emit(!0))}}):this.service.updateCustomerReview(t).subscribe({next:i=>{i&&(this.toastr.success("The customer review is updated in the database","success"),this.editEvent.emit(!0))}})}approveItem(t){var i=this.customerReviewItems.at(t).get("id")?.value;const s=this.service.approveCustomerReviewItem(+i);this.confirm.confirm("confirm Approve","This will set the selected transaction as approved, provided the user has required credentials").pipe((0,E.p)(d=>d),(0,x.n)(()=>s)).subscribe(d=>{d?this.toastr.success("Customer Review Item set as updated","Approval set"):this.toastr.error("Error in setting the customer review item as Approved","failed to approve")})}goback(){this.router.navigateByUrl(this.returnUrl)}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(f.tw),e.rXU(P),e.rXU(u.nX),e.rXU(r.ok),e.rXU(w.Y$),e.rXU(g.G),e.rXU(u.Ix))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-cust-rvw-edit-modal"]],outputs:{editEvent:"editEvent"},decls:11,vars:3,consts:[[2,"display","inline-block"],[1,"btn","green",2,"margin-left","50px",3,"disabled","click"],[1,"btn",2,"margin-left","200px",3,"click"],[1,"my-2","container"],[4,"ngIf"],[3,"formGroup"],[1,"stdd","w150","b"],[1,"stdd","w250"],[1,"stdd","w100"],[1,"stdd","w80"],[1,"stdd","w150"],[1,"btn","fa","fa-plus",2,"color","aliceblue",3,"click"],["formArrayName","customerReviewItems"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["type","text","placeholder","date","formControlName","transactionDate","bsDatepicker","",1,"stdd","w100",3,"bsValue","bsConfig"],["bindLabel","status","bindValue","status","labelForId","status","clearAllText","Clear","formControlName","customerReviewStatus",2,"border","color(from color srgb r g b)",3,"items"],["formControlName","remarks",3,"label"],["formControlName","approvedByUsername",3,"label"],["type","text","placeholder","approved on","formControlName","approvedOn","bsDatepicker","",1,"stdd","w100",3,"bsValue","bsConfig"],[1,"btn","red",3,"click"],[1,"btn","green",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"h4",0),e.EFF(1,"Edit Customer Review"),e.k0s(),e.j41(2,"button",1),e.bIt("click",function(){return n.updateReview()}),e.j41(3,"mat-icon"),e.EFF(4,"save"),e.k0s()(),e.j41(5,"button",2),e.bIt("click",function(){return n.goback()}),e.j41(6,"mat-icon"),e.EFF(7,"cancel"),e.k0s()(),e.j41(8,"div",3),e.DNE(9,oe,2,0,"div",4),e.DNE(10,re,25,5,"div",4),e.k0s()),2&i&&(e.R7$(2),e.Y8G("disabled",!n.form.dirty),e.R7$(7),e.Y8G("ngIf",!n.review),e.R7$(1),e.Y8G("ngIf",n.review))},dependencies:[p.Sq,p.bT,R.pc,R.p0,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8,ne.vr,T.f,v.An],styles:[".stdd[_ngcontent-%COMP%]{display:inline-block;font-size:small;margin:0 2px;padding:0;vertical-align:top;word-wrap:normal!important}.vMiddle[_ngcontent-%COMP%]{vertical-align:middle}.b[_ngcontent-%COMP%]{font-weight:700}.red[_ngcontent-%COMP%]{color:red}.green[_ngcontent-%COMP%]{color:green}.btn[_ngcontent-%COMP%]{color:#f0f8ff}.w25[_ngcontent-%COMP%]{width:25px}.w80[_ngcontent-%COMP%]{width:80px}.w100[_ngcontent-%COMP%]{width:100px}.w110[_ngcontent-%COMP%]{width:110px}.w150[_ngcontent-%COMP%]{width:150px;word-wrap:normal}.w125[_ngcontent-%COMP%]{width:125px}.w200[_ngcontent-%COMP%]{width:200px}.w250[_ngcontent-%COMP%]{width:250px}"]})}return o})();var ce=l(3265),de=l(9173),ue=l(5323);function me(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"li"),e.EFF(3,"This option will upload your Profession Excel File, read the data and insert into the database."),e.k0s(),e.j41(4,"li"),e.EFF(5,"About Excel Sheet formatting, this option has the following requirements:"),e.k0s(),e.j41(6,"li"),e.EFF(7,"The file must be an Excel Workbook, with XLSX extension. Column Titles should be in row 4"),e.k0s(),e.j41(8,"li"),e.EFF(9,"The Worksheet name must be named 'Sheet1'"),e.k0s(),e.j41(10,"li"),e.EFF(11,"Data should begin from row 5th row."),e.k0s()(),e.j41(12,"div",12)(13,"li"),e.EFF(14,"This option will upload your Prospective Excel File downloaded from TimesJob, read the data and insert into the database."),e.k0s(),e.j41(15,"li"),e.EFF(16,"About Excel Sheet formatting, this option has the following requirements:"),e.k0s(),e.j41(17,"li"),e.EFF(18,"The Worksheet name must be named 'Sheet1'"),e.k0s(),e.j41(19,"li"),e.EFF(20,"The OrderItem Id should be in row 2, and column 1, value in col 3"),e.k0s(),e.j41(21,"li"),e.EFF(22,"Source tag should be in row 2 col 3, value in column 4"),e.k0s(),e.j41(23,"li"),e.EFF(24,"The file must be an Excel Workbook, with XLSX extension. Column Titles should be in row 4"),e.k0s(),e.j41(25,"li"),e.EFF(26,"Data should begin from row 5th row."),e.k0s()(),e.nrm(27,"br"),e.j41(28,"input",13),e.bIt("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onProspectiveFileInputChange(n))}),e.k0s(),e.j41(29,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportProspectiveFile())}),e.k0s(),e.j41(30,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeProspectiveFileInput())}),e.k0s()()}}function pe(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"li"),e.EFF(3,"This option will upload your Profession Excel File, read the data and insert into the database."),e.k0s(),e.j41(4,"li"),e.EFF(5,"About Excel Sheet formatting, this option has the following requirements:"),e.k0s(),e.j41(6,"li"),e.EFF(7,"The Worksheet name must be named 'MySheet'"),e.k0s(),e.j41(8,"li"),e.EFF(9,"The file must be an Excel Workbook, with XLSX extension. Column Titles should be in row 4"),e.k0s(),e.j41(10,"li"),e.EFF(11,"Data should begin from row 5th row."),e.k0s()(),e.nrm(12,"br"),e.j41(13,"input",16),e.bIt("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onFileInputChange(n))}),e.k0s(),e.j41(14,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportProfessionFile())}),e.k0s(),e.j41(15,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeProfessionFileInput())}),e.k0s()()}}function he(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"li"),e.EFF(3,"This option will upload your Prospective Excel File downloaded from Naukri.Com, read the data and insert into the database."),e.k0s(),e.j41(4,"li"),e.EFF(5,"About Excel Sheet formatting, this option has the following requirements:"),e.k0s(),e.j41(6,"li"),e.EFF(7,"The Worksheet name must be named 'MySheet'"),e.k0s(),e.j41(8,"li"),e.EFF(9,"CategoryRef : In Row 2, the label 'CategoryRef' should be in column 1, and its value should be in Column 2"),e.k0s(),e.j41(10,"li"),e.EFF(11,"Source: In Row 2, the label 'Source' should be in Row 2, col 3, value in column 4"),e.k0s(),e.j41(12,"li"),e.EFF(13,"The file must be an Excel Workbook, with XLSX extension. Column Titles should be in row 4"),e.k0s(),e.j41(14,"li"),e.EFF(15,"Data should begin from row 5th row."),e.k0s()(),e.nrm(16,"br"),e.j41(17,"input",18),e.bIt("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onNaukriProspectiveFileInputChange(n))}),e.k0s(),e.j41(18,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportNaukriProspectiveFile())}),e.k0s(),e.j41(19,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeNaukriProspectiveFileInput())}),e.k0s()()}}function fe(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"li"),e.EFF(3,"This option will upload your Candidate Excel File, read the data and insert into the database."),e.k0s(),e.j41(4,"li"),e.EFF(5,"About Excel Sheet formatting, this option has the following requirements:"),e.k0s(),e.j41(6,"li"),e.EFF(7,"The Worksheet name must be named 'Sheet1'"),e.k0s(),e.j41(8,"li"),e.EFF(9,"The file must be an Excel Workbook, with XLSX extension. Column Titles should be in row 2"),e.k0s(),e.j41(10,"li"),e.EFF(11,"Data should begin from row 3rd row."),e.k0s()(),e.nrm(12,"br"),e.j41(13,"input",13),e.bIt("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onCandidateFileInputChange(n))}),e.k0s(),e.j41(14,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCandidateFile())}),e.k0s(),e.j41(15,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeCandidateFileInput())}),e.k0s()()}}function ve(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"li"),e.EFF(3,"This option will upload your Customer Excel File, read the data and insert into the database."),e.k0s(),e.j41(4,"li"),e.EFF(5,"This option needs following requirements to be met:"),e.k0s(),e.j41(6,"li"),e.EFF(7,"The Worksheet name must be named 'Sheet1'"),e.k0s(),e.j41(8,"li"),e.EFF(9,"The file must be an Excel Workbook, with XLSX extension. Column Titles should be in row 2"),e.k0s(),e.j41(10,"li"),e.EFF(11,"Data should begin from row 3rd row."),e.k0s(),e.j41(12,"li"),e.EFF(13,"Required Values are: "),e.j41(14,"ul"),e.EFF(15,"Customer Name - Min 5 characters, max 100 characters."),e.k0s(),e.j41(16,"ul"),e.EFF(17,"Known As - Min 5 characters, Max 15 characters"),e.k0s(),e.j41(18,"ul"),e.EFF(19,"City - min 4 characters, max 50 characters"),e.k0s(),e.j41(20,"ul"),e.EFF(21,"Email - a valid email address"),e.k0s()(),e.j41(22,"li"),e.EFF(23,"Data should begin from row 3rd row."),e.k0s()(),e.nrm(24,"br"),e.j41(25,"input",21),e.bIt("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onCustomerFileInputChange(n))}),e.k0s(),e.j41(26,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCustomerFile())}),e.k0s(),e.j41(27,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeCustomerFileInput())}),e.k0s()()}}function be(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"li"),e.EFF(3,"This option will upload your Profession Excel File, read the data and insert into the database."),e.k0s(),e.j41(4,"li"),e.EFF(5,"This option needs following requirements to be met:"),e.k0s(),e.j41(6,"li"),e.EFF(7,"The file must be an Excel Workbook, with XLSX extension. Column Titles should be in row 2"),e.k0s(),e.j41(8,"li"),e.EFF(9,"The Worksheet name must be named 'Sheet1'"),e.k0s(),e.j41(10,"li"),e.EFF(11,"Data should begin from row 5th row."),e.k0s(),e.j41(12,"ul"),e.EFF(13," Following fields are required: "),e.j41(14,"li",24),e.EFF(15,"Profession Name"),e.k0s(),e.j41(16,"li",24),e.EFF(17,"Profession Group"),e.k0s()()(),e.nrm(18,"br"),e.j41(19,"input",21),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onEmployeeFileInputChange(n))}),e.k0s(),e.j41(20,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportEmployeeFile())}),e.k0s(),e.j41(21,"button",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeEmployeeFileInput())}),e.k0s()()}}function ge(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"li"),e.EFF(3,"This option will upload your Orders Excel File, read the data and insert into the database."),e.k0s(),e.j41(4,"li"),e.EFF(5,"This option needs following requirements to be met:"),e.k0s(),e.j41(6,"li"),e.EFF(7,"The Worksheet name must be named 'Sheet1'"),e.k0s(),e.j41(8,"li"),e.EFF(9,"The file must be an Excel Workbook, with XLSX extension. Column Titles should be in row 2"),e.k0s(),e.j41(10,"li"),e.EFF(11,"Data should begin from row 3rd row."),e.k0s()(),e.nrm(12,"br"),e.j41(13,"input",21),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onOrderFileInputChange(n))}),e.k0s(),e.j41(14,"button",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportOrderFile())}),e.k0s(),e.j41(15,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeOrderFileInput())}),e.k0s()()}}function _e(o,a){if(1&o&&(e.j41(0,"div",11)(1,"div",12)(2,"li"),e.EFF(3,"This option will upload your Employee Excel File, read the data and insert into the database."),e.k0s(),e.j41(4,"li"),e.EFF(5,"This option needs following requirements to be met:"),e.k0s(),e.j41(6,"li"),e.EFF(7,"The Worksheet name must be named 'Sheet1'"),e.k0s(),e.j41(8,"li"),e.EFF(9,"The file must be an Excel Workbook, with XLSX extension. Column Titles should be in row 2"),e.k0s(),e.j41(10,"li"),e.EFF(11,"Data should begin from row 3rd row."),e.k0s(),e.j41(12,"ul"),e.EFF(13," Following fields are required: "),e.j41(14,"li",24),e.EFF(15,"First Name"),e.k0s(),e.j41(16,"li",24),e.EFF(17,"Known As"),e.k0s(),e.j41(18,"li",24),e.EFF(19,"Position"),e.k0s()()(),e.nrm(20,"br"),e.DNE(21,be,22,0,"div",10),e.DNE(22,ge,16,0,"div",10),e.k0s()),2&o){const t=e.XpG();e.R7$(21),e.Y8G("ngIf",t.uploadProfessionExcel),e.R7$(1),e.Y8G("ngIf",t.uploadOrderExcel)}}let M=(()=>{class o{constructor(t,i,n){this.toastr=t,this.accountService=i,this.catService=n,this.uploadExcel=!1,this.uploadNaukriExcel=!1,this.uploadCustomerExcel=!1,this.uploadEmployeeExcel=!1,this.uploadOrderExcel=!1,this.uploadCandidateExcel=!1,this.uploadProfessionExcel=!1,this.formData=new FormData,this.accountService.currentUser$.pipe((0,C.s)(1)).subscribe({next:s=>{s&&(this.user=s)}})}toggleProfessionExcel(){this.uploadProfessionExcel=!this.uploadProfessionExcel,this.uploadNaukriExcel=!1,this.uploadExcel=!1,this.uploadCustomerExcel=!1,this.uploadCandidateExcel=!1,this.uploadEmployeeExcel=!1,this.uploadOrderExcel=!1,console.log("rglprof",this.uploadProfessionExcel)}toggleProspectiveExcel(){this.uploadExcel=!this.uploadExcel,this.uploadNaukriExcel=!1,this.uploadCustomerExcel=!1,this.uploadCandidateExcel=!1,this.uploadEmployeeExcel=!1,this.uploadOrderExcel=!1,this.uploadProfessionExcel=!1}toggleNaukriProspectiveExcel(){this.uploadNaukriExcel=!this.uploadNaukriExcel,this.uploadExcel=!1,this.uploadCustomerExcel=!1,this.uploadCandidateExcel=!1,this.uploadEmployeeExcel=!1,this.uploadOrderExcel=!1,this.uploadProfessionExcel=!1}exportProspectiveFile(){this.accountService.copyProspectiveXLSFileToDB(this.formData).subscribe({next:t=>{""!==t.errorString&&this.toastr.warning(t.errorString,"Warning"),""!==t.successString&&this.toastr.success(t.successString,"Success")},error:t=>{console.log(t.error.text,"Error encountered"),this.toastr.error(t.error.text,"Error in copying the excel data to database")}})}exportNaukriProspectiveFile(){this.accountService.copyProspectiveNaukriXLSFileToDB(this.formData).subscribe({next:t=>{""!==t.errorString&&this.toastr.warning(t.errorString,"Warning"),""!==t.successString&&this.toastr.success(t.successString,"Success")},error:t=>{console.log(t.error.text,"Error encountered"),this.toastr.error(t.error.text,"Error in copying the excel data to database")}})}onFileInputChange(t){const s=t.target.files[0];this.formData=new FormData,s.size>0&&this.formData.append("file",s,s.name)}onNaukriProspectiveFileInputChange(t){const s=t.target.files[0];this.formData=new FormData,s.size>0&&this.formData.append("file",s,s.name)}onProspectiveFileInputChange(t){const s=t.target.files[0];this.formData=new FormData,s.size>0&&this.formData.append("file",s,s.name)}closeProfessionFileInput(){this.uploadProfessionExcel=!1}closeProspectiveFileInput(){this.uploadExcel=!1}closeNaukriProspectiveFileInput(){this.uploadNaukriExcel=!1}toggleCustomerExcel(){this.uploadCustomerExcel=!this.uploadCustomerExcel,this.uploadExcel=!1,this.uploadNaukriExcel=!1,this.uploadCandidateExcel=!1,this.uploadEmployeeExcel=!1,this.uploadOrderExcel=!1}exportCustomerFile(){this.accountService.copyCustomerXLSFileToDB(this.formData).subscribe({next:t=>{""===t?(this.toastr.success(t+" Customer file(s) copied to database","success"),this.uploadCustomerExcel=!1):this.toastr.warning(t,"Failed to copy the excel data to database")},error:t=>{console.log(t.error.details,"Error encountered"),this.toastr.error(t.error.details,"Error in copying the excel data to database")}})}closeCustomerFileInput(){this.uploadCustomerExcel=!1}onCustomerFileInputChange(t){this.formData=new FormData;const s=t.target.files[0];s.size>0&&this.formData.append("file",s,s.name)}toggleCandidatesExcel(){this.uploadCandidateExcel=!this.uploadCandidateExcel,this.uploadExcel=!1,this.uploadNaukriExcel=!1,this.uploadCustomerExcel=!1,this.uploadEmployeeExcel=!1,this.uploadOrderExcel=!1}exportProfessionFile(){this.catService.copyProfessionXLSFileToDB(this.formData).subscribe({next:t=>{""===t?(this.toastr.success(t+" file(s) copied to database","success"),this.uploadCandidateExcel=!1):this.toastr.warning(t,"Failed to copy the excel data to database")},error:t=>{console.log(t.error.details,"Error encountered"),this.toastr.error(t.error.details,"Error in copying the excel data to database")}})}exportCandidateFile(){this.accountService.copyCandidateXLSFileToDB(this.formData).subscribe({next:t=>{""===t?(this.toastr.success(t+" file(s) copied to database","success"),this.uploadCandidateExcel=!1):this.toastr.warning(t,"Failed to copy the excel data to database")},error:t=>{console.log(t.error.details,"Error encountered"),this.toastr.error(t.error.details,"Error in copying the excel data to database")}})}closeCandidateFileInput(){this.uploadCandidateExcel=!1}onCandidateFileInputChange(t){const s=t.target.files[0];s.size>0&&this.formData.append("file",s,s.name)}toggleEmployeesExcel(){this.uploadEmployeeExcel=!this.uploadEmployeeExcel,this.uploadExcel=!1,this.uploadNaukriExcel=!1,this.uploadCustomerExcel=!1,this.uploadCandidateExcel=!1,this.uploadOrderExcel=!1}exportEmployeeFile(){this.accountService.copyEmployeeXLSFileToDB(this.formData).subscribe({next:t=>{""===t||null===t?(this.toastr.success(t+" file(s) copied to database","success"),this.uploadEmployeeExcel=!1):this.toastr.warning(t,"Failed to copy the excel data to database")},error:t=>{console.log(t.error.details,"Error encountered"),this.toastr.error(t.error.details,"Error in copying the excel data to database")}})}closeEmployeeFileInput(){this.uploadEmployeeExcel=!1}onEmployeeFileInputChange(t){const s=t.target.files[0];s.size>0&&this.formData.append("file",s,s.name)}toggleOrdersExcel(){this.uploadOrderExcel=!this.uploadOrderExcel,this.uploadExcel=!1,this.uploadNaukriExcel=!1,this.uploadCustomerExcel=!1,this.uploadCandidateExcel=!1,this.uploadEmployeeExcel=!1}exportOrderFile(){this.accountService.copyOrderXLSFileToDB(this.formData).subscribe({next:t=>{isNaN(Number(t))?(this.toastr.success(t+" records copied to database","success"),this.uploadEmployeeExcel=!1):this.toastr.warning(t,"Failed to copy the excel data to database")},error:t=>{console.log(t.error.details,"Error encountered"),this.toastr.error(t.error.details,"Error in copying the excel data to database")}})}closeOrderFileInput(){this.uploadOrderExcel=!1}onOrderFileInputChange(t){const s=t.target.files[0];this.formData=new FormData,s.size>0&&this.formData.append("file",s,s.name)}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(f.tw),e.rXU(F.D),e.rXU(ue.M))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-excel-conversion-menu"]],decls:29,vars:6,consts:[[1,"container"],["title","import data from Excel Sheets - for Professions",1,"nav-item","menuStdd"],["routerLinkActive","active",1,"nav-link",3,"click"],["title","import data from Excel Sheets - downloaded from TimesJob.Com",1,"nav-item","menuStdd"],["title","import data from Excel Sheets downloaded from Naukri.Com",1,"nav-item","menuStdd"],["title","import data from Excel Sheets - for customer and Vendors",1,"nav-item","menuStdd"],["title","import data from Excel Sheets - for Candidate",1,"nav-item","menuStdd"],["title","import data from Excel Sheets - for Employees",1,"nav-item","menuStdd"],["title","import data from Excel Sheets - for Orders",1,"nav-item","menuStdd"],["title","go back to home","routerLink","/",1,"fa","fa-window-close","fa-2x"],["class","my-10",4,"ngIf"],[1,"my-10"],[2,"word-wrap","normal","width","800px"],["type","file","id","file","title","click to choose an excel file containing the prospective data",1,"stdd","d-flex","align-items-center",3,"change"],["title","convert the uploaded prospective file downloaded from TimesJob.Com to database",1,"stdd","btn","fa","fa-check","green","fa-2x",3,"click"],["title","close this prospective file input",1,"stdd","btn","fa","fa-window-close",3,"click"],["type","file","id","file","title","click to choose an excel file containing the profession data",1,"stdd","d-flex","align-items-center",3,"change"],["title","convert the uploaded profession file to database",1,"stdd","btn","fa","fa-check","green","fa-2x",3,"click"],["type","file","id","file","title","click to choose an excel file containing the prospective data from Naukri.Com",1,"stdd","d-flex","align-items-center",3,"change"],["title","convert the uploaded prospective file to database",1,"stdd","btn","fa","fa-check","green","fa-2x",3,"click"],["title","convert the uploaded Candidate file to database",1,"stdd","btn","fa","fa-check","green","fa-2x",3,"click"],["type","file","id","file",1,"stdd","d-flex","align-items-center","w450",3,"change"],["title","covert the uploaded customer excel file to database",1,"btn","btn","fa","fa-check","fa-2x",2,"color","aliceblue","display","inline-block",3,"click"],["title","close this customer file input",1,"btn","btn","fa","fa-window-close",2,"color","aliceblue","display","inline-block",3,"click"],[2,"font-size","smaller"],["title","covert the uploaded customer excel file to database",1,"btn","fa","fa-check","green","fa-2x",2,"color","aliceblue",3,"click"],["title","close this customer file input","routerLink","/",1,"btn","fa","fa-window-close","fa-2x",2,"color","aliceblue",3,"click"],["title","covert the uploaded customer excel file to database",1,"btn","fa","fa-check","green","fa-2x",3,"click"],["title","close this customer file input",1,"btn","fa","fa-window-close",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return n.toggleProfessionExcel()}),e.EFF(3,"Professions XL Conversion"),e.k0s()(),e.j41(4,"div",3)(5,"a",2),e.bIt("click",function(){return n.toggleProspectiveExcel()}),e.EFF(6,"Prospective XL Conversion-TimesJob"),e.k0s()(),e.j41(7,"div",4)(8,"a",2),e.bIt("click",function(){return n.toggleNaukriProspectiveExcel()}),e.EFF(9,"Prospective XL Conversion-Naukri"),e.k0s()(),e.j41(10,"div",5)(11,"a",2),e.bIt("click",function(){return n.toggleCustomerExcel()}),e.EFF(12,"Customer Excel Conversion"),e.k0s()(),e.j41(13,"div",6)(14,"a",2),e.bIt("click",function(){return n.toggleCandidatesExcel()}),e.EFF(15,"Conversion for Candidate"),e.k0s()(),e.j41(16,"div",7)(17,"a",2),e.bIt("click",function(){return n.toggleEmployeesExcel()}),e.EFF(18,"Conversion for Employees"),e.k0s()(),e.j41(19,"div",8)(20,"a",2),e.bIt("click",function(){return n.toggleOrdersExcel()}),e.EFF(21,"Conversion for Orders"),e.k0s()(),e.nrm(22,"button",9),e.DNE(23,me,31,0,"div",10),e.DNE(24,pe,16,0,"div",10),e.DNE(25,he,20,0,"div",10),e.DNE(26,fe,16,0,"div",10),e.DNE(27,ve,28,0,"div",10),e.DNE(28,_e,23,2,"div",10),e.k0s()),2&i&&(e.R7$(23),e.Y8G("ngIf",n.uploadExcel),e.R7$(1),e.Y8G("ngIf",n.uploadProfessionExcel),e.R7$(1),e.Y8G("ngIf",n.uploadNaukriExcel),e.R7$(1),e.Y8G("ngIf",n.uploadCandidateExcel),e.R7$(1),e.Y8G("ngIf",n.uploadCustomerExcel),e.R7$(1),e.Y8G("ngIf",n.uploadEmployeeExcel))},dependencies:[p.bT,u.Wk,u.wQ],styles:[".menuStdd[_ngcontent-%COMP%]{display:inline-block;width:100px;margin:3px;word-wrap:break-word;text-align:center;vertical-align:middle;border:2px;font-size:small;font-weight:700;cursor:pointer;border-style:ridge;height:5em}.btn[_ngcontent-%COMP%]{color:#f0f8ff}"]})}return o})();const ke=[{path:"",component:S},{path:"excelConversion",component:M},{path:"excelConversionOfNaukri",component:M},{path:"cvsreferred/:id",component:de.H},{path:"customers",component:J},{path:"customerEdit/:id",component:ee,resolve:{customer:o=>{var a=o.paramMap.get("id")??"0";if("0"===a){var t=o.paramMap.get("custType")??"customer",i=new q;return i.customerType=t,(0,y.of)(i)}return(0,e.WQX)(b.h).getCustomer(+a)}}},{path:"reviewEdit/:id",component:ae,resolve:{review:o=>{var a=o.paramMap.get("id");return null===a?(0,y.of)(null):(0,e.WQX)(P).getCustomerReview(+a)}}},{path:"feedbacklist",component:ce.J},{path:"userroles",component:O.I}];let Ce=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.$C({type:o});static#i=this.\u0275inj=e.G2t({imports:[p.MD,u.iI.forChild(ke),u.iI]})}return o})(),Fe=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.$C({type:o});static#i=this.\u0275inj=e.G2t({imports:[p.MD,Ce,N.G,v.m_,j.jN]})}return o})()}}]);